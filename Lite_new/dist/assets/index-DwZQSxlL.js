var $L=Object.defineProperty;var KL=(e,t,n)=>t in e?$L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Sg=(e,t,n)=>KL(e,typeof t!="symbol"?t+"":t,n);function YL(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Lr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wg={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA;function JL(){if(VA)return ql;VA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return ql.Fragment=t,ql.jsx=n,ql.jsxs=n,ql}var $A;function WL(){return $A||($A=1,wg.exports=JL()),wg.exports}var d=WL(),Ag={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function XL(){if(KA)return Re;KA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function C(L,U,se){this.props=L,this.context=U,this.refs=E,this.updater=se||N}C.prototype.isReactComponent={},C.prototype.setState=function(L,U){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,U,"setState")},C.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function P(){}P.prototype=C.prototype;function O(L,U,se){this.props=L,this.context=U,this.refs=E,this.updater=se||N}var M=O.prototype=new P;M.constructor=O,A(M,C.prototype),M.isPureReactComponent=!0;var k=Array.isArray;function I(){}var R={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function z(L,U,se){var te=se.ref;return{$$typeof:e,type:L,key:U,ref:te!==void 0?te:null,props:se}}function X(L,U){return z(L.type,U,L.props)}function Q(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function H(L){var U={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(se){return U[se]})}var fe=/\/+/g;function ae(L,U){return typeof L=="object"&&L!==null&&L.key!=null?H(""+L.key):U.toString(36)}function $(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(I,I):(L.status="pending",L.then(function(U){L.status==="pending"&&(L.status="fulfilled",L.value=U)},function(U){L.status==="pending"&&(L.status="rejected",L.reason=U)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function q(L,U,se,te,Ae){var _e=typeof L;(_e==="undefined"||_e==="boolean")&&(L=null);var me=!1;if(L===null)me=!0;else switch(_e){case"bigint":case"string":case"number":me=!0;break;case"object":switch(L.$$typeof){case e:case t:me=!0;break;case m:return me=L._init,q(me(L._payload),U,se,te,Ae)}}if(me)return Ae=Ae(L),me=te===""?"."+ae(L,0):te,k(Ae)?(se="",me!=null&&(se=me.replace(fe,"$&/")+"/"),q(Ae,U,se,"",function(Ie){return Ie})):Ae!=null&&(Q(Ae)&&(Ae=X(Ae,se+(Ae.key==null||L&&L.key===Ae.key?"":(""+Ae.key).replace(fe,"$&/")+"/")+me)),U.push(Ae)),1;me=0;var Be=te===""?".":te+":";if(k(L))for(var ie=0;ie<L.length;ie++)te=L[ie],_e=Be+ae(te,ie),me+=q(te,U,se,_e,Ae);else if(ie=w(L),typeof ie=="function")for(L=ie.call(L),ie=0;!(te=L.next()).done;)te=te.value,_e=Be+ae(te,ie++),me+=q(te,U,se,_e,Ae);else if(_e==="object"){if(typeof L.then=="function")return q($(L),U,se,te,Ae);throw U=String(L),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return me}function V(L,U,se){if(L==null)return L;var te=[],Ae=0;return q(L,te,"","",function(_e){return U.call(se,_e,Ae++)}),te}function ne(L){if(L._status===-1){var U=L._result;U=U(),U.then(function(se){(L._status===0||L._status===-1)&&(L._status=1,L._result=se)},function(se){(L._status===0||L._status===-1)&&(L._status=2,L._result=se)}),L._status===-1&&(L._status=0,L._result=U)}if(L._status===1)return L._result.default;throw L._result}var re=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},he={map:V,forEach:function(L,U,se){V(L,function(){U.apply(this,arguments)},se)},count:function(L){var U=0;return V(L,function(){U++}),U},toArray:function(L){return V(L,function(U){return U})||[]},only:function(L){if(!Q(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Re.Activity=g,Re.Children=he,Re.Component=C,Re.Fragment=n,Re.Profiler=i,Re.PureComponent=O,Re.StrictMode=r,Re.Suspense=h,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Re.__COMPILER_RUNTIME={__proto__:null,c:function(L){return R.H.useMemoCache(L)}},Re.cache=function(L){return function(){return L.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(L,U,se){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var te=A({},L.props),Ae=L.key;if(U!=null)for(_e in U.key!==void 0&&(Ae=""+U.key),U)!D.call(U,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&U.ref===void 0||(te[_e]=U[_e]);var _e=arguments.length-2;if(_e===1)te.children=se;else if(1<_e){for(var me=Array(_e),Be=0;Be<_e;Be++)me[Be]=arguments[Be+2];te.children=me}return z(L.type,Ae,te)},Re.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Re.createElement=function(L,U,se){var te,Ae={},_e=null;if(U!=null)for(te in U.key!==void 0&&(_e=""+U.key),U)D.call(U,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(Ae[te]=U[te]);var me=arguments.length-2;if(me===1)Ae.children=se;else if(1<me){for(var Be=Array(me),ie=0;ie<me;ie++)Be[ie]=arguments[ie+2];Ae.children=Be}if(L&&L.defaultProps)for(te in me=L.defaultProps,me)Ae[te]===void 0&&(Ae[te]=me[te]);return z(L,_e,Ae)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(L){return{$$typeof:c,render:L}},Re.isValidElement=Q,Re.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:ne}},Re.memo=function(L,U){return{$$typeof:f,type:L,compare:U===void 0?null:U}},Re.startTransition=function(L){var U=R.T,se={};R.T=se;try{var te=L(),Ae=R.S;Ae!==null&&Ae(se,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(I,re)}catch(_e){re(_e)}finally{U!==null&&se.types!==null&&(U.types=se.types),R.T=U}},Re.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Re.use=function(L){return R.H.use(L)},Re.useActionState=function(L,U,se){return R.H.useActionState(L,U,se)},Re.useCallback=function(L,U){return R.H.useCallback(L,U)},Re.useContext=function(L){return R.H.useContext(L)},Re.useDebugValue=function(){},Re.useDeferredValue=function(L,U){return R.H.useDeferredValue(L,U)},Re.useEffect=function(L,U){return R.H.useEffect(L,U)},Re.useEffectEvent=function(L){return R.H.useEffectEvent(L)},Re.useId=function(){return R.H.useId()},Re.useImperativeHandle=function(L,U,se){return R.H.useImperativeHandle(L,U,se)},Re.useInsertionEffect=function(L,U){return R.H.useInsertionEffect(L,U)},Re.useLayoutEffect=function(L,U){return R.H.useLayoutEffect(L,U)},Re.useMemo=function(L,U){return R.H.useMemo(L,U)},Re.useOptimistic=function(L,U){return R.H.useOptimistic(L,U)},Re.useReducer=function(L,U,se){return R.H.useReducer(L,U,se)},Re.useRef=function(L){return R.H.useRef(L)},Re.useState=function(L){return R.H.useState(L)},Re.useSyncExternalStore=function(L,U,se){return R.H.useSyncExternalStore(L,U,se)},Re.useTransition=function(){return R.H.useTransition()},Re.version="19.2.4",Re}var YA;function Rs(){return YA||(YA=1,Ag.exports=XL()),Ag.exports}var _=Rs();const JP=Lr(_),QL=YL({__proto__:null,default:JP},[_]);var Eg={exports:{}},Fl={},_g={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function ZL(){return JA||(JA=1,(function(e){function t(q,V){var ne=q.length;q.push(V);e:for(;0<ne;){var re=ne-1>>>1,he=q[re];if(0<i(he,V))q[re]=V,q[ne]=he,ne=re;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var V=q[0],ne=q.pop();if(ne!==V){q[0]=ne;e:for(var re=0,he=q.length,L=he>>>1;re<L;){var U=2*(re+1)-1,se=q[U],te=U+1,Ae=q[te];if(0>i(se,ne))te<he&&0>i(Ae,se)?(q[re]=Ae,q[te]=ne,re=te):(q[re]=se,q[U]=ne,re=U);else if(te<he&&0>i(Ae,ne))q[re]=Ae,q[te]=ne,re=te;else break e}}return V}function i(q,V){var ne=q.sortIndex-V.sortIndex;return ne!==0?ne:q.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],f=[],m=1,g=null,y=3,w=!1,N=!1,A=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(q){for(var V=n(f);V!==null;){if(V.callback===null)r(f);else if(V.startTime<=q)r(f),V.sortIndex=V.expirationTime,t(h,V);else break;V=n(f)}}function k(q){if(A=!1,M(q),!N)if(n(h)!==null)N=!0,I||(I=!0,H());else{var V=n(f);V!==null&&$(k,V.startTime-q)}}var I=!1,R=-1,D=5,z=-1;function X(){return E?!0:!(e.unstable_now()-z<D)}function Q(){if(E=!1,I){var q=e.unstable_now();z=q;var V=!0;try{e:{N=!1,A&&(A=!1,P(R),R=-1),w=!0;var ne=y;try{t:{for(M(q),g=n(h);g!==null&&!(g.expirationTime>q&&X());){var re=g.callback;if(typeof re=="function"){g.callback=null,y=g.priorityLevel;var he=re(g.expirationTime<=q);if(q=e.unstable_now(),typeof he=="function"){g.callback=he,M(q),V=!0;break t}g===n(h)&&r(h),M(q)}else r(h);g=n(h)}if(g!==null)V=!0;else{var L=n(f);L!==null&&$(k,L.startTime-q),V=!1}}break e}finally{g=null,y=ne,w=!1}V=void 0}}finally{V?H():I=!1}}}var H;if(typeof O=="function")H=function(){O(Q)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ae=fe.port2;fe.port1.onmessage=Q,H=function(){ae.postMessage(null)}}else H=function(){C(Q,0)};function $(q,V){R=C(function(){q(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(q){switch(y){case 1:case 2:case 3:var V=3;break;default:V=y}var ne=y;y=V;try{return q()}finally{y=ne}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(q,V){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=y;y=q;try{return V()}finally{y=ne}},e.unstable_scheduleCallback=function(q,V,ne){var re=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?re+ne:re):ne=re,q){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=ne+he,q={id:m++,callback:V,priorityLevel:q,startTime:ne,expirationTime:he,sortIndex:-1},ne>re?(q.sortIndex=ne,t(f,q),n(h)===null&&q===n(f)&&(A?(P(R),R=-1):A=!0,$(k,ne-re))):(q.sortIndex=he,t(h,q),N||w||(N=!0,I||(I=!0,H()))),q},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(q){var V=y;return function(){var ne=y;y=V;try{return q.apply(this,arguments)}finally{y=ne}}}})(Ng)),Ng}var WA;function e3(){return WA||(WA=1,_g.exports=ZL()),_g.exports}var Tg={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA;function t3(){if(XA)return hn;XA=1;var e=Rs();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:h,containerInfo:f,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hn.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(h,f,null,m)},hn.flushSync=function(h){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=m,r.d.f()}},hn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},hn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},hn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,g=c(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:w}):m==="script"&&r.d.X(h,{crossOrigin:g,integrity:y,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},hn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},hn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=c(m,f.crossOrigin);r.d.L(h,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},hn.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},hn.requestFormReset=function(h){r.d.r(h)},hn.unstable_batchedUpdates=function(h,f){return h(f)},hn.useFormState=function(h,f,m){return l.H.useFormState(h,f,m)},hn.useFormStatus=function(){return l.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var QA;function WP(){if(QA)return Tg.exports;QA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Tg.exports=t3(),Tg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA;function n3(){if(ZA)return Fl;ZA=1;var e=e3(),t=Rs(),n=WP();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,u=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(u=s.return),a=s.return;while(a)}return s.tag===3?u:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function h(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var u=a,p=s;;){var b=u.return;if(b===null)break;var S=b.alternate;if(S===null){if(p=b.return,p!==null){u=p;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===u)return h(b),a;if(S===p)return h(b),s;S=S.sibling}throw Error(r(188))}if(u.return!==p.return)u=b,p=S;else{for(var T=!1,j=b.child;j;){if(j===u){T=!0,u=b,p=S;break}if(j===p){T=!0,p=b,u=S;break}j=j.sibling}if(!T){for(j=S.child;j;){if(j===u){T=!0,u=S,p=b;break}if(j===p){T=!0,p=S,u=b;break}j=j.sibling}if(!T)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:s}function m(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=m(a),s!==null)return s;a=a.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=Q&&a[Q]||a["@@iterator"],typeof a=="function"?a:null)}var fe=Symbol.for("react.client.reference");function ae(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===fe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case k:return"Suspense";case I:return"SuspenseList";case z:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case N:return"Portal";case O:return a.displayName||"Context";case P:return(a._context.displayName||"Context")+".Consumer";case M:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return s=a.displayName||null,s!==null?s:ae(a.type)||"Memo";case D:s=a._payload,a=a._init;try{return ae(a(s))}catch{}}return null}var $=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},re=[],he=-1;function L(a){return{current:a}}function U(a){0>he||(a.current=re[he],re[he]=null,he--)}function se(a,s){he++,re[he]=a.current,a.current=s}var te=L(null),Ae=L(null),_e=L(null),me=L(null);function Be(a,s){switch(se(_e,s),se(Ae,a),se(te,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?mA(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=mA(s),a=pA(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}U(te),se(te,a)}function ie(){U(te),U(Ae),U(_e)}function Ie(a){a.memoizedState!==null&&se(me,a);var s=te.current,u=pA(s,a.type);s!==u&&(se(Ae,a),se(te,u))}function je(a){Ae.current===a&&(U(te),U(Ae)),me.current===a&&(U(me),Ll._currentValue=ne)}var de,St;function Le(a){if(de===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);de=s&&s[1]||"",St=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+a+St}var pt=!1;function gt(a,s){if(!a||pt)return"";pt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ee){var J=ee}Reflect.construct(a,[],ce)}else{try{ce.call()}catch(ee){J=ee}a.call(ce.prototype)}}else{try{throw Error()}catch(ee){J=ee}(ce=a())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),T=S[0],j=S[1];if(T&&j){var B=T.split(`
`),Y=j.split(`
`);for(b=p=0;p<B.length&&!B[p].includes("DetermineComponentFrameRoot");)p++;for(;b<Y.length&&!Y[b].includes("DetermineComponentFrameRoot");)b++;if(p===B.length||b===Y.length)for(p=B.length-1,b=Y.length-1;1<=p&&0<=b&&B[p]!==Y[b];)b--;for(;1<=p&&0<=b;p--,b--)if(B[p]!==Y[b]){if(p!==1||b!==1)do if(p--,b--,0>b||B[p]!==Y[b]){var oe=`
`+B[p].replace(" at new "," at ");return a.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",a.displayName)),oe}while(1<=p&&0<=b);break}}}finally{pt=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Le(u):""}function nn(a,s){switch(a.tag){case 26:case 27:case 5:return Le(a.type);case 16:return Le("Lazy");case 13:return a.child!==s&&s!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return gt(a.type,!1);case 11:return gt(a.type.render,!1);case 1:return gt(a.type,!0);case 31:return Le("Activity");default:return""}}function Bn(a){try{var s="",u=null;do s+=nn(a,u),u=a,a=a.return;while(a);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var ue=Object.prototype.hasOwnProperty,ve=e.unstable_scheduleCallback,Oe=e.unstable_cancelCallback,Z=e.unstable_shouldYield,ge=e.unstable_requestPaint,Ne=e.unstable_now,vt=e.unstable_getCurrentPriorityLevel,zn=e.unstable_ImmediatePriority,To=e.unstable_UserBlockingPriority,Co=e.unstable_NormalPriority,lm=e.unstable_LowPriority,Vc=e.unstable_IdlePriority,$c=e.log,pe=e.unstable_setDisableYieldValue,Pt=null,Ot=null;function Yi(a){if(typeof $c=="function"&&pe(a),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Pt,a)}catch{}}var qn=Math.clz32?Math.clz32:OD,ID=Math.log,MD=Math.LN2;function OD(a){return a>>>=0,a===0?32:31-(ID(a)/MD|0)|0}var Kc=256,Yc=262144,Jc=4194304;function ka(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Wc(a,s,u){var p=a.pendingLanes;if(p===0)return 0;var b=0,S=a.suspendedLanes,T=a.pingedLanes;a=a.warmLanes;var j=p&134217727;return j!==0?(p=j&~S,p!==0?b=ka(p):(T&=j,T!==0?b=ka(T):u||(u=j&~a,u!==0&&(b=ka(u))))):(j=p&~S,j!==0?b=ka(j):T!==0?b=ka(T):u||(u=p&~a,u!==0&&(b=ka(u)))),b===0?0:s!==0&&s!==b&&(s&S)===0&&(S=b&-b,u=s&-s,S>=u||S===32&&(u&4194048)!==0)?s:b}function Ws(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function jD(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jb(){var a=Jc;return Jc<<=1,(Jc&62914560)===0&&(Jc=4194304),a}function cm(a){for(var s=[],u=0;31>u;u++)s.push(a);return s}function Xs(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function kD(a,s,u,p,b,S){var T=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var j=a.entanglements,B=a.expirationTimes,Y=a.hiddenUpdates;for(u=T&~u;0<u;){var oe=31-qn(u),ce=1<<oe;j[oe]=0,B[oe]=-1;var J=Y[oe];if(J!==null)for(Y[oe]=null,oe=0;oe<J.length;oe++){var ee=J[oe];ee!==null&&(ee.lane&=-536870913)}u&=~ce}p!==0&&Wb(a,p,0),S!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=S&~(T&~s))}function Wb(a,s,u){a.pendingLanes|=s,a.suspendedLanes&=~s;var p=31-qn(s);a.entangledLanes|=s,a.entanglements[p]=a.entanglements[p]|1073741824|u&261930}function Xb(a,s){var u=a.entangledLanes|=s;for(a=a.entanglements;u;){var p=31-qn(u),b=1<<p;b&s|a[p]&s&&(a[p]|=s),u&=~b}}function Qb(a,s){var u=s&-s;return u=(u&42)!==0?1:um(u),(u&(a.suspendedLanes|s))!==0?0:u}function um(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function dm(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Zb(){var a=V.p;return a!==0?a:(a=window.event,a===void 0?32:UA(a.type))}function eS(a,s){var u=V.p;try{return V.p=a,s()}finally{V.p=u}}var Ji=Math.random().toString(36).slice(2),rn="__reactFiber$"+Ji,Nn="__reactProps$"+Ji,Po="__reactContainer$"+Ji,fm="__reactEvents$"+Ji,RD="__reactListeners$"+Ji,DD="__reactHandles$"+Ji,tS="__reactResources$"+Ji,Qs="__reactMarker$"+Ji;function hm(a){delete a[rn],delete a[Nn],delete a[fm],delete a[RD],delete a[DD]}function Io(a){var s=a[rn];if(s)return s;for(var u=a.parentNode;u;){if(s=u[Po]||u[rn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(a=wA(a);a!==null;){if(u=a[rn])return u;a=wA(a)}return s}a=u,u=a.parentNode}return null}function Mo(a){if(a=a[rn]||a[Po]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Zs(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Oo(a){var s=a[tS];return s||(s=a[tS]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Gt(a){a[Qs]=!0}var nS=new Set,rS={};function Ra(a,s){jo(a,s),jo(a+"Capture",s)}function jo(a,s){for(rS[a]=s,a=0;a<s.length;a++)nS.add(s[a])}var LD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),iS={},aS={};function UD(a){return ue.call(aS,a)?!0:ue.call(iS,a)?!1:LD.test(a)?aS[a]=!0:(iS[a]=!0,!1)}function Xc(a,s,u){if(UD(s))if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+u)}}function Qc(a,s,u){if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+u)}}function ii(a,s,u,p){if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(s,u,""+p)}}function er(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function oS(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function BD(a,s,u){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,S=p.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return b.call(this)},set:function(T){u=""+T,S.call(this,T)}}),Object.defineProperty(a,s,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function mm(a){if(!a._valueTracker){var s=oS(a)?"checked":"value";a._valueTracker=BD(a,s,""+a[s])}}function sS(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var u=s.getValue(),p="";return a&&(p=oS(a)?a.checked?"true":"false":a.value),a=p,a!==u?(s.setValue(a),!0):!1}function Zc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var zD=/[\n"\\]/g;function tr(a){return a.replace(zD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function pm(a,s,u,p,b,S,T,j){a.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.type=T:a.removeAttribute("type"),s!=null?T==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+er(s)):a.value!==""+er(s)&&(a.value=""+er(s)):T!=="submit"&&T!=="reset"||a.removeAttribute("value"),s!=null?gm(a,T,er(s)):u!=null?gm(a,T,er(u)):p!=null&&a.removeAttribute("value"),b==null&&S!=null&&(a.defaultChecked=!!S),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.name=""+er(j):a.removeAttribute("name")}function lS(a,s,u,p,b,S,T,j){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),s!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||s!=null)){mm(a);return}u=u!=null?""+er(u):"",s=s!=null?""+er(s):u,j||s===a.value||(a.value=s),a.defaultValue=s}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=j?a.checked:!!p,a.defaultChecked=!!p,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.name=T),mm(a)}function gm(a,s,u){s==="number"&&Zc(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function ko(a,s,u,p){if(a=a.options,s){s={};for(var b=0;b<u.length;b++)s["$"+u[b]]=!0;for(u=0;u<a.length;u++)b=s.hasOwnProperty("$"+a[u].value),a[u].selected!==b&&(a[u].selected=b),b&&p&&(a[u].defaultSelected=!0)}else{for(u=""+er(u),s=null,b=0;b<a.length;b++){if(a[b].value===u){a[b].selected=!0,p&&(a[b].defaultSelected=!0);return}s!==null||a[b].disabled||(s=a[b])}s!==null&&(s.selected=!0)}}function cS(a,s,u){if(s!=null&&(s=""+er(s),s!==a.value&&(a.value=s),u==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=u!=null?""+er(u):""}function uS(a,s,u,p){if(s==null){if(p!=null){if(u!=null)throw Error(r(92));if($(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),s=u}u=er(s),a.defaultValue=u,p=a.textContent,p===u&&p!==""&&p!==null&&(a.value=p),mm(a)}function Ro(a,s){if(s){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=s;return}}a.textContent=s}var qD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dS(a,s,u){var p=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":p?a.setProperty(s,u):typeof u!="number"||u===0||qD.has(s)?s==="float"?a.cssFloat=u:a[s]=(""+u).trim():a[s]=u+"px"}function fS(a,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var b in s)p=s[b],s.hasOwnProperty(b)&&u[b]!==p&&dS(a,b,p)}else for(var S in s)s.hasOwnProperty(S)&&dS(a,S,s[S])}function vm(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),HD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eu(a){return HD.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ai(){}var ym=null;function xm(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Do=null,Lo=null;function hS(a){var s=Mo(a);if(s&&(a=s.stateNode)){var u=a[Nn]||null;e:switch(a=s.stateNode,s.type){case"input":if(pm(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+tr(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var p=u[s];if(p!==a&&p.form===a.form){var b=p[Nn]||null;if(!b)throw Error(r(90));pm(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<u.length;s++)p=u[s],p.form===a.form&&sS(p)}break e;case"textarea":cS(a,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&ko(a,!!u.multiple,s,!1)}}}var bm=!1;function mS(a,s,u){if(bm)return a(s,u);bm=!0;try{var p=a(s);return p}finally{if(bm=!1,(Do!==null||Lo!==null)&&(qu(),Do&&(s=Do,a=Lo,Lo=Do=null,hS(s),a)))for(s=0;s<a.length;s++)hS(a[s])}}function el(a,s){var u=a.stateNode;if(u===null)return null;var p=u[Nn]||null;if(p===null)return null;u=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sm=!1;if(oi)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){Sm=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{Sm=!1}var Wi=null,wm=null,tu=null;function pS(){if(tu)return tu;var a,s=wm,u=s.length,p,b="value"in Wi?Wi.value:Wi.textContent,S=b.length;for(a=0;a<u&&s[a]===b[a];a++);var T=u-a;for(p=1;p<=T&&s[u-p]===b[S-p];p++);return tu=b.slice(a,1<p?1-p:void 0)}function nu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function ru(){return!0}function gS(){return!1}function Tn(a){function s(u,p,b,S,T){this._reactName=u,this._targetInst=b,this.type=p,this.nativeEvent=S,this.target=T,this.currentTarget=null;for(var j in a)a.hasOwnProperty(j)&&(u=a[j],this[j]=u?u(S):S[j]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ru:gS,this.isPropagationStopped=gS,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ru)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ru)},persist:function(){},isPersistent:ru}),s}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iu=Tn(Da),nl=g({},Da,{view:0,detail:0}),GD=Tn(nl),Am,Em,rl,au=g({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==rl&&(rl&&a.type==="mousemove"?(Am=a.screenX-rl.screenX,Em=a.screenY-rl.screenY):Em=Am=0,rl=a),Am)},movementY:function(a){return"movementY"in a?a.movementY:Em}}),vS=Tn(au),VD=g({},au,{dataTransfer:0}),$D=Tn(VD),KD=g({},nl,{relatedTarget:0}),_m=Tn(KD),YD=g({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),JD=Tn(YD),WD=g({},Da,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),XD=Tn(WD),QD=g({},Da,{data:0}),yS=Tn(QD),ZD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n5(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=t5[a])?!!s[a]:!1}function Nm(){return n5}var r5=g({},nl,{key:function(a){if(a.key){var s=ZD[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=nu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?e5[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nm,charCode:function(a){return a.type==="keypress"?nu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?nu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),i5=Tn(r5),a5=g({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xS=Tn(a5),o5=g({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nm}),s5=Tn(o5),l5=g({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),c5=Tn(l5),u5=g({},au,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),d5=Tn(u5),f5=g({},Da,{newState:0,oldState:0}),h5=Tn(f5),m5=[9,13,27,32],Tm=oi&&"CompositionEvent"in window,il=null;oi&&"documentMode"in document&&(il=document.documentMode);var p5=oi&&"TextEvent"in window&&!il,bS=oi&&(!Tm||il&&8<il&&11>=il),SS=" ",wS=!1;function AS(a,s){switch(a){case"keyup":return m5.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ES(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Uo=!1;function g5(a,s){switch(a){case"compositionend":return ES(s);case"keypress":return s.which!==32?null:(wS=!0,SS);case"textInput":return a=s.data,a===SS&&wS?null:a;default:return null}}function v5(a,s){if(Uo)return a==="compositionend"||!Tm&&AS(a,s)?(a=pS(),tu=wm=Wi=null,Uo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return bS&&s.locale!=="ko"?null:s.data;default:return null}}var y5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _S(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!y5[a.type]:s==="textarea"}function NS(a,s,u,p){Do?Lo?Lo.push(p):Lo=[p]:Do=p,s=Yu(s,"onChange"),0<s.length&&(u=new iu("onChange","change",null,u,p),a.push({event:u,listeners:s}))}var al=null,ol=null;function x5(a){lA(a,0)}function ou(a){var s=Zs(a);if(sS(s))return a}function TS(a,s){if(a==="change")return s}var CS=!1;if(oi){var Cm;if(oi){var Pm="oninput"in document;if(!Pm){var PS=document.createElement("div");PS.setAttribute("oninput","return;"),Pm=typeof PS.oninput=="function"}Cm=Pm}else Cm=!1;CS=Cm&&(!document.documentMode||9<document.documentMode)}function IS(){al&&(al.detachEvent("onpropertychange",MS),ol=al=null)}function MS(a){if(a.propertyName==="value"&&ou(ol)){var s=[];NS(s,ol,a,xm(a)),mS(x5,s)}}function b5(a,s,u){a==="focusin"?(IS(),al=s,ol=u,al.attachEvent("onpropertychange",MS)):a==="focusout"&&IS()}function S5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ou(ol)}function w5(a,s){if(a==="click")return ou(s)}function A5(a,s){if(a==="input"||a==="change")return ou(s)}function E5(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Fn=typeof Object.is=="function"?Object.is:E5;function sl(a,s){if(Fn(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var u=Object.keys(a),p=Object.keys(s);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var b=u[p];if(!ue.call(s,b)||!Fn(a[b],s[b]))return!1}return!0}function OS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function jS(a,s){var u=OS(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=s&&p>=s)return{node:u,offset:s-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=OS(u)}}function kS(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?kS(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function RS(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Zc(a.document);s instanceof a.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)a=s.contentWindow;else break;s=Zc(a.document)}return s}function Im(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var _5=oi&&"documentMode"in document&&11>=document.documentMode,Bo=null,Mm=null,ll=null,Om=!1;function DS(a,s,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Om||Bo==null||Bo!==Zc(p)||(p=Bo,"selectionStart"in p&&Im(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ll&&sl(ll,p)||(ll=p,p=Yu(Mm,"onSelect"),0<p.length&&(s=new iu("onSelect","select",null,s,u),a.push({event:s,listeners:p}),s.target=Bo)))}function La(a,s){var u={};return u[a.toLowerCase()]=s.toLowerCase(),u["Webkit"+a]="webkit"+s,u["Moz"+a]="moz"+s,u}var zo={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},jm={},LS={};oi&&(LS=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function Ua(a){if(jm[a])return jm[a];if(!zo[a])return a;var s=zo[a],u;for(u in s)if(s.hasOwnProperty(u)&&u in LS)return jm[a]=s[u];return a}var US=Ua("animationend"),BS=Ua("animationiteration"),zS=Ua("animationstart"),N5=Ua("transitionrun"),T5=Ua("transitionstart"),C5=Ua("transitioncancel"),qS=Ua("transitionend"),FS=new Map,km="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");km.push("scrollEnd");function Ar(a,s){FS.set(a,s),Ra(s,[a])}var su=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},nr=[],qo=0,Rm=0;function lu(){for(var a=qo,s=Rm=qo=0;s<a;){var u=nr[s];nr[s++]=null;var p=nr[s];nr[s++]=null;var b=nr[s];nr[s++]=null;var S=nr[s];if(nr[s++]=null,p!==null&&b!==null){var T=p.pending;T===null?b.next=b:(b.next=T.next,T.next=b),p.pending=b}S!==0&&HS(u,b,S)}}function cu(a,s,u,p){nr[qo++]=a,nr[qo++]=s,nr[qo++]=u,nr[qo++]=p,Rm|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function Dm(a,s,u,p){return cu(a,s,u,p),uu(a)}function Ba(a,s){return cu(a,null,null,s),uu(a)}function HS(a,s,u){a.lanes|=u;var p=a.alternate;p!==null&&(p.lanes|=u);for(var b=!1,S=a.return;S!==null;)S.childLanes|=u,p=S.alternate,p!==null&&(p.childLanes|=u),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(b=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,b&&s!==null&&(b=31-qn(u),a=S.hiddenUpdates,p=a[b],p===null?a[b]=[s]:p.push(s),s.lane=u|536870912),S):null}function uu(a){if(50<Il)throw Il=0,Vp=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Fo={};function P5(a,s,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(a,s,u,p){return new P5(a,s,u,p)}function Lm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function si(a,s){var u=a.alternate;return u===null?(u=Hn(a.tag,s,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=s,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,s=a.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function GS(a,s){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,s=u.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function du(a,s,u,p,b,S){var T=0;if(p=a,typeof a=="function")Lm(a)&&(T=1);else if(typeof a=="string")T=kL(a,u,te.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case z:return a=Hn(31,u,s,b),a.elementType=z,a.lanes=S,a;case A:return za(u.children,b,S,s);case E:T=8,b|=24;break;case C:return a=Hn(12,u,s,b|2),a.elementType=C,a.lanes=S,a;case k:return a=Hn(13,u,s,b),a.elementType=k,a.lanes=S,a;case I:return a=Hn(19,u,s,b),a.elementType=I,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:T=10;break e;case P:T=9;break e;case M:T=11;break e;case R:T=14;break e;case D:T=16,p=null;break e}T=29,u=Error(r(130,a===null?"null":typeof a,"")),p=null}return s=Hn(T,u,s,b),s.elementType=a,s.type=p,s.lanes=S,s}function za(a,s,u,p){return a=Hn(7,a,p,s),a.lanes=u,a}function Um(a,s,u){return a=Hn(6,a,null,s),a.lanes=u,a}function VS(a){var s=Hn(18,null,null,0);return s.stateNode=a,s}function Bm(a,s,u){return s=Hn(4,a.children!==null?a.children:[],a.key,s),s.lanes=u,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var $S=new WeakMap;function rr(a,s){if(typeof a=="object"&&a!==null){var u=$S.get(a);return u!==void 0?u:(s={value:a,source:s,stack:Bn(s)},$S.set(a,s),s)}return{value:a,source:s,stack:Bn(s)}}var Ho=[],Go=0,fu=null,cl=0,ir=[],ar=0,Xi=null,zr=1,qr="";function li(a,s){Ho[Go++]=cl,Ho[Go++]=fu,fu=a,cl=s}function KS(a,s,u){ir[ar++]=zr,ir[ar++]=qr,ir[ar++]=Xi,Xi=a;var p=zr;a=qr;var b=32-qn(p)-1;p&=~(1<<b),u+=1;var S=32-qn(s)+b;if(30<S){var T=b-b%5;S=(p&(1<<T)-1).toString(32),p>>=T,b-=T,zr=1<<32-qn(s)+b|u<<b|p,qr=S+a}else zr=1<<S|u<<b|p,qr=a}function zm(a){a.return!==null&&(li(a,1),KS(a,1,0))}function qm(a){for(;a===fu;)fu=Ho[--Go],Ho[Go]=null,cl=Ho[--Go],Ho[Go]=null;for(;a===Xi;)Xi=ir[--ar],ir[ar]=null,qr=ir[--ar],ir[ar]=null,zr=ir[--ar],ir[ar]=null}function YS(a,s){ir[ar++]=zr,ir[ar++]=qr,ir[ar++]=Xi,zr=s.id,qr=s.overflow,Xi=a}var an=null,dt=null,Ge=!1,Qi=null,or=!1,Fm=Error(r(519));function Zi(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(rr(s,a)),Fm}function JS(a){var s=a.stateNode,u=a.type,p=a.memoizedProps;switch(s[rn]=a,s[Nn]=p,u){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(u=0;u<Ol.length;u++)qe(Ol[u],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":qe("invalid",s),lS(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":qe("invalid",s);break;case"textarea":qe("invalid",s),uS(s,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||p.suppressHydrationWarning===!0||fA(s.textContent,u)?(p.popover!=null&&(qe("beforetoggle",s),qe("toggle",s)),p.onScroll!=null&&qe("scroll",s),p.onScrollEnd!=null&&qe("scrollend",s),p.onClick!=null&&(s.onclick=ai),s=!0):s=!1,s||Zi(a,!0)}function WS(a){for(an=a.return;an;)switch(an.tag){case 5:case 31:case 13:or=!1;return;case 27:case 3:or=!0;return;default:an=an.return}}function Vo(a){if(a!==an)return!1;if(!Ge)return WS(a),Ge=!0,!1;var s=a.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||og(a.type,a.memoizedProps)),u=!u),u&&dt&&Zi(a),WS(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));dt=SA(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));dt=SA(a)}else s===27?(s=dt,ha(a.type)?(a=dg,dg=null,dt=a):dt=s):dt=an?lr(a.stateNode.nextSibling):null;return!0}function qa(){dt=an=null,Ge=!1}function Hm(){var a=Qi;return a!==null&&(Mn===null?Mn=a:Mn.push.apply(Mn,a),Qi=null),a}function ul(a){Qi===null?Qi=[a]:Qi.push(a)}var Gm=L(null),Fa=null,ci=null;function ea(a,s,u){se(Gm,s._currentValue),s._currentValue=u}function ui(a){a._currentValue=Gm.current,U(Gm)}function Vm(a,s,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),a===u)break;a=a.return}}function $m(a,s,u,p){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var S=b.dependencies;if(S!==null){var T=b.child;S=S.firstContext;e:for(;S!==null;){var j=S;S=b;for(var B=0;B<s.length;B++)if(j.context===s[B]){S.lanes|=u,j=S.alternate,j!==null&&(j.lanes|=u),Vm(S.return,u,a),p||(T=null);break e}S=j.next}}else if(b.tag===18){if(T=b.return,T===null)throw Error(r(341));T.lanes|=u,S=T.alternate,S!==null&&(S.lanes|=u),Vm(T,u,a),T=null}else T=b.child;if(T!==null)T.return=b;else for(T=b;T!==null;){if(T===a){T=null;break}if(b=T.sibling,b!==null){b.return=T.return,T=b;break}T=T.return}b=T}}function $o(a,s,u,p){a=null;for(var b=s,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var T=b.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var j=b.type;Fn(b.pendingProps.value,T.value)||(a!==null?a.push(j):a=[j])}}else if(b===me.current){if(T=b.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(Ll):a=[Ll])}b=b.return}a!==null&&$m(s,a,u,p),s.flags|=262144}function hu(a){for(a=a.firstContext;a!==null;){if(!Fn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ha(a){Fa=a,ci=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function on(a){return XS(Fa,a)}function mu(a,s){return Fa===null&&Ha(a),XS(a,s)}function XS(a,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},ci===null){if(a===null)throw Error(r(308));ci=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else ci=ci.next=s;return u}var I5=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(u,p){a.push(p)}};this.abort=function(){s.aborted=!0,a.forEach(function(u){return u()})}},M5=e.unstable_scheduleCallback,O5=e.unstable_NormalPriority,jt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Km(){return{controller:new I5,data:new Map,refCount:0}}function dl(a){a.refCount--,a.refCount===0&&M5(O5,function(){a.controller.abort()})}var fl=null,Ym=0,Ko=0,Yo=null;function j5(a,s){if(fl===null){var u=fl=[];Ym=0,Ko=Xp(),Yo={status:"pending",value:void 0,then:function(p){u.push(p)}}}return Ym++,s.then(QS,QS),s}function QS(){if(--Ym===0&&fl!==null){Yo!==null&&(Yo.status="fulfilled");var a=fl;fl=null,Ko=0,Yo=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function k5(a,s){var u=[],p={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return a.then(function(){p.status="fulfilled",p.value=s;for(var b=0;b<u.length;b++)(0,u[b])(s)},function(b){for(p.status="rejected",p.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),p}var ZS=q.S;q.S=function(a,s){D1=Ne(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&j5(a,s),ZS!==null&&ZS(a,s)};var Ga=L(null);function Jm(){var a=Ga.current;return a!==null?a:lt.pooledCache}function pu(a,s){s===null?se(Ga,Ga.current):se(Ga,s.pool)}function ew(){var a=Jm();return a===null?null:{parent:jt._currentValue,pool:a}}var Jo=Error(r(460)),Wm=Error(r(474)),gu=Error(r(542)),vu={then:function(){}};function tw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function nw(a,s,u){switch(u=a[u],u===void 0?a.push(s):u!==s&&(s.then(ai,ai),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,iw(a),a;default:if(typeof s.status=="string")s.then(ai,ai);else{if(a=lt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(p){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=p}},function(p){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,iw(a),a}throw $a=s,Jo}}function Va(a){try{var s=a._init;return s(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?($a=u,Jo):u}}var $a=null;function rw(){if($a===null)throw Error(r(459));var a=$a;return $a=null,a}function iw(a){if(a===Jo||a===gu)throw Error(r(483))}var Wo=null,hl=0;function yu(a){var s=hl;return hl+=1,Wo===null&&(Wo=[]),nw(Wo,a,s)}function ml(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function xu(a,s){throw s.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function aw(a){function s(G,F){if(a){var K=G.deletions;K===null?(G.deletions=[F],G.flags|=16):K.push(F)}}function u(G,F){if(!a)return null;for(;F!==null;)s(G,F),F=F.sibling;return null}function p(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function b(G,F){return G=si(G,F),G.index=0,G.sibling=null,G}function S(G,F,K){return G.index=K,a?(K=G.alternate,K!==null?(K=K.index,K<F?(G.flags|=67108866,F):K):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function T(G){return a&&G.alternate===null&&(G.flags|=67108866),G}function j(G,F,K,le){return F===null||F.tag!==6?(F=Um(K,G.mode,le),F.return=G,F):(F=b(F,K),F.return=G,F)}function B(G,F,K,le){var Pe=K.type;return Pe===A?oe(G,F,K.props.children,le,K.key):F!==null&&(F.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===D&&Va(Pe)===F.type)?(F=b(F,K.props),ml(F,K),F.return=G,F):(F=du(K.type,K.key,K.props,null,G.mode,le),ml(F,K),F.return=G,F)}function Y(G,F,K,le){return F===null||F.tag!==4||F.stateNode.containerInfo!==K.containerInfo||F.stateNode.implementation!==K.implementation?(F=Bm(K,G.mode,le),F.return=G,F):(F=b(F,K.children||[]),F.return=G,F)}function oe(G,F,K,le,Pe){return F===null||F.tag!==7?(F=za(K,G.mode,le,Pe),F.return=G,F):(F=b(F,K),F.return=G,F)}function ce(G,F,K){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Um(""+F,G.mode,K),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return K=du(F.type,F.key,F.props,null,G.mode,K),ml(K,F),K.return=G,K;case N:return F=Bm(F,G.mode,K),F.return=G,F;case D:return F=Va(F),ce(G,F,K)}if($(F)||H(F))return F=za(F,G.mode,K,null),F.return=G,F;if(typeof F.then=="function")return ce(G,yu(F),K);if(F.$$typeof===O)return ce(G,mu(G,F),K);xu(G,F)}return null}function J(G,F,K,le){var Pe=F!==null?F.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Pe!==null?null:j(G,F,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===Pe?B(G,F,K,le):null;case N:return K.key===Pe?Y(G,F,K,le):null;case D:return K=Va(K),J(G,F,K,le)}if($(K)||H(K))return Pe!==null?null:oe(G,F,K,le,null);if(typeof K.then=="function")return J(G,F,yu(K),le);if(K.$$typeof===O)return J(G,F,mu(G,K),le);xu(G,K)}return null}function ee(G,F,K,le,Pe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return G=G.get(K)||null,j(F,G,""+le,Pe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case w:return G=G.get(le.key===null?K:le.key)||null,B(F,G,le,Pe);case N:return G=G.get(le.key===null?K:le.key)||null,Y(F,G,le,Pe);case D:return le=Va(le),ee(G,F,K,le,Pe)}if($(le)||H(le))return G=G.get(K)||null,oe(F,G,le,Pe,null);if(typeof le.then=="function")return ee(G,F,K,yu(le),Pe);if(le.$$typeof===O)return ee(G,F,K,mu(F,le),Pe);xu(F,le)}return null}function be(G,F,K,le){for(var Pe=null,Ke=null,Ee=F,Ue=F=0,He=null;Ee!==null&&Ue<K.length;Ue++){Ee.index>Ue?(He=Ee,Ee=null):He=Ee.sibling;var Ye=J(G,Ee,K[Ue],le);if(Ye===null){Ee===null&&(Ee=He);break}a&&Ee&&Ye.alternate===null&&s(G,Ee),F=S(Ye,F,Ue),Ke===null?Pe=Ye:Ke.sibling=Ye,Ke=Ye,Ee=He}if(Ue===K.length)return u(G,Ee),Ge&&li(G,Ue),Pe;if(Ee===null){for(;Ue<K.length;Ue++)Ee=ce(G,K[Ue],le),Ee!==null&&(F=S(Ee,F,Ue),Ke===null?Pe=Ee:Ke.sibling=Ee,Ke=Ee);return Ge&&li(G,Ue),Pe}for(Ee=p(Ee);Ue<K.length;Ue++)He=ee(Ee,G,Ue,K[Ue],le),He!==null&&(a&&He.alternate!==null&&Ee.delete(He.key===null?Ue:He.key),F=S(He,F,Ue),Ke===null?Pe=He:Ke.sibling=He,Ke=He);return a&&Ee.forEach(function(ya){return s(G,ya)}),Ge&&li(G,Ue),Pe}function Me(G,F,K,le){if(K==null)throw Error(r(151));for(var Pe=null,Ke=null,Ee=F,Ue=F=0,He=null,Ye=K.next();Ee!==null&&!Ye.done;Ue++,Ye=K.next()){Ee.index>Ue?(He=Ee,Ee=null):He=Ee.sibling;var ya=J(G,Ee,Ye.value,le);if(ya===null){Ee===null&&(Ee=He);break}a&&Ee&&ya.alternate===null&&s(G,Ee),F=S(ya,F,Ue),Ke===null?Pe=ya:Ke.sibling=ya,Ke=ya,Ee=He}if(Ye.done)return u(G,Ee),Ge&&li(G,Ue),Pe;if(Ee===null){for(;!Ye.done;Ue++,Ye=K.next())Ye=ce(G,Ye.value,le),Ye!==null&&(F=S(Ye,F,Ue),Ke===null?Pe=Ye:Ke.sibling=Ye,Ke=Ye);return Ge&&li(G,Ue),Pe}for(Ee=p(Ee);!Ye.done;Ue++,Ye=K.next())Ye=ee(Ee,G,Ue,Ye.value,le),Ye!==null&&(a&&Ye.alternate!==null&&Ee.delete(Ye.key===null?Ue:Ye.key),F=S(Ye,F,Ue),Ke===null?Pe=Ye:Ke.sibling=Ye,Ke=Ye);return a&&Ee.forEach(function(VL){return s(G,VL)}),Ge&&li(G,Ue),Pe}function at(G,F,K,le){if(typeof K=="object"&&K!==null&&K.type===A&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var Pe=K.key;F!==null;){if(F.key===Pe){if(Pe=K.type,Pe===A){if(F.tag===7){u(G,F.sibling),le=b(F,K.props.children),le.return=G,G=le;break e}}else if(F.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===D&&Va(Pe)===F.type){u(G,F.sibling),le=b(F,K.props),ml(le,K),le.return=G,G=le;break e}u(G,F);break}else s(G,F);F=F.sibling}K.type===A?(le=za(K.props.children,G.mode,le,K.key),le.return=G,G=le):(le=du(K.type,K.key,K.props,null,G.mode,le),ml(le,K),le.return=G,G=le)}return T(G);case N:e:{for(Pe=K.key;F!==null;){if(F.key===Pe)if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){u(G,F.sibling),le=b(F,K.children||[]),le.return=G,G=le;break e}else{u(G,F);break}else s(G,F);F=F.sibling}le=Bm(K,G.mode,le),le.return=G,G=le}return T(G);case D:return K=Va(K),at(G,F,K,le)}if($(K))return be(G,F,K,le);if(H(K)){if(Pe=H(K),typeof Pe!="function")throw Error(r(150));return K=Pe.call(K),Me(G,F,K,le)}if(typeof K.then=="function")return at(G,F,yu(K),le);if(K.$$typeof===O)return at(G,F,mu(G,K),le);xu(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,F!==null&&F.tag===6?(u(G,F.sibling),le=b(F,K),le.return=G,G=le):(u(G,F),le=Um(K,G.mode,le),le.return=G,G=le),T(G)):u(G,F)}return function(G,F,K,le){try{hl=0;var Pe=at(G,F,K,le);return Wo=null,Pe}catch(Ee){if(Ee===Jo||Ee===gu)throw Ee;var Ke=Hn(29,Ee,null,G.mode);return Ke.lanes=le,Ke.return=G,Ke}finally{}}}var Ka=aw(!0),ow=aw(!1),ta=!1;function Xm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qm(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function na(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ra(a,s,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Xe&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,s=uu(a),HS(a,null,u),s}return cu(a,p,s,u),uu(a)}function pl(a,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var p=s.lanes;p&=a.pendingLanes,u|=p,s.lanes=u,Xb(a,u)}}function Zm(a,s){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var b=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var T={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?b=S=T:S=S.next=T,u=u.next}while(u!==null);S===null?b=S=s:S=S.next=s}else b=S=s;u={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=s:a.next=s,u.lastBaseUpdate=s}var ep=!1;function gl(){if(ep){var a=Yo;if(a!==null)throw a}}function vl(a,s,u,p){ep=!1;var b=a.updateQueue;ta=!1;var S=b.firstBaseUpdate,T=b.lastBaseUpdate,j=b.shared.pending;if(j!==null){b.shared.pending=null;var B=j,Y=B.next;B.next=null,T===null?S=Y:T.next=Y,T=B;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,j=oe.lastBaseUpdate,j!==T&&(j===null?oe.firstBaseUpdate=Y:j.next=Y,oe.lastBaseUpdate=B))}if(S!==null){var ce=b.baseState;T=0,oe=Y=B=null,j=S;do{var J=j.lane&-536870913,ee=J!==j.lane;if(ee?(Fe&J)===J:(p&J)===J){J!==0&&J===Ko&&(ep=!0),oe!==null&&(oe=oe.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var be=a,Me=j;J=s;var at=u;switch(Me.tag){case 1:if(be=Me.payload,typeof be=="function"){ce=be.call(at,ce,J);break e}ce=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Me.payload,J=typeof be=="function"?be.call(at,ce,J):be,J==null)break e;ce=g({},ce,J);break e;case 2:ta=!0}}J=j.callback,J!==null&&(a.flags|=64,ee&&(a.flags|=8192),ee=b.callbacks,ee===null?b.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:j.tag,payload:j.payload,callback:j.callback,next:null},oe===null?(Y=oe=ee,B=ce):oe=oe.next=ee,T|=J;if(j=j.next,j===null){if(j=b.shared.pending,j===null)break;ee=j,j=ee.next,ee.next=null,b.lastBaseUpdate=ee,b.shared.pending=null}}while(!0);oe===null&&(B=ce),b.baseState=B,b.firstBaseUpdate=Y,b.lastBaseUpdate=oe,S===null&&(b.shared.lanes=0),la|=T,a.lanes=T,a.memoizedState=ce}}function sw(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function lw(a,s){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)sw(u[a],s)}var Xo=L(null),bu=L(0);function cw(a,s){a=xi,se(bu,a),se(Xo,s),xi=a|s.baseLanes}function tp(){se(bu,xi),se(Xo,Xo.current)}function np(){xi=bu.current,U(Xo),U(bu)}var Gn=L(null),sr=null;function ia(a){var s=a.alternate;se(It,It.current&1),se(Gn,a),sr===null&&(s===null||Xo.current!==null||s.memoizedState!==null)&&(sr=a)}function rp(a){se(It,It.current),se(Gn,a),sr===null&&(sr=a)}function uw(a){a.tag===22?(se(It,It.current),se(Gn,a),sr===null&&(sr=a)):aa()}function aa(){se(It,It.current),se(Gn,Gn.current)}function Vn(a){U(Gn),sr===a&&(sr=null),U(It)}var It=L(0);function Su(a){for(var s=a;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||cg(u)||ug(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var di=0,De=null,rt=null,kt=null,wu=!1,Qo=!1,Ya=!1,Au=0,yl=0,Zo=null,R5=0;function Et(){throw Error(r(321))}function ip(a,s){if(s===null)return!1;for(var u=0;u<s.length&&u<a.length;u++)if(!Fn(a[u],s[u]))return!1;return!0}function ap(a,s,u,p,b,S){return di=S,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=a===null||a.memoizedState===null?Kw:bp,Ya=!1,S=u(p,b),Ya=!1,Qo&&(S=fw(s,u,p,b)),dw(a),S}function dw(a){q.H=Sl;var s=rt!==null&&rt.next!==null;if(di=0,kt=rt=De=null,wu=!1,yl=0,Zo=null,s)throw Error(r(300));a===null||Rt||(a=a.dependencies,a!==null&&hu(a)&&(Rt=!0))}function fw(a,s,u,p){De=a;var b=0;do{if(Qo&&(Zo=null),yl=0,Qo=!1,25<=b)throw Error(r(301));if(b+=1,kt=rt=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}q.H=Yw,S=s(u,p)}while(Qo);return S}function D5(){var a=q.H,s=a.useState()[0];return s=typeof s.then=="function"?xl(s):s,a=a.useState()[0],(rt!==null?rt.memoizedState:null)!==a&&(De.flags|=1024),s}function op(){var a=Au!==0;return Au=0,a}function sp(a,s,u){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~u}function lp(a){if(wu){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}wu=!1}di=0,kt=rt=De=null,Qo=!1,yl=Au=0,Zo=null}function vn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?De.memoizedState=kt=a:kt=kt.next=a,kt}function Mt(){if(rt===null){var a=De.alternate;a=a!==null?a.memoizedState:null}else a=rt.next;var s=kt===null?De.memoizedState:kt.next;if(s!==null)kt=s,rt=a;else{if(a===null)throw De.alternate===null?Error(r(467)):Error(r(310));rt=a,a={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},kt===null?De.memoizedState=kt=a:kt=kt.next=a}return kt}function Eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(a){var s=yl;return yl+=1,Zo===null&&(Zo=[]),a=nw(Zo,a,s),s=De,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?Kw:bp),a}function _u(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return xl(a);if(a.$$typeof===O)return on(a)}throw Error(r(438,String(a)))}function cp(a){var s=null,u=De.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var p=De.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Eu(),De.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(a),p=0;p<a;p++)u[p]=X;return s.index++,u}function fi(a,s){return typeof s=="function"?s(a):s}function Nu(a){var s=Mt();return up(s,rt,a)}function up(a,s,u){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var b=a.baseQueue,S=p.pending;if(S!==null){if(b!==null){var T=b.next;b.next=S.next,S.next=T}s.baseQueue=b=S,p.pending=null}if(S=a.baseState,b===null)a.memoizedState=S;else{s=b.next;var j=T=null,B=null,Y=s,oe=!1;do{var ce=Y.lane&-536870913;if(ce!==Y.lane?(Fe&ce)===ce:(di&ce)===ce){var J=Y.revertLane;if(J===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ce===Ko&&(oe=!0);else if((di&J)===J){Y=Y.next,J===Ko&&(oe=!0);continue}else ce={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},B===null?(j=B=ce,T=S):B=B.next=ce,De.lanes|=J,la|=J;ce=Y.action,Ya&&u(S,ce),S=Y.hasEagerState?Y.eagerState:u(S,ce)}else J={lane:ce,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},B===null?(j=B=J,T=S):B=B.next=J,De.lanes|=ce,la|=ce;Y=Y.next}while(Y!==null&&Y!==s);if(B===null?T=S:B.next=j,!Fn(S,a.memoizedState)&&(Rt=!0,oe&&(u=Yo,u!==null)))throw u;a.memoizedState=S,a.baseState=T,a.baseQueue=B,p.lastRenderedState=S}return b===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function dp(a){var s=Mt(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var p=u.dispatch,b=u.pending,S=s.memoizedState;if(b!==null){u.pending=null;var T=b=b.next;do S=a(S,T.action),T=T.next;while(T!==b);Fn(S,s.memoizedState)||(Rt=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),u.lastRenderedState=S}return[S,p]}function hw(a,s,u){var p=De,b=Mt(),S=Ge;if(S){if(u===void 0)throw Error(r(407));u=u()}else u=s();var T=!Fn((rt||b).memoizedState,u);if(T&&(b.memoizedState=u,Rt=!0),b=b.queue,mp(gw.bind(null,p,b,a),[a]),b.getSnapshot!==s||T||kt!==null&&kt.memoizedState.tag&1){if(p.flags|=2048,es(9,{destroy:void 0},pw.bind(null,p,b,u,s),null),lt===null)throw Error(r(349));S||(di&127)!==0||mw(p,s,u)}return u}function mw(a,s,u){a.flags|=16384,a={getSnapshot:s,value:u},s=De.updateQueue,s===null?(s=Eu(),De.updateQueue=s,s.stores=[a]):(u=s.stores,u===null?s.stores=[a]:u.push(a))}function pw(a,s,u,p){s.value=u,s.getSnapshot=p,vw(s)&&yw(a)}function gw(a,s,u){return u(function(){vw(s)&&yw(a)})}function vw(a){var s=a.getSnapshot;a=a.value;try{var u=s();return!Fn(a,u)}catch{return!0}}function yw(a){var s=Ba(a,2);s!==null&&On(s,a,2)}function fp(a){var s=vn();if(typeof a=="function"){var u=a;if(a=u(),Ya){Yi(!0);try{u()}finally{Yi(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:a},s}function xw(a,s,u,p){return a.baseState=u,up(a,rt,typeof p=="function"?p:fi)}function L5(a,s,u,p,b){if(Pu(a))throw Error(r(485));if(a=s.action,a!==null){var S={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){S.listeners.push(T)}};q.T!==null?u(!0):S.isTransition=!1,p(S),u=s.pending,u===null?(S.next=s.pending=S,bw(s,S)):(S.next=u.next,s.pending=u.next=S)}}function bw(a,s){var u=s.action,p=s.payload,b=a.state;if(s.isTransition){var S=q.T,T={};q.T=T;try{var j=u(b,p),B=q.S;B!==null&&B(T,j),Sw(a,s,j)}catch(Y){hp(a,s,Y)}finally{S!==null&&T.types!==null&&(S.types=T.types),q.T=S}}else try{S=u(b,p),Sw(a,s,S)}catch(Y){hp(a,s,Y)}}function Sw(a,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){ww(a,s,p)},function(p){return hp(a,s,p)}):ww(a,s,u)}function ww(a,s,u){s.status="fulfilled",s.value=u,Aw(s),a.state=u,s=a.pending,s!==null&&(u=s.next,u===s?a.pending=null:(u=u.next,s.next=u,bw(a,u)))}function hp(a,s,u){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=u,Aw(s),s=s.next;while(s!==p)}a.action=null}function Aw(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function Ew(a,s){return s}function _w(a,s){if(Ge){var u=lt.formState;if(u!==null){e:{var p=De;if(Ge){if(dt){t:{for(var b=dt,S=or;b.nodeType!==8;){if(!S){b=null;break t}if(b=lr(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){dt=lr(b.nextSibling),p=b.data==="F!";break e}}Zi(p)}p=!1}p&&(s=u[0])}}return u=vn(),u.memoizedState=u.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ew,lastRenderedState:s},u.queue=p,u=Gw.bind(null,De,p),p.dispatch=u,p=fp(!1),S=xp.bind(null,De,!1,p.queue),p=vn(),b={state:s,dispatch:null,action:a,pending:null},p.queue=b,u=L5.bind(null,De,b,S,u),b.dispatch=u,p.memoizedState=a,[s,u,!1]}function Nw(a){var s=Mt();return Tw(s,rt,a)}function Tw(a,s,u){if(s=up(a,s,Ew)[0],a=Nu(fi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=xl(s)}catch(T){throw T===Jo?gu:T}else p=s;s=Mt();var b=s.queue,S=b.dispatch;return u!==s.memoizedState&&(De.flags|=2048,es(9,{destroy:void 0},U5.bind(null,b,u),null)),[p,S,a]}function U5(a,s){a.action=s}function Cw(a){var s=Mt(),u=rt;if(u!==null)return Tw(s,u,a);Mt(),s=s.memoizedState,u=Mt();var p=u.queue.dispatch;return u.memoizedState=a,[s,p,!1]}function es(a,s,u,p){return a={tag:a,create:u,deps:p,inst:s,next:null},s=De.updateQueue,s===null&&(s=Eu(),De.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,s.lastEffect=a),a}function Pw(){return Mt().memoizedState}function Tu(a,s,u,p){var b=vn();De.flags|=a,b.memoizedState=es(1|s,{destroy:void 0},u,p===void 0?null:p)}function Cu(a,s,u,p){var b=Mt();p=p===void 0?null:p;var S=b.memoizedState.inst;rt!==null&&p!==null&&ip(p,rt.memoizedState.deps)?b.memoizedState=es(s,S,u,p):(De.flags|=a,b.memoizedState=es(1|s,S,u,p))}function Iw(a,s){Tu(8390656,8,a,s)}function mp(a,s){Cu(2048,8,a,s)}function B5(a){De.flags|=4;var s=De.updateQueue;if(s===null)s=Eu(),De.updateQueue=s,s.events=[a];else{var u=s.events;u===null?s.events=[a]:u.push(a)}}function Mw(a){var s=Mt().memoizedState;return B5({ref:s,nextImpl:a}),function(){if((Xe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Ow(a,s){return Cu(4,2,a,s)}function jw(a,s){return Cu(4,4,a,s)}function kw(a,s){if(typeof s=="function"){a=a();var u=s(a);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Rw(a,s,u){u=u!=null?u.concat([a]):null,Cu(4,4,kw.bind(null,s,a),u)}function pp(){}function Dw(a,s){var u=Mt();s=s===void 0?null:s;var p=u.memoizedState;return s!==null&&ip(s,p[1])?p[0]:(u.memoizedState=[a,s],a)}function Lw(a,s){var u=Mt();s=s===void 0?null:s;var p=u.memoizedState;if(s!==null&&ip(s,p[1]))return p[0];if(p=a(),Ya){Yi(!0);try{a()}finally{Yi(!1)}}return u.memoizedState=[p,s],p}function gp(a,s,u){return u===void 0||(di&1073741824)!==0&&(Fe&261930)===0?a.memoizedState=s:(a.memoizedState=u,a=U1(),De.lanes|=a,la|=a,u)}function Uw(a,s,u,p){return Fn(u,s)?u:Xo.current!==null?(a=gp(a,u,p),Fn(a,s)||(Rt=!0),a):(di&42)===0||(di&1073741824)!==0&&(Fe&261930)===0?(Rt=!0,a.memoizedState=u):(a=U1(),De.lanes|=a,la|=a,s)}function Bw(a,s,u,p,b){var S=V.p;V.p=S!==0&&8>S?S:8;var T=q.T,j={};q.T=j,xp(a,!1,s,u);try{var B=b(),Y=q.S;if(Y!==null&&Y(j,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var oe=k5(B,p);bl(a,s,oe,Yn(a))}else bl(a,s,p,Yn(a))}catch(ce){bl(a,s,{then:function(){},status:"rejected",reason:ce},Yn())}finally{V.p=S,T!==null&&j.types!==null&&(T.types=j.types),q.T=T}}function z5(){}function vp(a,s,u,p){if(a.tag!==5)throw Error(r(476));var b=zw(a).queue;Bw(a,b,s,ne,u===null?z5:function(){return qw(a),u(p)})}function zw(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:ne},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:u},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function qw(a){var s=zw(a);s.next===null&&(s=a.alternate.memoizedState),bl(a,s.next.queue,{},Yn())}function yp(){return on(Ll)}function Fw(){return Mt().memoizedState}function Hw(){return Mt().memoizedState}function q5(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var u=Yn();a=na(u);var p=ra(s,a,u);p!==null&&(On(p,s,u),pl(p,s,u)),s={cache:Km()},a.payload=s;return}s=s.return}}function F5(a,s,u){var p=Yn();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Pu(a)?Vw(s,u):(u=Dm(a,s,u,p),u!==null&&(On(u,a,p),$w(u,s,p)))}function Gw(a,s,u){var p=Yn();bl(a,s,u,p)}function bl(a,s,u,p){var b={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Pu(a))Vw(s,b);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var T=s.lastRenderedState,j=S(T,u);if(b.hasEagerState=!0,b.eagerState=j,Fn(j,T))return cu(a,s,b,0),lt===null&&lu(),!1}catch{}finally{}if(u=Dm(a,s,b,p),u!==null)return On(u,a,p),$w(u,s,p),!0}return!1}function xp(a,s,u,p){if(p={lane:2,revertLane:Xp(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Pu(a)){if(s)throw Error(r(479))}else s=Dm(a,u,p,2),s!==null&&On(s,a,2)}function Pu(a){var s=a.alternate;return a===De||s!==null&&s===De}function Vw(a,s){Qo=wu=!0;var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}function $w(a,s,u){if((u&4194048)!==0){var p=s.lanes;p&=a.pendingLanes,u|=p,s.lanes=u,Xb(a,u)}}var Sl={readContext:on,use:_u,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Sl.useEffectEvent=Et;var Kw={readContext:on,use:_u,useCallback:function(a,s){return vn().memoizedState=[a,s===void 0?null:s],a},useContext:on,useEffect:Iw,useImperativeHandle:function(a,s,u){u=u!=null?u.concat([a]):null,Tu(4194308,4,kw.bind(null,s,a),u)},useLayoutEffect:function(a,s){return Tu(4194308,4,a,s)},useInsertionEffect:function(a,s){Tu(4,2,a,s)},useMemo:function(a,s){var u=vn();s=s===void 0?null:s;var p=a();if(Ya){Yi(!0);try{a()}finally{Yi(!1)}}return u.memoizedState=[p,s],p},useReducer:function(a,s,u){var p=vn();if(u!==void 0){var b=u(s);if(Ya){Yi(!0);try{u(s)}finally{Yi(!1)}}}else b=s;return p.memoizedState=p.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},p.queue=a,a=a.dispatch=F5.bind(null,De,a),[p.memoizedState,a]},useRef:function(a){var s=vn();return a={current:a},s.memoizedState=a},useState:function(a){a=fp(a);var s=a.queue,u=Gw.bind(null,De,s);return s.dispatch=u,[a.memoizedState,u]},useDebugValue:pp,useDeferredValue:function(a,s){var u=vn();return gp(u,a,s)},useTransition:function(){var a=fp(!1);return a=Bw.bind(null,De,a.queue,!0,!1),vn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,u){var p=De,b=vn();if(Ge){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),lt===null)throw Error(r(349));(Fe&127)!==0||mw(p,s,u)}b.memoizedState=u;var S={value:u,getSnapshot:s};return b.queue=S,Iw(gw.bind(null,p,S,a),[a]),p.flags|=2048,es(9,{destroy:void 0},pw.bind(null,p,S,u,s),null),u},useId:function(){var a=vn(),s=lt.identifierPrefix;if(Ge){var u=qr,p=zr;u=(p&~(1<<32-qn(p)-1)).toString(32)+u,s="_"+s+"R_"+u,u=Au++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=R5++,s="_"+s+"r_"+u.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:yp,useFormState:_w,useActionState:_w,useOptimistic:function(a){var s=vn();s.memoizedState=s.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=xp.bind(null,De,!0,u),u.dispatch=s,[a,s]},useMemoCache:cp,useCacheRefresh:function(){return vn().memoizedState=q5.bind(null,De)},useEffectEvent:function(a){var s=vn(),u={impl:a};return s.memoizedState=u,function(){if((Xe&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},bp={readContext:on,use:_u,useCallback:Dw,useContext:on,useEffect:mp,useImperativeHandle:Rw,useInsertionEffect:Ow,useLayoutEffect:jw,useMemo:Lw,useReducer:Nu,useRef:Pw,useState:function(){return Nu(fi)},useDebugValue:pp,useDeferredValue:function(a,s){var u=Mt();return Uw(u,rt.memoizedState,a,s)},useTransition:function(){var a=Nu(fi)[0],s=Mt().memoizedState;return[typeof a=="boolean"?a:xl(a),s]},useSyncExternalStore:hw,useId:Fw,useHostTransitionStatus:yp,useFormState:Nw,useActionState:Nw,useOptimistic:function(a,s){var u=Mt();return xw(u,rt,a,s)},useMemoCache:cp,useCacheRefresh:Hw};bp.useEffectEvent=Mw;var Yw={readContext:on,use:_u,useCallback:Dw,useContext:on,useEffect:mp,useImperativeHandle:Rw,useInsertionEffect:Ow,useLayoutEffect:jw,useMemo:Lw,useReducer:dp,useRef:Pw,useState:function(){return dp(fi)},useDebugValue:pp,useDeferredValue:function(a,s){var u=Mt();return rt===null?gp(u,a,s):Uw(u,rt.memoizedState,a,s)},useTransition:function(){var a=dp(fi)[0],s=Mt().memoizedState;return[typeof a=="boolean"?a:xl(a),s]},useSyncExternalStore:hw,useId:Fw,useHostTransitionStatus:yp,useFormState:Cw,useActionState:Cw,useOptimistic:function(a,s){var u=Mt();return rt!==null?xw(u,rt,a,s):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:cp,useCacheRefresh:Hw};Yw.useEffectEvent=Mw;function Sp(a,s,u,p){s=a.memoizedState,u=u(p,s),u=u==null?s:g({},s,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var wp={enqueueSetState:function(a,s,u){a=a._reactInternals;var p=Yn(),b=na(p);b.payload=s,u!=null&&(b.callback=u),s=ra(a,b,p),s!==null&&(On(s,a,p),pl(s,a,p))},enqueueReplaceState:function(a,s,u){a=a._reactInternals;var p=Yn(),b=na(p);b.tag=1,b.payload=s,u!=null&&(b.callback=u),s=ra(a,b,p),s!==null&&(On(s,a,p),pl(s,a,p))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var u=Yn(),p=na(u);p.tag=2,s!=null&&(p.callback=s),s=ra(a,p,u),s!==null&&(On(s,a,u),pl(s,a,u))}};function Jw(a,s,u,p,b,S,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,S,T):s.prototype&&s.prototype.isPureReactComponent?!sl(u,p)||!sl(b,S):!0}function Ww(a,s,u,p){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,p),s.state!==a&&wp.enqueueReplaceState(s,s.state,null)}function Ja(a,s){var u=s;if("ref"in s){u={};for(var p in s)p!=="ref"&&(u[p]=s[p])}if(a=a.defaultProps){u===s&&(u=g({},u));for(var b in a)u[b]===void 0&&(u[b]=a[b])}return u}function Xw(a){su(a)}function Qw(a){console.error(a)}function Zw(a){su(a)}function Iu(a,s){try{var u=a.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function e1(a,s,u){try{var p=a.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Ap(a,s,u){return u=na(u),u.tag=3,u.payload={element:null},u.callback=function(){Iu(a,s)},u}function t1(a){return a=na(a),a.tag=3,a}function n1(a,s,u,p){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var S=p.value;a.payload=function(){return b(S)},a.callback=function(){e1(s,u,p)}}var T=u.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(a.callback=function(){e1(s,u,p),typeof b!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var j=p.stack;this.componentDidCatch(p.value,{componentStack:j!==null?j:""})})}function H5(a,s,u,p,b){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=u.alternate,s!==null&&$o(s,u,b,!0),u=Gn.current,u!==null){switch(u.tag){case 31:case 13:return sr===null?Fu():u.alternate===null&&_t===0&&(_t=3),u.flags&=-257,u.flags|=65536,u.lanes=b,p===vu?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([p]):s.add(p),Yp(a,p,b)),!1;case 22:return u.flags|=65536,p===vu?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([p]):u.add(p)),Yp(a,p,b)),!1}throw Error(r(435,u.tag))}return Yp(a,p,b),Fu(),!1}if(Ge)return s=Gn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,p!==Fm&&(a=Error(r(422),{cause:p}),ul(rr(a,u)))):(p!==Fm&&(s=Error(r(423),{cause:p}),ul(rr(s,u))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,p=rr(p,u),b=Ap(a.stateNode,p,b),Zm(a,b),_t!==4&&(_t=2)),!1;var S=Error(r(520),{cause:p});if(S=rr(S,u),Pl===null?Pl=[S]:Pl.push(S),_t!==4&&(_t=2),s===null)return!0;p=rr(p,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,a=b&-b,u.lanes|=a,a=Ap(u.stateNode,p,a),Zm(u,a),!1;case 1:if(s=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ca===null||!ca.has(S))))return u.flags|=65536,b&=-b,u.lanes|=b,b=t1(b),n1(b,a,u,p),Zm(u,b),!1}u=u.return}while(u!==null);return!1}var Ep=Error(r(461)),Rt=!1;function sn(a,s,u,p){s.child=a===null?ow(s,null,u,p):Ka(s,a.child,u,p)}function r1(a,s,u,p,b){u=u.render;var S=s.ref;if("ref"in p){var T={};for(var j in p)j!=="ref"&&(T[j]=p[j])}else T=p;return Ha(s),p=ap(a,s,u,T,S,b),j=op(),a!==null&&!Rt?(sp(a,s,b),hi(a,s,b)):(Ge&&j&&zm(s),s.flags|=1,sn(a,s,p,b),s.child)}function i1(a,s,u,p,b){if(a===null){var S=u.type;return typeof S=="function"&&!Lm(S)&&S.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=S,a1(a,s,S,p,b)):(a=du(u.type,null,p,s,s.mode,b),a.ref=s.ref,a.return=s,s.child=a)}if(S=a.child,!Op(a,b)){var T=S.memoizedProps;if(u=u.compare,u=u!==null?u:sl,u(T,p)&&a.ref===s.ref)return hi(a,s,b)}return s.flags|=1,a=si(S,p),a.ref=s.ref,a.return=s,s.child=a}function a1(a,s,u,p,b){if(a!==null){var S=a.memoizedProps;if(sl(S,p)&&a.ref===s.ref)if(Rt=!1,s.pendingProps=p=S,Op(a,b))(a.flags&131072)!==0&&(Rt=!0);else return s.lanes=a.lanes,hi(a,s,b)}return _p(a,s,u,p,b)}function o1(a,s,u,p){var b=p.children,S=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(S=S!==null?S.baseLanes|u:u,a!==null){for(p=s.child=a.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~S}else p=0,s.child=null;return s1(a,s,S,u,p)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&pu(s,S!==null?S.cachePool:null),S!==null?cw(s,S):tp(),uw(s);else return p=s.lanes=536870912,s1(a,s,S!==null?S.baseLanes|u:u,u,p)}else S!==null?(pu(s,S.cachePool),cw(s,S),aa(),s.memoizedState=null):(a!==null&&pu(s,null),tp(),aa());return sn(a,s,b,u),s.child}function wl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function s1(a,s,u,p,b){var S=Jm();return S=S===null?null:{parent:jt._currentValue,pool:S},s.memoizedState={baseLanes:u,cachePool:S},a!==null&&pu(s,null),tp(),uw(s),a!==null&&$o(a,s,p,!0),s.childLanes=b,null}function Mu(a,s){return s=ju({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function l1(a,s,u){return Ka(s,a.child,null,u),a=Mu(s,s.pendingProps),a.flags|=2,Vn(s),s.memoizedState=null,a}function G5(a,s,u){var p=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Ge){if(p.mode==="hidden")return a=Mu(s,p),s.lanes=536870912,wl(null,a);if(rp(s),(a=dt)?(a=bA(a,or),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Xi!==null?{id:zr,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},u=VS(a),u.return=s,s.child=u,an=s,dt=null)):a=null,a===null)throw Zi(s);return s.lanes=536870912,null}return Mu(s,p)}var S=a.memoizedState;if(S!==null){var T=S.dehydrated;if(rp(s),b)if(s.flags&256)s.flags&=-257,s=l1(a,s,u);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Rt||$o(a,s,u,!1),b=(u&a.childLanes)!==0,Rt||b){if(p=lt,p!==null&&(T=Qb(p,u),T!==0&&T!==S.retryLane))throw S.retryLane=T,Ba(a,T),On(p,a,T),Ep;Fu(),s=l1(a,s,u)}else a=S.treeContext,dt=lr(T.nextSibling),an=s,Ge=!0,Qi=null,or=!1,a!==null&&YS(s,a),s=Mu(s,p),s.flags|=4096;return s}return a=si(a.child,{mode:p.mode,children:p.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Ou(a,s){var u=s.ref;if(u===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(s.flags|=4194816)}}function _p(a,s,u,p,b){return Ha(s),u=ap(a,s,u,p,void 0,b),p=op(),a!==null&&!Rt?(sp(a,s,b),hi(a,s,b)):(Ge&&p&&zm(s),s.flags|=1,sn(a,s,u,b),s.child)}function c1(a,s,u,p,b,S){return Ha(s),s.updateQueue=null,u=fw(s,p,u,b),dw(a),p=op(),a!==null&&!Rt?(sp(a,s,S),hi(a,s,S)):(Ge&&p&&zm(s),s.flags|=1,sn(a,s,u,S),s.child)}function u1(a,s,u,p,b){if(Ha(s),s.stateNode===null){var S=Fo,T=u.contextType;typeof T=="object"&&T!==null&&(S=on(T)),S=new u(p,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=wp,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=p,S.state=s.memoizedState,S.refs={},Xm(s),T=u.contextType,S.context=typeof T=="object"&&T!==null?on(T):Fo,S.state=s.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(Sp(s,u,T,p),S.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(T=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),T!==S.state&&wp.enqueueReplaceState(S,S.state,null),vl(s,p,S,b),gl(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(a===null){S=s.stateNode;var j=s.memoizedProps,B=Ja(u,j);S.props=B;var Y=S.context,oe=u.contextType;T=Fo,typeof oe=="object"&&oe!==null&&(T=on(oe));var ce=u.getDerivedStateFromProps;oe=typeof ce=="function"||typeof S.getSnapshotBeforeUpdate=="function",j=s.pendingProps!==j,oe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(j||Y!==T)&&Ww(s,S,p,T),ta=!1;var J=s.memoizedState;S.state=J,vl(s,p,S,b),gl(),Y=s.memoizedState,j||J!==Y||ta?(typeof ce=="function"&&(Sp(s,u,ce,p),Y=s.memoizedState),(B=ta||Jw(s,u,B,p,J,Y,T))?(oe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=Y),S.props=p,S.state=Y,S.context=T,p=B):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{S=s.stateNode,Qm(a,s),T=s.memoizedProps,oe=Ja(u,T),S.props=oe,ce=s.pendingProps,J=S.context,Y=u.contextType,B=Fo,typeof Y=="object"&&Y!==null&&(B=on(Y)),j=u.getDerivedStateFromProps,(Y=typeof j=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==ce||J!==B)&&Ww(s,S,p,B),ta=!1,J=s.memoizedState,S.state=J,vl(s,p,S,b),gl();var ee=s.memoizedState;T!==ce||J!==ee||ta||a!==null&&a.dependencies!==null&&hu(a.dependencies)?(typeof j=="function"&&(Sp(s,u,j,p),ee=s.memoizedState),(oe=ta||Jw(s,u,oe,p,J,ee,B)||a!==null&&a.dependencies!==null&&hu(a.dependencies))?(Y||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,ee,B),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,ee,B)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||T===a.memoizedProps&&J===a.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&J===a.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=ee),S.props=p,S.state=ee,S.context=B,p=oe):(typeof S.componentDidUpdate!="function"||T===a.memoizedProps&&J===a.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&J===a.memoizedState||(s.flags|=1024),p=!1)}return S=p,Ou(a,s),p=(s.flags&128)!==0,S||p?(S=s.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,a!==null&&p?(s.child=Ka(s,a.child,null,b),s.child=Ka(s,null,u,b)):sn(a,s,u,b),s.memoizedState=S.state,a=s.child):a=hi(a,s,b),a}function d1(a,s,u,p){return qa(),s.flags|=256,sn(a,s,u,p),s.child}var Np={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tp(a){return{baseLanes:a,cachePool:ew()}}function Cp(a,s,u){return a=a!==null?a.childLanes&~u:0,s&&(a|=Kn),a}function f1(a,s,u){var p=s.pendingProps,b=!1,S=(s.flags&128)!==0,T;if((T=S)||(T=a!==null&&a.memoizedState===null?!1:(It.current&2)!==0),T&&(b=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,a===null){if(Ge){if(b?ia(s):aa(),(a=dt)?(a=bA(a,or),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Xi!==null?{id:zr,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},u=VS(a),u.return=s,s.child=u,an=s,dt=null)):a=null,a===null)throw Zi(s);return ug(a)?s.lanes=32:s.lanes=536870912,null}var j=p.children;return p=p.fallback,b?(aa(),b=s.mode,j=ju({mode:"hidden",children:j},b),p=za(p,b,u,null),j.return=s,p.return=s,j.sibling=p,s.child=j,p=s.child,p.memoizedState=Tp(u),p.childLanes=Cp(a,T,u),s.memoizedState=Np,wl(null,p)):(ia(s),Pp(s,j))}var B=a.memoizedState;if(B!==null&&(j=B.dehydrated,j!==null)){if(S)s.flags&256?(ia(s),s.flags&=-257,s=Ip(a,s,u)):s.memoizedState!==null?(aa(),s.child=a.child,s.flags|=128,s=null):(aa(),j=p.fallback,b=s.mode,p=ju({mode:"visible",children:p.children},b),j=za(j,b,u,null),j.flags|=2,p.return=s,j.return=s,p.sibling=j,s.child=p,Ka(s,a.child,null,u),p=s.child,p.memoizedState=Tp(u),p.childLanes=Cp(a,T,u),s.memoizedState=Np,s=wl(null,p));else if(ia(s),ug(j)){if(T=j.nextSibling&&j.nextSibling.dataset,T)var Y=T.dgst;T=Y,p=Error(r(419)),p.stack="",p.digest=T,ul({value:p,source:null,stack:null}),s=Ip(a,s,u)}else if(Rt||$o(a,s,u,!1),T=(u&a.childLanes)!==0,Rt||T){if(T=lt,T!==null&&(p=Qb(T,u),p!==0&&p!==B.retryLane))throw B.retryLane=p,Ba(a,p),On(T,a,p),Ep;cg(j)||Fu(),s=Ip(a,s,u)}else cg(j)?(s.flags|=192,s.child=a.child,s=null):(a=B.treeContext,dt=lr(j.nextSibling),an=s,Ge=!0,Qi=null,or=!1,a!==null&&YS(s,a),s=Pp(s,p.children),s.flags|=4096);return s}return b?(aa(),j=p.fallback,b=s.mode,B=a.child,Y=B.sibling,p=si(B,{mode:"hidden",children:p.children}),p.subtreeFlags=B.subtreeFlags&65011712,Y!==null?j=si(Y,j):(j=za(j,b,u,null),j.flags|=2),j.return=s,p.return=s,p.sibling=j,s.child=p,wl(null,p),p=s.child,j=a.child.memoizedState,j===null?j=Tp(u):(b=j.cachePool,b!==null?(B=jt._currentValue,b=b.parent!==B?{parent:B,pool:B}:b):b=ew(),j={baseLanes:j.baseLanes|u,cachePool:b}),p.memoizedState=j,p.childLanes=Cp(a,T,u),s.memoizedState=Np,wl(a.child,p)):(ia(s),u=a.child,a=u.sibling,u=si(u,{mode:"visible",children:p.children}),u.return=s,u.sibling=null,a!==null&&(T=s.deletions,T===null?(s.deletions=[a],s.flags|=16):T.push(a)),s.child=u,s.memoizedState=null,u)}function Pp(a,s){return s=ju({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function ju(a,s){return a=Hn(22,a,null,s),a.lanes=0,a}function Ip(a,s,u){return Ka(s,a.child,null,u),a=Pp(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function h1(a,s,u){a.lanes|=s;var p=a.alternate;p!==null&&(p.lanes|=s),Vm(a.return,s,u)}function Mp(a,s,u,p,b,S){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:b,treeForkCount:S}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=p,T.tail=u,T.tailMode=b,T.treeForkCount=S)}function m1(a,s,u){var p=s.pendingProps,b=p.revealOrder,S=p.tail;p=p.children;var T=It.current,j=(T&2)!==0;if(j?(T=T&1|2,s.flags|=128):T&=1,se(It,T),sn(a,s,p,u),p=Ge?cl:0,!j&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&h1(a,u,s);else if(a.tag===19)h1(a,u,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(u=s.child,b=null;u!==null;)a=u.alternate,a!==null&&Su(a)===null&&(b=u),u=u.sibling;u=b,u===null?(b=s.child,s.child=null):(b=u.sibling,u.sibling=null),Mp(s,!1,b,u,S,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,b=s.child,s.child=null;b!==null;){if(a=b.alternate,a!==null&&Su(a)===null){s.child=b;break}a=b.sibling,b.sibling=u,u=b,b=a}Mp(s,!0,u,null,S,p);break;case"together":Mp(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function hi(a,s,u){if(a!==null&&(s.dependencies=a.dependencies),la|=s.lanes,(u&s.childLanes)===0)if(a!==null){if($o(a,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,u=si(a,a.pendingProps),s.child=u,u.return=s;a.sibling!==null;)a=a.sibling,u=u.sibling=si(a,a.pendingProps),u.return=s;u.sibling=null}return s.child}function Op(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&hu(a)))}function V5(a,s,u){switch(s.tag){case 3:Be(s,s.stateNode.containerInfo),ea(s,jt,a.memoizedState.cache),qa();break;case 27:case 5:Ie(s);break;case 4:Be(s,s.stateNode.containerInfo);break;case 10:ea(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,rp(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(ia(s),s.flags|=128,null):(u&s.child.childLanes)!==0?f1(a,s,u):(ia(s),a=hi(a,s,u),a!==null?a.sibling:null);ia(s);break;case 19:var b=(a.flags&128)!==0;if(p=(u&s.childLanes)!==0,p||($o(a,s,u,!1),p=(u&s.childLanes)!==0),b){if(p)return m1(a,s,u);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),se(It,It.current),p)break;return null;case 22:return s.lanes=0,o1(a,s,u,s.pendingProps);case 24:ea(s,jt,a.memoizedState.cache)}return hi(a,s,u)}function p1(a,s,u){if(a!==null)if(a.memoizedProps!==s.pendingProps)Rt=!0;else{if(!Op(a,u)&&(s.flags&128)===0)return Rt=!1,V5(a,s,u);Rt=(a.flags&131072)!==0}else Rt=!1,Ge&&(s.flags&1048576)!==0&&KS(s,cl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(a=Va(s.elementType),s.type=a,typeof a=="function")Lm(a)?(p=Ja(a,p),s.tag=1,s=u1(null,s,a,p,u)):(s.tag=0,s=_p(null,s,a,p,u));else{if(a!=null){var b=a.$$typeof;if(b===M){s.tag=11,s=r1(null,s,a,p,u);break e}else if(b===R){s.tag=14,s=i1(null,s,a,p,u);break e}}throw s=ae(a)||a,Error(r(306,s,""))}}return s;case 0:return _p(a,s,s.type,s.pendingProps,u);case 1:return p=s.type,b=Ja(p,s.pendingProps),u1(a,s,p,b,u);case 3:e:{if(Be(s,s.stateNode.containerInfo),a===null)throw Error(r(387));p=s.pendingProps;var S=s.memoizedState;b=S.element,Qm(a,s),vl(s,p,null,u);var T=s.memoizedState;if(p=T.cache,ea(s,jt,p),p!==S.cache&&$m(s,[jt],u,!0),gl(),p=T.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=d1(a,s,p,u);break e}else if(p!==b){b=rr(Error(r(424)),s),ul(b),s=d1(a,s,p,u);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(dt=lr(a.firstChild),an=s,Ge=!0,Qi=null,or=!0,u=ow(s,null,p,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(qa(),p===b){s=hi(a,s,u);break e}sn(a,s,p,u)}s=s.child}return s;case 26:return Ou(a,s),a===null?(u=NA(s.type,null,s.pendingProps,null))?s.memoizedState=u:Ge||(u=s.type,a=s.pendingProps,p=Ju(_e.current).createElement(u),p[rn]=s,p[Nn]=a,ln(p,u,a),Gt(p),s.stateNode=p):s.memoizedState=NA(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Ie(s),a===null&&Ge&&(p=s.stateNode=AA(s.type,s.pendingProps,_e.current),an=s,or=!0,b=dt,ha(s.type)?(dg=b,dt=lr(p.firstChild)):dt=b),sn(a,s,s.pendingProps.children,u),Ou(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Ge&&((b=p=dt)&&(p=SL(p,s.type,s.pendingProps,or),p!==null?(s.stateNode=p,an=s,dt=lr(p.firstChild),or=!1,b=!0):b=!1),b||Zi(s)),Ie(s),b=s.type,S=s.pendingProps,T=a!==null?a.memoizedProps:null,p=S.children,og(b,S)?p=null:T!==null&&og(b,T)&&(s.flags|=32),s.memoizedState!==null&&(b=ap(a,s,D5,null,null,u),Ll._currentValue=b),Ou(a,s),sn(a,s,p,u),s.child;case 6:return a===null&&Ge&&((a=u=dt)&&(u=wL(u,s.pendingProps,or),u!==null?(s.stateNode=u,an=s,dt=null,a=!0):a=!1),a||Zi(s)),null;case 13:return f1(a,s,u);case 4:return Be(s,s.stateNode.containerInfo),p=s.pendingProps,a===null?s.child=Ka(s,null,p,u):sn(a,s,p,u),s.child;case 11:return r1(a,s,s.type,s.pendingProps,u);case 7:return sn(a,s,s.pendingProps,u),s.child;case 8:return sn(a,s,s.pendingProps.children,u),s.child;case 12:return sn(a,s,s.pendingProps.children,u),s.child;case 10:return p=s.pendingProps,ea(s,s.type,p.value),sn(a,s,p.children,u),s.child;case 9:return b=s.type._context,p=s.pendingProps.children,Ha(s),b=on(b),p=p(b),s.flags|=1,sn(a,s,p,u),s.child;case 14:return i1(a,s,s.type,s.pendingProps,u);case 15:return a1(a,s,s.type,s.pendingProps,u);case 19:return m1(a,s,u);case 31:return G5(a,s,u);case 22:return o1(a,s,u,s.pendingProps);case 24:return Ha(s),p=on(jt),a===null?(b=Jm(),b===null&&(b=lt,S=Km(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=u),b=S),s.memoizedState={parent:p,cache:b},Xm(s),ea(s,jt,b)):((a.lanes&u)!==0&&(Qm(a,s),vl(s,null,null,u),gl()),b=a.memoizedState,S=s.memoizedState,b.parent!==p?(b={parent:p,cache:p},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),ea(s,jt,p)):(p=S.cache,ea(s,jt,p),p!==b.cache&&$m(s,[jt],u,!0))),sn(a,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function mi(a){a.flags|=4}function jp(a,s,u,p,b){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(F1())a.flags|=8192;else throw $a=vu,Wm}else a.flags&=-16777217}function g1(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!MA(s))if(F1())a.flags|=8192;else throw $a=vu,Wm}function ku(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Jb():536870912,a.lanes|=s,is|=s)}function Al(a,s){if(!Ge)switch(a.tailMode){case"hidden":s=a.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function ft(a){var s=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(s)for(var b=a.child;b!==null;)u|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)u|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=p,a.childLanes=u,s}function $5(a,s,u){var p=s.pendingProps;switch(qm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(s),null;case 1:return ft(s),null;case 3:return u=s.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),ui(jt),ie(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Vo(s)?mi(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hm())),ft(s),null;case 26:var b=s.type,S=s.memoizedState;return a===null?(mi(s),S!==null?(ft(s),g1(s,S)):(ft(s),jp(s,b,null,p,u))):S?S!==a.memoizedState?(mi(s),ft(s),g1(s,S)):(ft(s),s.flags&=-16777217):(a=a.memoizedProps,a!==p&&mi(s),ft(s),jp(s,b,a,p,u)),null;case 27:if(je(s),u=_e.current,b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&mi(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return ft(s),null}a=te.current,Vo(s)?JS(s):(a=AA(b,p,u),s.stateNode=a,mi(s))}return ft(s),null;case 5:if(je(s),b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&mi(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return ft(s),null}if(S=te.current,Vo(s))JS(s);else{var T=Ju(_e.current);switch(S){case 1:S=T.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:S=T.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":S=T.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":S=T.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":S=T.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?T.createElement("select",{is:p.is}):T.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?T.createElement(b,{is:p.is}):T.createElement(b)}}S[rn]=s,S[Nn]=p;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)S.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=S;e:switch(ln(S,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&mi(s)}}return ft(s),jp(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,u),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==p&&mi(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(a=_e.current,Vo(s)){if(a=s.stateNode,u=s.memoizedProps,p=null,b=an,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}a[rn]=s,a=!!(a.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||fA(a.nodeValue,u)),a||Zi(s,!0)}else a=Ju(a).createTextNode(p),a[rn]=s,s.stateNode=a}return ft(s),null;case 31:if(u=s.memoizedState,a===null||a.memoizedState!==null){if(p=Vo(s),u!==null){if(a===null){if(!p)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[rn]=s}else qa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ft(s),a=!1}else u=Hm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return s.flags&256?(Vn(s),s):(Vn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ft(s),null;case 13:if(p=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Vo(s),p!==null&&p.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[rn]=s}else qa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ft(s),b=!1}else b=Hm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(Vn(s),s):(Vn(s),null)}return Vn(s),(s.flags&128)!==0?(s.lanes=u,s):(u=p!==null,a=a!==null&&a.memoizedState!==null,u&&(p=s.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==b&&(p.flags|=2048)),u!==a&&u&&(s.child.flags|=8192),ku(s,s.updateQueue),ft(s),null);case 4:return ie(),a===null&&tg(s.stateNode.containerInfo),ft(s),null;case 10:return ui(s.type),ft(s),null;case 19:if(U(It),p=s.memoizedState,p===null)return ft(s),null;if(b=(s.flags&128)!==0,S=p.rendering,S===null)if(b)Al(p,!1);else{if(_t!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(S=Su(a),S!==null){for(s.flags|=128,Al(p,!1),a=S.updateQueue,s.updateQueue=a,ku(s,a),s.subtreeFlags=0,a=u,u=s.child;u!==null;)GS(u,a),u=u.sibling;return se(It,It.current&1|2),Ge&&li(s,p.treeForkCount),s.child}a=a.sibling}p.tail!==null&&Ne()>Bu&&(s.flags|=128,b=!0,Al(p,!1),s.lanes=4194304)}else{if(!b)if(a=Su(S),a!==null){if(s.flags|=128,b=!0,a=a.updateQueue,s.updateQueue=a,ku(s,a),Al(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!Ge)return ft(s),null}else 2*Ne()-p.renderingStartTime>Bu&&u!==536870912&&(s.flags|=128,b=!0,Al(p,!1),s.lanes=4194304);p.isBackwards?(S.sibling=s.child,s.child=S):(a=p.last,a!==null?a.sibling=S:s.child=S,p.last=S)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Ne(),a.sibling=null,u=It.current,se(It,b?u&1|2:u&1),Ge&&li(s,p.treeForkCount),a):(ft(s),null);case 22:case 23:return Vn(s),np(),p=s.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(u&536870912)!==0&&(s.flags&128)===0&&(ft(s),s.subtreeFlags&6&&(s.flags|=8192)):ft(s),u=s.updateQueue,u!==null&&ku(s,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==u&&(s.flags|=2048),a!==null&&U(Ga),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ui(jt),ft(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function K5(a,s){switch(qm(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return ui(jt),ie(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return je(s),null;case 31:if(s.memoizedState!==null){if(Vn(s),s.alternate===null)throw Error(r(340));qa()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Vn(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));qa()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return U(It),null;case 4:return ie(),null;case 10:return ui(s.type),null;case 22:case 23:return Vn(s),np(),a!==null&&U(Ga),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return ui(jt),null;case 25:return null;default:return null}}function v1(a,s){switch(qm(s),s.tag){case 3:ui(jt),ie();break;case 26:case 27:case 5:je(s);break;case 4:ie();break;case 31:s.memoizedState!==null&&Vn(s);break;case 13:Vn(s);break;case 19:U(It);break;case 10:ui(s.type);break;case 22:case 23:Vn(s),np(),a!==null&&U(Ga);break;case 24:ui(jt)}}function El(a,s){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var b=p.next;u=b;do{if((u.tag&a)===a){p=void 0;var S=u.create,T=u.inst;p=S(),T.destroy=p}u=u.next}while(u!==b)}}catch(j){Ze(s,s.return,j)}}function oa(a,s,u){try{var p=s.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var S=b.next;p=S;do{if((p.tag&a)===a){var T=p.inst,j=T.destroy;if(j!==void 0){T.destroy=void 0,b=s;var B=u,Y=j;try{Y()}catch(oe){Ze(b,B,oe)}}}p=p.next}while(p!==S)}}catch(oe){Ze(s,s.return,oe)}}function y1(a){var s=a.updateQueue;if(s!==null){var u=a.stateNode;try{lw(s,u)}catch(p){Ze(a,a.return,p)}}}function x1(a,s,u){u.props=Ja(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(p){Ze(a,s,p)}}function _l(a,s){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof u=="function"?a.refCleanup=u(p):u.current=p}}catch(b){Ze(a,s,b)}}function Fr(a,s){var u=a.ref,p=a.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(b){Ze(a,s,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){Ze(a,s,b)}else u.current=null}function b1(a){var s=a.type,u=a.memoizedProps,p=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(b){Ze(a,a.return,b)}}function kp(a,s,u){try{var p=a.stateNode;pL(p,a.type,u,s),p[Nn]=s}catch(b){Ze(a,a.return,b)}}function S1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ha(a.type)||a.tag===4}function Rp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||S1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ha(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Dp(a,s,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(a),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=ai));else if(p!==4&&(p===27&&ha(a.type)&&(u=a.stateNode,s=null),a=a.child,a!==null))for(Dp(a,s,u),a=a.sibling;a!==null;)Dp(a,s,u),a=a.sibling}function Ru(a,s,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?u.insertBefore(a,s):u.appendChild(a);else if(p!==4&&(p===27&&ha(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Ru(a,s,u),a=a.sibling;a!==null;)Ru(a,s,u),a=a.sibling}function w1(a){var s=a.stateNode,u=a.memoizedProps;try{for(var p=a.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);ln(s,p,u),s[rn]=a,s[Nn]=u}catch(S){Ze(a,a.return,S)}}var pi=!1,Dt=!1,Lp=!1,A1=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function Y5(a,s){if(a=a.containerInfo,ig=nd,a=RS(a),Im(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var b=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var T=0,j=-1,B=-1,Y=0,oe=0,ce=a,J=null;t:for(;;){for(var ee;ce!==u||b!==0&&ce.nodeType!==3||(j=T+b),ce!==S||p!==0&&ce.nodeType!==3||(B=T+p),ce.nodeType===3&&(T+=ce.nodeValue.length),(ee=ce.firstChild)!==null;)J=ce,ce=ee;for(;;){if(ce===a)break t;if(J===u&&++Y===b&&(j=T),J===S&&++oe===p&&(B=T),(ee=ce.nextSibling)!==null)break;ce=J,J=ce.parentNode}ce=ee}u=j===-1||B===-1?null:{start:j,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(ag={focusedElem:a,selectionRange:u},nd=!1,Vt=s;Vt!==null;)if(s=Vt,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Vt=a;else for(;Vt!==null;){switch(s=Vt,S=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)b=a[u],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,u=s,b=S.memoizedProps,S=S.memoizedState,p=u.stateNode;try{var be=Ja(u.type,b);a=p.getSnapshotBeforeUpdate(be,S),p.__reactInternalSnapshotBeforeUpdate=a}catch(Me){Ze(u,u.return,Me)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,u=a.nodeType,u===9)lg(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":lg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Vt=a;break}Vt=s.return}}function E1(a,s,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:vi(a,u),p&4&&El(5,u);break;case 1:if(vi(a,u),p&4)if(a=u.stateNode,s===null)try{a.componentDidMount()}catch(T){Ze(u,u.return,T)}else{var b=Ja(u.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(b,s,a.__reactInternalSnapshotBeforeUpdate)}catch(T){Ze(u,u.return,T)}}p&64&&y1(u),p&512&&_l(u,u.return);break;case 3:if(vi(a,u),p&64&&(a=u.updateQueue,a!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{lw(a,s)}catch(T){Ze(u,u.return,T)}}break;case 27:s===null&&p&4&&w1(u);case 26:case 5:vi(a,u),s===null&&p&4&&b1(u),p&512&&_l(u,u.return);break;case 12:vi(a,u);break;case 31:vi(a,u),p&4&&T1(a,u);break;case 13:vi(a,u),p&4&&C1(a,u),p&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=rL.bind(null,u),AL(a,u))));break;case 22:if(p=u.memoizedState!==null||pi,!p){s=s!==null&&s.memoizedState!==null||Dt,b=pi;var S=Dt;pi=p,(Dt=s)&&!S?yi(a,u,(u.subtreeFlags&8772)!==0):vi(a,u),pi=b,Dt=S}break;case 30:break;default:vi(a,u)}}function _1(a){var s=a.alternate;s!==null&&(a.alternate=null,_1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&hm(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var yt=null,Cn=!1;function gi(a,s,u){for(u=u.child;u!==null;)N1(a,s,u),u=u.sibling}function N1(a,s,u){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Pt,u)}catch{}switch(u.tag){case 26:Dt||Fr(u,s),gi(a,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Dt||Fr(u,s);var p=yt,b=Cn;ha(u.type)&&(yt=u.stateNode,Cn=!1),gi(a,s,u),kl(u.stateNode),yt=p,Cn=b;break;case 5:Dt||Fr(u,s);case 6:if(p=yt,b=Cn,yt=null,gi(a,s,u),yt=p,Cn=b,yt!==null)if(Cn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(u.stateNode)}catch(S){Ze(u,s,S)}else try{yt.removeChild(u.stateNode)}catch(S){Ze(u,s,S)}break;case 18:yt!==null&&(Cn?(a=yt,yA(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),fs(a)):yA(yt,u.stateNode));break;case 4:p=yt,b=Cn,yt=u.stateNode.containerInfo,Cn=!0,gi(a,s,u),yt=p,Cn=b;break;case 0:case 11:case 14:case 15:oa(2,u,s),Dt||oa(4,u,s),gi(a,s,u);break;case 1:Dt||(Fr(u,s),p=u.stateNode,typeof p.componentWillUnmount=="function"&&x1(u,s,p)),gi(a,s,u);break;case 21:gi(a,s,u);break;case 22:Dt=(p=Dt)||u.memoizedState!==null,gi(a,s,u),Dt=p;break;default:gi(a,s,u)}}function T1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{fs(a)}catch(u){Ze(s,s.return,u)}}}function C1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{fs(a)}catch(u){Ze(s,s.return,u)}}function J5(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new A1),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new A1),s;default:throw Error(r(435,a.tag))}}function Du(a,s){var u=J5(a);s.forEach(function(p){if(!u.has(p)){u.add(p);var b=iL.bind(null,a,p);p.then(b,b)}})}function Pn(a,s){var u=s.deletions;if(u!==null)for(var p=0;p<u.length;p++){var b=u[p],S=a,T=s,j=T;e:for(;j!==null;){switch(j.tag){case 27:if(ha(j.type)){yt=j.stateNode,Cn=!1;break e}break;case 5:yt=j.stateNode,Cn=!1;break e;case 3:case 4:yt=j.stateNode.containerInfo,Cn=!0;break e}j=j.return}if(yt===null)throw Error(r(160));N1(S,T,b),yt=null,Cn=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)P1(s,a),s=s.sibling}var Er=null;function P1(a,s){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Pn(s,a),In(a),p&4&&(oa(3,a,a.return),El(3,a),oa(5,a,a.return));break;case 1:Pn(s,a),In(a),p&512&&(Dt||u===null||Fr(u,u.return)),p&64&&pi&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var b=Er;if(Pn(s,a),In(a),p&512&&(Dt||u===null||Fr(u,u.return)),p&4){var S=u!==null?u.memoizedState:null;if(p=a.memoizedState,u===null)if(p===null)if(a.stateNode===null){e:{p=a.type,u=a.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":S=b.getElementsByTagName("title")[0],(!S||S[Qs]||S[rn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(p),b.head.insertBefore(S,b.querySelector("head > title"))),ln(S,p,u),S[rn]=a,Gt(S),p=S;break e;case"link":var T=PA("link","href",b).get(p+(u.href||""));if(T){for(var j=0;j<T.length;j++)if(S=T[j],S.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){T.splice(j,1);break t}}S=b.createElement(p),ln(S,p,u),b.head.appendChild(S);break;case"meta":if(T=PA("meta","content",b).get(p+(u.content||""))){for(j=0;j<T.length;j++)if(S=T[j],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){T.splice(j,1);break t}}S=b.createElement(p),ln(S,p,u),b.head.appendChild(S);break;default:throw Error(r(468,p))}S[rn]=a,Gt(S),p=S}a.stateNode=p}else IA(b,a.type,a.stateNode);else a.stateNode=CA(b,p,a.memoizedProps);else S!==p?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,p===null?IA(b,a.type,a.stateNode):CA(b,p,a.memoizedProps)):p===null&&a.stateNode!==null&&kp(a,a.memoizedProps,u.memoizedProps)}break;case 27:Pn(s,a),In(a),p&512&&(Dt||u===null||Fr(u,u.return)),u!==null&&p&4&&kp(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Pn(s,a),In(a),p&512&&(Dt||u===null||Fr(u,u.return)),a.flags&32){b=a.stateNode;try{Ro(b,"")}catch(be){Ze(a,a.return,be)}}p&4&&a.stateNode!=null&&(b=a.memoizedProps,kp(a,b,u!==null?u.memoizedProps:b)),p&1024&&(Lp=!0);break;case 6:if(Pn(s,a),In(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,u=a.stateNode;try{u.nodeValue=p}catch(be){Ze(a,a.return,be)}}break;case 3:if(Qu=null,b=Er,Er=Wu(s.containerInfo),Pn(s,a),Er=b,In(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{fs(s.containerInfo)}catch(be){Ze(a,a.return,be)}Lp&&(Lp=!1,I1(a));break;case 4:p=Er,Er=Wu(a.stateNode.containerInfo),Pn(s,a),In(a),Er=p;break;case 12:Pn(s,a),In(a);break;case 31:Pn(s,a),In(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Du(a,p)));break;case 13:Pn(s,a),In(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Uu=Ne()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Du(a,p)));break;case 22:b=a.memoizedState!==null;var B=u!==null&&u.memoizedState!==null,Y=pi,oe=Dt;if(pi=Y||b,Dt=oe||B,Pn(s,a),Dt=oe,pi=Y,In(a),p&8192)e:for(s=a.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(u===null||B||pi||Dt||Wa(a)),u=null,s=a;;){if(s.tag===5||s.tag===26){if(u===null){B=u=s;try{if(S=B.stateNode,b)T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{j=B.stateNode;var ce=B.memoizedProps.style,J=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;j.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(be){Ze(B,B.return,be)}}}else if(s.tag===6){if(u===null){B=s;try{B.stateNode.nodeValue=b?"":B.memoizedProps}catch(be){Ze(B,B.return,be)}}}else if(s.tag===18){if(u===null){B=s;try{var ee=B.stateNode;b?xA(ee,!0):xA(B.stateNode,!1)}catch(be){Ze(B,B.return,be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=a.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Du(a,u))));break;case 19:Pn(s,a),In(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Du(a,p)));break;case 30:break;case 21:break;default:Pn(s,a),In(a)}}function In(a){var s=a.flags;if(s&2){try{for(var u,p=a.return;p!==null;){if(S1(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var b=u.stateNode,S=Rp(a);Ru(a,S,b);break;case 5:var T=u.stateNode;u.flags&32&&(Ro(T,""),u.flags&=-33);var j=Rp(a);Ru(a,j,T);break;case 3:case 4:var B=u.stateNode.containerInfo,Y=Rp(a);Dp(a,Y,B);break;default:throw Error(r(161))}}catch(oe){Ze(a,a.return,oe)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function I1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;I1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function vi(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)E1(a,s.alternate,s),s=s.sibling}function Wa(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:oa(4,s,s.return),Wa(s);break;case 1:Fr(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&x1(s,s.return,u),Wa(s);break;case 27:kl(s.stateNode);case 26:case 5:Fr(s,s.return),Wa(s);break;case 22:s.memoizedState===null&&Wa(s);break;case 30:Wa(s);break;default:Wa(s)}a=a.sibling}}function yi(a,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,b=a,S=s,T=S.flags;switch(S.tag){case 0:case 11:case 15:yi(b,S,u),El(4,S);break;case 1:if(yi(b,S,u),p=S,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Y){Ze(p,p.return,Y)}if(p=S,b=p.updateQueue,b!==null){var j=p.stateNode;try{var B=b.shared.hiddenCallbacks;if(B!==null)for(b.shared.hiddenCallbacks=null,b=0;b<B.length;b++)sw(B[b],j)}catch(Y){Ze(p,p.return,Y)}}u&&T&64&&y1(S),_l(S,S.return);break;case 27:w1(S);case 26:case 5:yi(b,S,u),u&&p===null&&T&4&&b1(S),_l(S,S.return);break;case 12:yi(b,S,u);break;case 31:yi(b,S,u),u&&T&4&&T1(b,S);break;case 13:yi(b,S,u),u&&T&4&&C1(b,S);break;case 22:S.memoizedState===null&&yi(b,S,u),_l(S,S.return);break;case 30:break;default:yi(b,S,u)}s=s.sibling}}function Up(a,s){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&dl(u))}function Bp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&dl(a))}function _r(a,s,u,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)M1(a,s,u,p),s=s.sibling}function M1(a,s,u,p){var b=s.flags;switch(s.tag){case 0:case 11:case 15:_r(a,s,u,p),b&2048&&El(9,s);break;case 1:_r(a,s,u,p);break;case 3:_r(a,s,u,p),b&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&dl(a)));break;case 12:if(b&2048){_r(a,s,u,p),a=s.stateNode;try{var S=s.memoizedProps,T=S.id,j=S.onPostCommit;typeof j=="function"&&j(T,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(B){Ze(s,s.return,B)}}else _r(a,s,u,p);break;case 31:_r(a,s,u,p);break;case 13:_r(a,s,u,p);break;case 23:break;case 22:S=s.stateNode,T=s.alternate,s.memoizedState!==null?S._visibility&2?_r(a,s,u,p):Nl(a,s):S._visibility&2?_r(a,s,u,p):(S._visibility|=2,ts(a,s,u,p,(s.subtreeFlags&10256)!==0||!1)),b&2048&&Up(T,s);break;case 24:_r(a,s,u,p),b&2048&&Bp(s.alternate,s);break;default:_r(a,s,u,p)}}function ts(a,s,u,p,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var S=a,T=s,j=u,B=p,Y=T.flags;switch(T.tag){case 0:case 11:case 15:ts(S,T,j,B,b),El(8,T);break;case 23:break;case 22:var oe=T.stateNode;T.memoizedState!==null?oe._visibility&2?ts(S,T,j,B,b):Nl(S,T):(oe._visibility|=2,ts(S,T,j,B,b)),b&&Y&2048&&Up(T.alternate,T);break;case 24:ts(S,T,j,B,b),b&&Y&2048&&Bp(T.alternate,T);break;default:ts(S,T,j,B,b)}s=s.sibling}}function Nl(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=a,p=s,b=p.flags;switch(p.tag){case 22:Nl(u,p),b&2048&&Up(p.alternate,p);break;case 24:Nl(u,p),b&2048&&Bp(p.alternate,p);break;default:Nl(u,p)}s=s.sibling}}var Tl=8192;function ns(a,s,u){if(a.subtreeFlags&Tl)for(a=a.child;a!==null;)O1(a,s,u),a=a.sibling}function O1(a,s,u){switch(a.tag){case 26:ns(a,s,u),a.flags&Tl&&a.memoizedState!==null&&RL(u,Er,a.memoizedState,a.memoizedProps);break;case 5:ns(a,s,u);break;case 3:case 4:var p=Er;Er=Wu(a.stateNode.containerInfo),ns(a,s,u),Er=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Tl,Tl=16777216,ns(a,s,u),Tl=p):ns(a,s,u));break;default:ns(a,s,u)}}function j1(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Cl(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var p=s[u];Vt=p,R1(p,a)}j1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)k1(a),a=a.sibling}function k1(a){switch(a.tag){case 0:case 11:case 15:Cl(a),a.flags&2048&&oa(9,a,a.return);break;case 3:Cl(a);break;case 12:Cl(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Lu(a)):Cl(a);break;default:Cl(a)}}function Lu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var p=s[u];Vt=p,R1(p,a)}j1(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:oa(8,s,s.return),Lu(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Lu(s));break;default:Lu(s)}a=a.sibling}}function R1(a,s){for(;Vt!==null;){var u=Vt;switch(u.tag){case 0:case 11:case 15:oa(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:dl(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Vt=p;else e:for(u=a;Vt!==null;){p=Vt;var b=p.sibling,S=p.return;if(_1(p),p===u){Vt=null;break e}if(b!==null){b.return=S,Vt=b;break e}Vt=S}}}var W5={getCacheForType:function(a){var s=on(jt),u=s.data.get(a);return u===void 0&&(u=a(),s.data.set(a,u)),u},cacheSignal:function(){return on(jt).controller.signal}},X5=typeof WeakMap=="function"?WeakMap:Map,Xe=0,lt=null,ze=null,Fe=0,Qe=0,$n=null,sa=!1,rs=!1,zp=!1,xi=0,_t=0,la=0,Xa=0,qp=0,Kn=0,is=0,Pl=null,Mn=null,Fp=!1,Uu=0,D1=0,Bu=1/0,zu=null,ca=null,zt=0,ua=null,as=null,bi=0,Hp=0,Gp=null,L1=null,Il=0,Vp=null;function Yn(){return(Xe&2)!==0&&Fe!==0?Fe&-Fe:q.T!==null?Xp():Zb()}function U1(){if(Kn===0)if((Fe&536870912)===0||Ge){var a=Yc;Yc<<=1,(Yc&3932160)===0&&(Yc=262144),Kn=a}else Kn=536870912;return a=Gn.current,a!==null&&(a.flags|=32),Kn}function On(a,s,u){(a===lt&&(Qe===2||Qe===9)||a.cancelPendingCommit!==null)&&(os(a,0),da(a,Fe,Kn,!1)),Xs(a,u),((Xe&2)===0||a!==lt)&&(a===lt&&((Xe&2)===0&&(Xa|=u),_t===4&&da(a,Fe,Kn,!1)),Hr(a))}function B1(a,s,u){if((Xe&6)!==0)throw Error(r(327));var p=!u&&(s&127)===0&&(s&a.expiredLanes)===0||Ws(a,s),b=p?eL(a,s):Kp(a,s,!0),S=p;do{if(b===0){rs&&!p&&da(a,s,0,!1);break}else{if(u=a.current.alternate,S&&!Q5(u)){b=Kp(a,s,!1),S=!1;continue}if(b===2){if(S=s,a.errorRecoveryDisabledLanes&S)var T=0;else T=a.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var j=a;b=Pl;var B=j.current.memoizedState.isDehydrated;if(B&&(os(j,T).flags|=256),T=Kp(j,T,!1),T!==2){if(zp&&!B){j.errorRecoveryDisabledLanes|=S,Xa|=S,b=4;break e}S=Mn,Mn=b,S!==null&&(Mn===null?Mn=S:Mn.push.apply(Mn,S))}b=T}if(S=!1,b!==2)continue}}if(b===1){os(a,0),da(a,s,0,!0);break}e:{switch(p=a,S=b,S){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:da(p,s,Kn,!sa);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(b=Uu+300-Ne(),10<b)){if(da(p,s,Kn,!sa),Wc(p,0,!0)!==0)break e;bi=s,p.timeoutHandle=gA(z1.bind(null,p,u,Mn,zu,Fp,s,Kn,Xa,is,sa,S,"Throttled",-0,0),b);break e}z1(p,u,Mn,zu,Fp,s,Kn,Xa,is,sa,S,null,-0,0)}}break}while(!0);Hr(a)}function z1(a,s,u,p,b,S,T,j,B,Y,oe,ce,J,ee){if(a.timeoutHandle=-1,ce=s.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},O1(s,S,ce);var be=(S&62914560)===S?Uu-Ne():(S&4194048)===S?D1-Ne():0;if(be=DL(ce,be),be!==null){bi=S,a.cancelPendingCommit=be(Y1.bind(null,a,s,S,u,p,b,T,j,B,oe,ce,null,J,ee)),da(a,S,T,!Y);return}}Y1(a,s,S,u,p,b,T,j,B)}function Q5(a){for(var s=a;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var b=u[p],S=b.getSnapshot;b=b.value;try{if(!Fn(S(),b))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function da(a,s,u,p){s&=~qp,s&=~Xa,a.suspendedLanes|=s,a.pingedLanes&=~s,p&&(a.warmLanes|=s),p=a.expirationTimes;for(var b=s;0<b;){var S=31-qn(b),T=1<<S;p[S]=-1,b&=~T}u!==0&&Wb(a,u,s)}function qu(){return(Xe&6)===0?(Ml(0),!1):!0}function $p(){if(ze!==null){if(Qe===0)var a=ze.return;else a=ze,ci=Fa=null,lp(a),Wo=null,hl=0,a=ze;for(;a!==null;)v1(a.alternate,a),a=a.return;ze=null}}function os(a,s){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,yL(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),bi=0,$p(),lt=a,ze=u=si(a.current,null),Fe=s,Qe=0,$n=null,sa=!1,rs=Ws(a,s),zp=!1,is=Kn=qp=Xa=la=_t=0,Mn=Pl=null,Fp=!1,(s&8)!==0&&(s|=s&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=s;0<p;){var b=31-qn(p),S=1<<b;s|=a[b],p&=~S}return xi=s,lu(),u}function q1(a,s){De=null,q.H=Sl,s===Jo||s===gu?(s=rw(),Qe=3):s===Wm?(s=rw(),Qe=4):Qe=s===Ep?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,$n=s,ze===null&&(_t=1,Iu(a,rr(s,a.current)))}function F1(){var a=Gn.current;return a===null?!0:(Fe&4194048)===Fe?sr===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?a===sr:!1}function H1(){var a=q.H;return q.H=Sl,a===null?Sl:a}function G1(){var a=q.A;return q.A=W5,a}function Fu(){_t=4,sa||(Fe&4194048)!==Fe&&Gn.current!==null||(rs=!0),(la&134217727)===0&&(Xa&134217727)===0||lt===null||da(lt,Fe,Kn,!1)}function Kp(a,s,u){var p=Xe;Xe|=2;var b=H1(),S=G1();(lt!==a||Fe!==s)&&(zu=null,os(a,s)),s=!1;var T=_t;e:do try{if(Qe!==0&&ze!==null){var j=ze,B=$n;switch(Qe){case 8:$p(),T=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(s=!0);var Y=Qe;if(Qe=0,$n=null,ss(a,j,B,Y),u&&rs){T=0;break e}break;default:Y=Qe,Qe=0,$n=null,ss(a,j,B,Y)}}Z5(),T=_t;break}catch(oe){q1(a,oe)}while(!0);return s&&a.shellSuspendCounter++,ci=Fa=null,Xe=p,q.H=b,q.A=S,ze===null&&(lt=null,Fe=0,lu()),T}function Z5(){for(;ze!==null;)V1(ze)}function eL(a,s){var u=Xe;Xe|=2;var p=H1(),b=G1();lt!==a||Fe!==s?(zu=null,Bu=Ne()+500,os(a,s)):rs=Ws(a,s);e:do try{if(Qe!==0&&ze!==null){s=ze;var S=$n;t:switch(Qe){case 1:Qe=0,$n=null,ss(a,s,S,1);break;case 2:case 9:if(tw(S)){Qe=0,$n=null,$1(s);break}s=function(){Qe!==2&&Qe!==9||lt!==a||(Qe=7),Hr(a)},S.then(s,s);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:tw(S)?(Qe=0,$n=null,$1(s)):(Qe=0,$n=null,ss(a,s,S,7));break;case 5:var T=null;switch(ze.tag){case 26:T=ze.memoizedState;case 5:case 27:var j=ze;if(T?MA(T):j.stateNode.complete){Qe=0,$n=null;var B=j.sibling;if(B!==null)ze=B;else{var Y=j.return;Y!==null?(ze=Y,Hu(Y)):ze=null}break t}}Qe=0,$n=null,ss(a,s,S,5);break;case 6:Qe=0,$n=null,ss(a,s,S,6);break;case 8:$p(),_t=6;break e;default:throw Error(r(462))}}tL();break}catch(oe){q1(a,oe)}while(!0);return ci=Fa=null,q.H=p,q.A=b,Xe=u,ze!==null?0:(lt=null,Fe=0,lu(),_t)}function tL(){for(;ze!==null&&!Z();)V1(ze)}function V1(a){var s=p1(a.alternate,a,xi);a.memoizedProps=a.pendingProps,s===null?Hu(a):ze=s}function $1(a){var s=a,u=s.alternate;switch(s.tag){case 15:case 0:s=c1(u,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=c1(u,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:lp(s);default:v1(u,s),s=ze=GS(s,xi),s=p1(u,s,xi)}a.memoizedProps=a.pendingProps,s===null?Hu(a):ze=s}function ss(a,s,u,p){ci=Fa=null,lp(s),Wo=null,hl=0;var b=s.return;try{if(H5(a,b,s,u,Fe)){_t=1,Iu(a,rr(u,a.current)),ze=null;return}}catch(S){if(b!==null)throw ze=b,S;_t=1,Iu(a,rr(u,a.current)),ze=null;return}s.flags&32768?(Ge||p===1?a=!0:rs||(Fe&536870912)!==0?a=!1:(sa=a=!0,(p===2||p===9||p===3||p===6)&&(p=Gn.current,p!==null&&p.tag===13&&(p.flags|=16384))),K1(s,a)):Hu(s)}function Hu(a){var s=a;do{if((s.flags&32768)!==0){K1(s,sa);return}a=s.return;var u=$5(s.alternate,s,xi);if(u!==null){ze=u;return}if(s=s.sibling,s!==null){ze=s;return}ze=s=a}while(s!==null);_t===0&&(_t=5)}function K1(a,s){do{var u=K5(a.alternate,a);if(u!==null){u.flags&=32767,ze=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(a=a.sibling,a!==null)){ze=a;return}ze=a=u}while(a!==null);_t=6,ze=null}function Y1(a,s,u,p,b,S,T,j,B){a.cancelPendingCommit=null;do Gu();while(zt!==0);if((Xe&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(S=s.lanes|s.childLanes,S|=Rm,kD(a,u,S,T,j,B),a===lt&&(ze=lt=null,Fe=0),as=s,ua=a,bi=u,Hp=S,Gp=b,L1=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,aL(Co,function(){return Z1(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=q.T,q.T=null,b=V.p,V.p=2,T=Xe,Xe|=4;try{Y5(a,s,u)}finally{Xe=T,V.p=b,q.T=p}}zt=1,J1(),W1(),X1()}}function J1(){if(zt===1){zt=0;var a=ua,s=as,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=q.T,q.T=null;var p=V.p;V.p=2;var b=Xe;Xe|=4;try{P1(s,a);var S=ag,T=RS(a.containerInfo),j=S.focusedElem,B=S.selectionRange;if(T!==j&&j&&j.ownerDocument&&kS(j.ownerDocument.documentElement,j)){if(B!==null&&Im(j)){var Y=B.start,oe=B.end;if(oe===void 0&&(oe=Y),"selectionStart"in j)j.selectionStart=Y,j.selectionEnd=Math.min(oe,j.value.length);else{var ce=j.ownerDocument||document,J=ce&&ce.defaultView||window;if(J.getSelection){var ee=J.getSelection(),be=j.textContent.length,Me=Math.min(B.start,be),at=B.end===void 0?Me:Math.min(B.end,be);!ee.extend&&Me>at&&(T=at,at=Me,Me=T);var G=jS(j,Me),F=jS(j,at);if(G&&F&&(ee.rangeCount!==1||ee.anchorNode!==G.node||ee.anchorOffset!==G.offset||ee.focusNode!==F.node||ee.focusOffset!==F.offset)){var K=ce.createRange();K.setStart(G.node,G.offset),ee.removeAllRanges(),Me>at?(ee.addRange(K),ee.extend(F.node,F.offset)):(K.setEnd(F.node,F.offset),ee.addRange(K))}}}}for(ce=[],ee=j;ee=ee.parentNode;)ee.nodeType===1&&ce.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ce.length;j++){var le=ce[j];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}nd=!!ig,ag=ig=null}finally{Xe=b,V.p=p,q.T=u}}a.current=s,zt=2}}function W1(){if(zt===2){zt=0;var a=ua,s=as,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=q.T,q.T=null;var p=V.p;V.p=2;var b=Xe;Xe|=4;try{E1(a,s.alternate,s)}finally{Xe=b,V.p=p,q.T=u}}zt=3}}function X1(){if(zt===4||zt===3){zt=0,ge();var a=ua,s=as,u=bi,p=L1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?zt=5:(zt=0,as=ua=null,Q1(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(ca=null),dm(u),s=s.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Pt,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=q.T,b=V.p,V.p=2,q.T=null;try{for(var S=a.onRecoverableError,T=0;T<p.length;T++){var j=p[T];S(j.value,{componentStack:j.stack})}}finally{q.T=s,V.p=b}}(bi&3)!==0&&Gu(),Hr(a),b=a.pendingLanes,(u&261930)!==0&&(b&42)!==0?a===Vp?Il++:(Il=0,Vp=a):Il=0,Ml(0)}}function Q1(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,dl(s)))}function Gu(){return J1(),W1(),X1(),Z1()}function Z1(){if(zt!==5)return!1;var a=ua,s=Hp;Hp=0;var u=dm(bi),p=q.T,b=V.p;try{V.p=32>u?32:u,q.T=null,u=Gp,Gp=null;var S=ua,T=bi;if(zt=0,as=ua=null,bi=0,(Xe&6)!==0)throw Error(r(331));var j=Xe;if(Xe|=4,k1(S.current),M1(S,S.current,T,u),Xe=j,Ml(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Pt,S)}catch{}return!0}finally{V.p=b,q.T=p,Q1(a,s)}}function eA(a,s,u){s=rr(u,s),s=Ap(a.stateNode,s,2),a=ra(a,s,2),a!==null&&(Xs(a,2),Hr(a))}function Ze(a,s,u){if(a.tag===3)eA(a,a,u);else for(;s!==null;){if(s.tag===3){eA(s,a,u);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ca===null||!ca.has(p))){a=rr(u,a),u=t1(2),p=ra(s,u,2),p!==null&&(n1(u,p,s,a),Xs(p,2),Hr(p));break}}s=s.return}}function Yp(a,s,u){var p=a.pingCache;if(p===null){p=a.pingCache=new X5;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(u)||(zp=!0,b.add(u),a=nL.bind(null,a,s,u),s.then(a,a))}function nL(a,s,u){var p=a.pingCache;p!==null&&p.delete(s),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,lt===a&&(Fe&u)===u&&(_t===4||_t===3&&(Fe&62914560)===Fe&&300>Ne()-Uu?(Xe&2)===0&&os(a,0):qp|=u,is===Fe&&(is=0)),Hr(a)}function tA(a,s){s===0&&(s=Jb()),a=Ba(a,s),a!==null&&(Xs(a,s),Hr(a))}function rL(a){var s=a.memoizedState,u=0;s!==null&&(u=s.retryLane),tA(a,u)}function iL(a,s){var u=0;switch(a.tag){case 31:case 13:var p=a.stateNode,b=a.memoizedState;b!==null&&(u=b.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),tA(a,u)}function aL(a,s){return ve(a,s)}var Vu=null,ls=null,Jp=!1,$u=!1,Wp=!1,fa=0;function Hr(a){a!==ls&&a.next===null&&(ls===null?Vu=ls=a:ls=ls.next=a),$u=!0,Jp||(Jp=!0,sL())}function Ml(a,s){if(!Wp&&$u){Wp=!0;do for(var u=!1,p=Vu;p!==null;){if(a!==0){var b=p.pendingLanes;if(b===0)var S=0;else{var T=p.suspendedLanes,j=p.pingedLanes;S=(1<<31-qn(42|a)+1)-1,S&=b&~(T&~j),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(u=!0,aA(p,S))}else S=Fe,S=Wc(p,p===lt?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||Ws(p,S)||(u=!0,aA(p,S));p=p.next}while(u);Wp=!1}}function oL(){nA()}function nA(){$u=Jp=!1;var a=0;fa!==0&&vL()&&(a=fa);for(var s=Ne(),u=null,p=Vu;p!==null;){var b=p.next,S=rA(p,s);S===0?(p.next=null,u===null?Vu=b:u.next=b,b===null&&(ls=u)):(u=p,(a!==0||(S&3)!==0)&&($u=!0)),p=b}zt!==0&&zt!==5||Ml(a),fa!==0&&(fa=0)}function rA(a,s){for(var u=a.suspendedLanes,p=a.pingedLanes,b=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var T=31-qn(S),j=1<<T,B=b[T];B===-1?((j&u)===0||(j&p)!==0)&&(b[T]=jD(j,s)):B<=s&&(a.expiredLanes|=j),S&=~j}if(s=lt,u=Fe,u=Wc(a,a===s?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,u===0||a===s&&(Qe===2||Qe===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Oe(p),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Ws(a,u)){if(s=u&-u,s===a.callbackPriority)return s;switch(p!==null&&Oe(p),dm(u)){case 2:case 8:u=To;break;case 32:u=Co;break;case 268435456:u=Vc;break;default:u=Co}return p=iA.bind(null,a),u=ve(u,p),a.callbackPriority=s,a.callbackNode=u,s}return p!==null&&p!==null&&Oe(p),a.callbackPriority=2,a.callbackNode=null,2}function iA(a,s){if(zt!==0&&zt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Gu()&&a.callbackNode!==u)return null;var p=Fe;return p=Wc(a,a===lt?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(B1(a,p,s),rA(a,Ne()),a.callbackNode!=null&&a.callbackNode===u?iA.bind(null,a):null)}function aA(a,s){if(Gu())return null;B1(a,s,!0)}function sL(){xL(function(){(Xe&6)!==0?ve(zn,oL):nA()})}function Xp(){if(fa===0){var a=Ko;a===0&&(a=Kc,Kc<<=1,(Kc&261888)===0&&(Kc=256)),fa=a}return fa}function oA(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:eu(""+a)}function sA(a,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,a.id&&u.setAttribute("form",a.id),s.parentNode.insertBefore(u,s),a=new FormData(a),u.parentNode.removeChild(u),a}function lL(a,s,u,p,b){if(s==="submit"&&u&&u.stateNode===b){var S=oA((b[Nn]||null).action),T=p.submitter;T&&(s=(s=T[Nn]||null)?oA(s.formAction):T.getAttribute("formAction"),s!==null&&(S=s,T=null));var j=new iu("action","action",null,p,b);a.push({event:j,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(fa!==0){var B=T?sA(b,T):new FormData(b);vp(u,{pending:!0,data:B,method:b.method,action:S},null,B)}}else typeof S=="function"&&(j.preventDefault(),B=T?sA(b,T):new FormData(b),vp(u,{pending:!0,data:B,method:b.method,action:S},S,B))},currentTarget:b}]})}}for(var Qp=0;Qp<km.length;Qp++){var Zp=km[Qp],cL=Zp.toLowerCase(),uL=Zp[0].toUpperCase()+Zp.slice(1);Ar(cL,"on"+uL)}Ar(US,"onAnimationEnd"),Ar(BS,"onAnimationIteration"),Ar(zS,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(N5,"onTransitionRun"),Ar(T5,"onTransitionStart"),Ar(C5,"onTransitionCancel"),Ar(qS,"onTransitionEnd"),jo("onMouseEnter",["mouseout","mouseover"]),jo("onMouseLeave",["mouseout","mouseover"]),jo("onPointerEnter",["pointerout","pointerover"]),jo("onPointerLeave",["pointerout","pointerover"]),Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function lA(a,s){s=(s&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],b=p.event;p=p.listeners;e:{var S=void 0;if(s)for(var T=p.length-1;0<=T;T--){var j=p[T],B=j.instance,Y=j.currentTarget;if(j=j.listener,B!==S&&b.isPropagationStopped())break e;S=j,b.currentTarget=Y;try{S(b)}catch(oe){su(oe)}b.currentTarget=null,S=B}else for(T=0;T<p.length;T++){if(j=p[T],B=j.instance,Y=j.currentTarget,j=j.listener,B!==S&&b.isPropagationStopped())break e;S=j,b.currentTarget=Y;try{S(b)}catch(oe){su(oe)}b.currentTarget=null,S=B}}}}function qe(a,s){var u=s[fm];u===void 0&&(u=s[fm]=new Set);var p=a+"__bubble";u.has(p)||(cA(s,a,2,!1),u.add(p))}function eg(a,s,u){var p=0;s&&(p|=4),cA(u,a,p,s)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function tg(a){if(!a[Ku]){a[Ku]=!0,nS.forEach(function(u){u!=="selectionchange"&&(dL.has(u)||eg(u,!1,a),eg(u,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Ku]||(s[Ku]=!0,eg("selectionchange",!1,s))}}function cA(a,s,u,p){switch(UA(s)){case 2:var b=BL;break;case 8:b=zL;break;default:b=gg}u=b.bind(null,s,u,a),b=void 0,!Sm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?a.addEventListener(s,u,{capture:!0,passive:b}):a.addEventListener(s,u,!0):b!==void 0?a.addEventListener(s,u,{passive:b}):a.addEventListener(s,u,!1)}function ng(a,s,u,p,b){var S=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var j=p.stateNode.containerInfo;if(j===b)break;if(T===4)for(T=p.return;T!==null;){var B=T.tag;if((B===3||B===4)&&T.stateNode.containerInfo===b)return;T=T.return}for(;j!==null;){if(T=Io(j),T===null)return;if(B=T.tag,B===5||B===6||B===26||B===27){p=S=T;continue e}j=j.parentNode}}p=p.return}mS(function(){var Y=S,oe=xm(u),ce=[];e:{var J=FS.get(a);if(J!==void 0){var ee=iu,be=a;switch(a){case"keypress":if(nu(u)===0)break e;case"keydown":case"keyup":ee=i5;break;case"focusin":be="focus",ee=_m;break;case"focusout":be="blur",ee=_m;break;case"beforeblur":case"afterblur":ee=_m;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=vS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=$D;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=s5;break;case US:case BS:case zS:ee=JD;break;case qS:ee=c5;break;case"scroll":case"scrollend":ee=GD;break;case"wheel":ee=d5;break;case"copy":case"cut":case"paste":ee=XD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=xS;break;case"toggle":case"beforetoggle":ee=h5}var Me=(s&4)!==0,at=!Me&&(a==="scroll"||a==="scrollend"),G=Me?J!==null?J+"Capture":null:J;Me=[];for(var F=Y,K;F!==null;){var le=F;if(K=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||K===null||G===null||(le=el(F,G),le!=null&&Me.push(jl(F,le,K))),at)break;F=F.return}0<Me.length&&(J=new ee(J,be,null,u,oe),ce.push({event:J,listeners:Me}))}}if((s&7)===0){e:{if(J=a==="mouseover"||a==="pointerover",ee=a==="mouseout"||a==="pointerout",J&&u!==ym&&(be=u.relatedTarget||u.fromElement)&&(Io(be)||be[Po]))break e;if((ee||J)&&(J=oe.window===oe?oe:(J=oe.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(be=u.relatedTarget||u.toElement,ee=Y,be=be?Io(be):null,be!==null&&(at=o(be),Me=be.tag,be!==at||Me!==5&&Me!==27&&Me!==6)&&(be=null)):(ee=null,be=Y),ee!==be)){if(Me=vS,le="onMouseLeave",G="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(Me=xS,le="onPointerLeave",G="onPointerEnter",F="pointer"),at=ee==null?J:Zs(ee),K=be==null?J:Zs(be),J=new Me(le,F+"leave",ee,u,oe),J.target=at,J.relatedTarget=K,le=null,Io(oe)===Y&&(Me=new Me(G,F+"enter",be,u,oe),Me.target=K,Me.relatedTarget=at,le=Me),at=le,ee&&be)t:{for(Me=fL,G=ee,F=be,K=0,le=G;le;le=Me(le))K++;le=0;for(var Pe=F;Pe;Pe=Me(Pe))le++;for(;0<K-le;)G=Me(G),K--;for(;0<le-K;)F=Me(F),le--;for(;K--;){if(G===F||F!==null&&G===F.alternate){Me=G;break t}G=Me(G),F=Me(F)}Me=null}else Me=null;ee!==null&&uA(ce,J,ee,Me,!1),be!==null&&at!==null&&uA(ce,at,be,Me,!0)}}e:{if(J=Y?Zs(Y):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var Ke=TS;else if(_S(J))if(CS)Ke=A5;else{Ke=S5;var Ee=b5}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Y&&vm(Y.elementType)&&(Ke=TS):Ke=w5;if(Ke&&(Ke=Ke(a,Y))){NS(ce,Ke,u,oe);break e}Ee&&Ee(a,J,Y),a==="focusout"&&Y&&J.type==="number"&&Y.memoizedProps.value!=null&&gm(J,"number",J.value)}switch(Ee=Y?Zs(Y):window,a){case"focusin":(_S(Ee)||Ee.contentEditable==="true")&&(Bo=Ee,Mm=Y,ll=null);break;case"focusout":ll=Mm=Bo=null;break;case"mousedown":Om=!0;break;case"contextmenu":case"mouseup":case"dragend":Om=!1,DS(ce,u,oe);break;case"selectionchange":if(_5)break;case"keydown":case"keyup":DS(ce,u,oe)}var Ue;if(Tm)e:{switch(a){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Uo?AS(a,u)&&(He="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(He="onCompositionStart");He&&(bS&&u.locale!=="ko"&&(Uo||He!=="onCompositionStart"?He==="onCompositionEnd"&&Uo&&(Ue=pS()):(Wi=oe,wm="value"in Wi?Wi.value:Wi.textContent,Uo=!0)),Ee=Yu(Y,He),0<Ee.length&&(He=new yS(He,a,null,u,oe),ce.push({event:He,listeners:Ee}),Ue?He.data=Ue:(Ue=ES(u),Ue!==null&&(He.data=Ue)))),(Ue=p5?g5(a,u):v5(a,u))&&(He=Yu(Y,"onBeforeInput"),0<He.length&&(Ee=new yS("onBeforeInput","beforeinput",null,u,oe),ce.push({event:Ee,listeners:He}),Ee.data=Ue)),lL(ce,a,Y,u,oe)}lA(ce,s)})}function jl(a,s,u){return{instance:a,listener:s,currentTarget:u}}function Yu(a,s){for(var u=s+"Capture",p=[];a!==null;){var b=a,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=el(a,u),b!=null&&p.unshift(jl(a,b,S)),b=el(a,s),b!=null&&p.push(jl(a,b,S))),a.tag===3)return p;a=a.return}return[]}function fL(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function uA(a,s,u,p,b){for(var S=s._reactName,T=[];u!==null&&u!==p;){var j=u,B=j.alternate,Y=j.stateNode;if(j=j.tag,B!==null&&B===p)break;j!==5&&j!==26&&j!==27||Y===null||(B=Y,b?(Y=el(u,S),Y!=null&&T.unshift(jl(u,Y,B))):b||(Y=el(u,S),Y!=null&&T.push(jl(u,Y,B)))),u=u.return}T.length!==0&&a.push({event:s,listeners:T})}var hL=/\r\n?/g,mL=/\u0000|\uFFFD/g;function dA(a){return(typeof a=="string"?a:""+a).replace(hL,`
`).replace(mL,"")}function fA(a,s){return s=dA(s),dA(a)===s}function it(a,s,u,p,b,S){switch(u){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||Ro(a,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&Ro(a,""+p);break;case"className":Qc(a,"class",p);break;case"tabIndex":Qc(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Qc(a,u,p);break;case"style":fS(a,p,S);break;case"data":if(s!=="object"){Qc(a,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||u!=="href")){a.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=eu(""+p),a.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(s!=="input"&&it(a,s,"name",b.name,b,null),it(a,s,"formEncType",b.formEncType,b,null),it(a,s,"formMethod",b.formMethod,b,null),it(a,s,"formTarget",b.formTarget,b,null)):(it(a,s,"encType",b.encType,b,null),it(a,s,"method",b.method,b,null),it(a,s,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=eu(""+p),a.setAttribute(u,p);break;case"onClick":p!=null&&(a.onclick=ai);break;case"onScroll":p!=null&&qe("scroll",a);break;case"onScrollEnd":p!=null&&qe("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}u=eu(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""+p):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":p===!0?a.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,p):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(u,p):a.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(u):a.setAttribute(u,p);break;case"popover":qe("beforetoggle",a),qe("toggle",a),Xc(a,"popover",p);break;case"xlinkActuate":ii(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ii(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ii(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ii(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ii(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ii(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ii(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ii(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ii(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Xc(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=FD.get(u)||u,Xc(a,u,p))}}function rg(a,s,u,p,b,S){switch(u){case"style":fS(a,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof p=="string"?Ro(a,p):(typeof p=="number"||typeof p=="bigint")&&Ro(a,""+p);break;case"onScroll":p!=null&&qe("scroll",a);break;case"onScrollEnd":p!=null&&qe("scrollend",a);break;case"onClick":p!=null&&(a.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rS.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),s=u.slice(2,b?u.length-7:void 0),S=a[Nn]||null,S=S!=null?S[u]:null,typeof S=="function"&&a.removeEventListener(s,S,b),typeof p=="function")){typeof S!="function"&&S!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(s,p,b);break e}u in a?a[u]=p:p===!0?a.setAttribute(u,""):Xc(a,u,p)}}}function ln(a,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",a),qe("load",a);var p=!1,b=!1,S;for(S in u)if(u.hasOwnProperty(S)){var T=u[S];if(T!=null)switch(S){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:it(a,s,S,T,u,null)}}b&&it(a,s,"srcSet",u.srcSet,u,null),p&&it(a,s,"src",u.src,u,null);return;case"input":qe("invalid",a);var j=S=T=b=null,B=null,Y=null;for(p in u)if(u.hasOwnProperty(p)){var oe=u[p];if(oe!=null)switch(p){case"name":b=oe;break;case"type":T=oe;break;case"checked":B=oe;break;case"defaultChecked":Y=oe;break;case"value":S=oe;break;case"defaultValue":j=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:it(a,s,p,oe,u,null)}}lS(a,S,j,B,Y,T,b,!1);return;case"select":qe("invalid",a),p=T=S=null;for(b in u)if(u.hasOwnProperty(b)&&(j=u[b],j!=null))switch(b){case"value":S=j;break;case"defaultValue":T=j;break;case"multiple":p=j;default:it(a,s,b,j,u,null)}s=S,u=T,a.multiple=!!p,s!=null?ko(a,!!p,s,!1):u!=null&&ko(a,!!p,u,!0);return;case"textarea":qe("invalid",a),S=b=p=null;for(T in u)if(u.hasOwnProperty(T)&&(j=u[T],j!=null))switch(T){case"value":p=j;break;case"defaultValue":b=j;break;case"children":S=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:it(a,s,T,j,u,null)}uS(a,p,b,S);return;case"option":for(B in u)if(u.hasOwnProperty(B)&&(p=u[B],p!=null))switch(B){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:it(a,s,B,p,u,null)}return;case"dialog":qe("beforetoggle",a),qe("toggle",a),qe("cancel",a),qe("close",a);break;case"iframe":case"object":qe("load",a);break;case"video":case"audio":for(p=0;p<Ol.length;p++)qe(Ol[p],a);break;case"image":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"embed":case"source":case"link":qe("error",a),qe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in u)if(u.hasOwnProperty(Y)&&(p=u[Y],p!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:it(a,s,Y,p,u,null)}return;default:if(vm(s)){for(oe in u)u.hasOwnProperty(oe)&&(p=u[oe],p!==void 0&&rg(a,s,oe,p,u,void 0));return}}for(j in u)u.hasOwnProperty(j)&&(p=u[j],p!=null&&it(a,s,j,p,u,null))}function pL(a,s,u,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,T=null,j=null,B=null,Y=null,oe=null;for(ee in u){var ce=u[ee];if(u.hasOwnProperty(ee)&&ce!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":B=ce;default:p.hasOwnProperty(ee)||it(a,s,ee,null,p,ce)}}for(var J in p){var ee=p[J];if(ce=u[J],p.hasOwnProperty(J)&&(ee!=null||ce!=null))switch(J){case"type":S=ee;break;case"name":b=ee;break;case"checked":Y=ee;break;case"defaultChecked":oe=ee;break;case"value":T=ee;break;case"defaultValue":j=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:ee!==ce&&it(a,s,J,ee,p,ce)}}pm(a,T,j,B,Y,oe,S,b);return;case"select":ee=T=j=J=null;for(S in u)if(B=u[S],u.hasOwnProperty(S)&&B!=null)switch(S){case"value":break;case"multiple":ee=B;default:p.hasOwnProperty(S)||it(a,s,S,null,p,B)}for(b in p)if(S=p[b],B=u[b],p.hasOwnProperty(b)&&(S!=null||B!=null))switch(b){case"value":J=S;break;case"defaultValue":j=S;break;case"multiple":T=S;default:S!==B&&it(a,s,b,S,p,B)}s=j,u=T,p=ee,J!=null?ko(a,!!u,J,!1):!!p!=!!u&&(s!=null?ko(a,!!u,s,!0):ko(a,!!u,u?[]:"",!1));return;case"textarea":ee=J=null;for(j in u)if(b=u[j],u.hasOwnProperty(j)&&b!=null&&!p.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:it(a,s,j,null,p,b)}for(T in p)if(b=p[T],S=u[T],p.hasOwnProperty(T)&&(b!=null||S!=null))switch(T){case"value":J=b;break;case"defaultValue":ee=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==S&&it(a,s,T,b,p,S)}cS(a,J,ee);return;case"option":for(var be in u)if(J=u[be],u.hasOwnProperty(be)&&J!=null&&!p.hasOwnProperty(be))switch(be){case"selected":a.selected=!1;break;default:it(a,s,be,null,p,J)}for(B in p)if(J=p[B],ee=u[B],p.hasOwnProperty(B)&&J!==ee&&(J!=null||ee!=null))switch(B){case"selected":a.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:it(a,s,B,J,p,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in u)J=u[Me],u.hasOwnProperty(Me)&&J!=null&&!p.hasOwnProperty(Me)&&it(a,s,Me,null,p,J);for(Y in p)if(J=p[Y],ee=u[Y],p.hasOwnProperty(Y)&&J!==ee&&(J!=null||ee!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:it(a,s,Y,J,p,ee)}return;default:if(vm(s)){for(var at in u)J=u[at],u.hasOwnProperty(at)&&J!==void 0&&!p.hasOwnProperty(at)&&rg(a,s,at,void 0,p,J);for(oe in p)J=p[oe],ee=u[oe],!p.hasOwnProperty(oe)||J===ee||J===void 0&&ee===void 0||rg(a,s,oe,J,p,ee);return}}for(var G in u)J=u[G],u.hasOwnProperty(G)&&J!=null&&!p.hasOwnProperty(G)&&it(a,s,G,null,p,J);for(ce in p)J=p[ce],ee=u[ce],!p.hasOwnProperty(ce)||J===ee||J==null&&ee==null||it(a,s,ce,J,p,ee)}function hA(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gL(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var b=u[p],S=b.transferSize,T=b.initiatorType,j=b.duration;if(S&&j&&hA(T)){for(T=0,j=b.responseEnd,p+=1;p<u.length;p++){var B=u[p],Y=B.startTime;if(Y>j)break;var oe=B.transferSize,ce=B.initiatorType;oe&&hA(ce)&&(B=B.responseEnd,T+=oe*(B<j?1:(j-Y)/(B-Y)))}if(--p,s+=8*(S+T)/(b.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var ig=null,ag=null;function Ju(a){return a.nodeType===9?a:a.ownerDocument}function mA(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pA(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function og(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var sg=null;function vL(){var a=window.event;return a&&a.type==="popstate"?a===sg?!1:(sg=a,!0):(sg=null,!1)}var gA=typeof setTimeout=="function"?setTimeout:void 0,yL=typeof clearTimeout=="function"?clearTimeout:void 0,vA=typeof Promise=="function"?Promise:void 0,xL=typeof queueMicrotask=="function"?queueMicrotask:typeof vA<"u"?function(a){return vA.resolve(null).then(a).catch(bL)}:gA;function bL(a){setTimeout(function(){throw a})}function ha(a){return a==="head"}function yA(a,s){var u=s,p=0;do{var b=u.nextSibling;if(a.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"||u==="/&"){if(p===0){a.removeChild(b),fs(s);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")kl(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,kl(u);for(var S=u.firstChild;S;){var T=S.nextSibling,j=S.nodeName;S[Qs]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=T}}else u==="body"&&kl(a.ownerDocument.body);u=b}while(u);fs(s)}function xA(a,s){var u=a;a=0;do{var p=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=p}while(u)}function lg(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":lg(u),hm(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function SL(a,s,u,p){for(;a.nodeType===1;){var b=u;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Qs])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=lr(a.nextSibling),a===null)break}return null}function wL(a,s,u){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=lr(a.nextSibling),a===null))return null;return a}function bA(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=lr(a.nextSibling),a===null))return null;return a}function cg(a){return a.data==="$?"||a.data==="$~"}function ug(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function AL(a,s){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||u.readyState!=="loading")s();else{var p=function(){s(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function lr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var dg=null;function SA(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(s===0)return lr(a.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}a=a.nextSibling}return null}function wA(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return a;s--}else u!=="/$"&&u!=="/&"||s++}a=a.previousSibling}return null}function AA(a,s,u){switch(s=Ju(u),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function kl(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);hm(a)}var cr=new Map,EA=new Set;function Wu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Si=V.d;V.d={f:EL,r:_L,D:NL,C:TL,L:CL,m:PL,X:ML,S:IL,M:OL};function EL(){var a=Si.f(),s=qu();return a||s}function _L(a){var s=Mo(a);s!==null&&s.tag===5&&s.type==="form"?qw(s):Si.r(a)}var cs=typeof document>"u"?null:document;function _A(a,s,u){var p=cs;if(p&&typeof s=="string"&&s){var b=tr(s);b='link[rel="'+a+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),EA.has(b)||(EA.add(b),a={rel:a,crossOrigin:u,href:s},p.querySelector(b)===null&&(s=p.createElement("link"),ln(s,"link",a),Gt(s),p.head.appendChild(s)))}}function NL(a){Si.D(a),_A("dns-prefetch",a,null)}function TL(a,s){Si.C(a,s),_A("preconnect",a,s)}function CL(a,s,u){Si.L(a,s,u);var p=cs;if(p&&a&&s){var b='link[rel="preload"][as="'+tr(s)+'"]';s==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+tr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+tr(u.imageSizes)+'"]')):b+='[href="'+tr(a)+'"]';var S=b;switch(s){case"style":S=us(a);break;case"script":S=ds(a)}cr.has(S)||(a=g({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:a,as:s},u),cr.set(S,a),p.querySelector(b)!==null||s==="style"&&p.querySelector(Rl(S))||s==="script"&&p.querySelector(Dl(S))||(s=p.createElement("link"),ln(s,"link",a),Gt(s),p.head.appendChild(s)))}}function PL(a,s){Si.m(a,s);var u=cs;if(u&&a){var p=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+tr(p)+'"][href="'+tr(a)+'"]',S=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=ds(a)}if(!cr.has(S)&&(a=g({rel:"modulepreload",href:a},s),cr.set(S,a),u.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Dl(S)))return}p=u.createElement("link"),ln(p,"link",a),Gt(p),u.head.appendChild(p)}}}function IL(a,s,u){Si.S(a,s,u);var p=cs;if(p&&a){var b=Oo(p).hoistableStyles,S=us(a);s=s||"default";var T=b.get(S);if(!T){var j={loading:0,preload:null};if(T=p.querySelector(Rl(S)))j.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":s},u),(u=cr.get(S))&&fg(a,u);var B=T=p.createElement("link");Gt(B),ln(B,"link",a),B._p=new Promise(function(Y,oe){B.onload=Y,B.onerror=oe}),B.addEventListener("load",function(){j.loading|=1}),B.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Xu(T,s,p)}T={type:"stylesheet",instance:T,count:1,state:j},b.set(S,T)}}}function ML(a,s){Si.X(a,s);var u=cs;if(u&&a){var p=Oo(u).hoistableScripts,b=ds(a),S=p.get(b);S||(S=u.querySelector(Dl(b)),S||(a=g({src:a,async:!0},s),(s=cr.get(b))&&hg(a,s),S=u.createElement("script"),Gt(S),ln(S,"link",a),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function OL(a,s){Si.M(a,s);var u=cs;if(u&&a){var p=Oo(u).hoistableScripts,b=ds(a),S=p.get(b);S||(S=u.querySelector(Dl(b)),S||(a=g({src:a,async:!0,type:"module"},s),(s=cr.get(b))&&hg(a,s),S=u.createElement("script"),Gt(S),ln(S,"link",a),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function NA(a,s,u,p){var b=(b=_e.current)?Wu(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=us(u.href),u=Oo(b).hoistableStyles,p=u.get(s),p||(p={type:"style",instance:null,count:0,state:null},u.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=us(u.href);var S=Oo(b).hoistableStyles,T=S.get(a);if(T||(b=b.ownerDocument||b,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,T),(S=b.querySelector(Rl(a)))&&!S._p&&(T.instance=S,T.state.loading=5),cr.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},cr.set(a,u),S||jL(b,a,u,T.state))),s&&p===null)throw Error(r(528,""));return T}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ds(u),u=Oo(b).hoistableScripts,p=u.get(s),p||(p={type:"script",instance:null,count:0,state:null},u.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function us(a){return'href="'+tr(a)+'"'}function Rl(a){return'link[rel="stylesheet"]['+a+"]"}function TA(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function jL(a,s,u,p){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=a.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),ln(s,"link",u),Gt(s),a.head.appendChild(s))}function ds(a){return'[src="'+tr(a)+'"]'}function Dl(a){return"script[async]"+a}function CA(a,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var p=a.querySelector('style[data-href~="'+tr(u.href)+'"]');if(p)return s.instance=p,Gt(p),p;var b=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Gt(p),ln(p,"style",b),Xu(p,u.precedence,a),s.instance=p;case"stylesheet":b=us(u.href);var S=a.querySelector(Rl(b));if(S)return s.state.loading|=4,s.instance=S,Gt(S),S;p=TA(u),(b=cr.get(b))&&fg(p,b),S=(a.ownerDocument||a).createElement("link"),Gt(S);var T=S;return T._p=new Promise(function(j,B){T.onload=j,T.onerror=B}),ln(S,"link",p),s.state.loading|=4,Xu(S,u.precedence,a),s.instance=S;case"script":return S=ds(u.src),(b=a.querySelector(Dl(S)))?(s.instance=b,Gt(b),b):(p=u,(b=cr.get(S))&&(p=g({},u),hg(p,b)),a=a.ownerDocument||a,b=a.createElement("script"),Gt(b),ln(b,"link",p),a.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,Xu(p,u.precedence,a));return s.instance}function Xu(a,s,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,S=b,T=0;T<p.length;T++){var j=p[T];if(j.dataset.precedence===s)S=j;else if(S!==b)break}S?S.parentNode.insertBefore(a,S.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(a,s.firstChild))}function fg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function hg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Qu=null;function PA(a,s,u){if(Qu===null){var p=new Map,b=Qu=new Map;b.set(u,p)}else b=Qu,p=b.get(u),p||(p=new Map,b.set(u,p));if(p.has(a))return p;for(p.set(a,null),u=u.getElementsByTagName(a),b=0;b<u.length;b++){var S=u[b];if(!(S[Qs]||S[rn]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var T=S.getAttribute(s)||"";T=a+T;var j=p.get(T);j?j.push(S):p.set(T,[S])}}return p}function IA(a,s,u){a=a.ownerDocument||a,a.head.insertBefore(u,s==="title"?a.querySelector("head > title"):null)}function kL(a,s,u){if(u===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function MA(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function RL(a,s,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=us(p.href),S=s.querySelector(Rl(b));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Zu.bind(a),s.then(a,a)),u.state.loading|=4,u.instance=S,Gt(S);return}S=s.ownerDocument||s,p=TA(p),(b=cr.get(b))&&fg(p,b),S=S.createElement("link"),Gt(S);var T=S;T._p=new Promise(function(j,B){T.onload=j,T.onerror=B}),ln(S,"link",p),u.instance=S}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Zu.bind(a),s.addEventListener("load",u),s.addEventListener("error",u))}}var mg=0;function DL(a,s){return a.stylesheets&&a.count===0&&td(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var p=setTimeout(function(){if(a.stylesheets&&td(a,a.stylesheets),a.unsuspend){var S=a.unsuspend;a.unsuspend=null,S()}},6e4+s);0<a.imgBytes&&mg===0&&(mg=62500*gL());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&td(a,a.stylesheets),a.unsuspend)){var S=a.unsuspend;a.unsuspend=null,S()}},(a.imgBytes>mg?50:800)+s);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function Zu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)td(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ed=null;function td(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ed=new Map,s.forEach(LL,a),ed=null,Zu.call(a))}function LL(a,s){if(!(s.state.loading&4)){var u=ed.get(a);if(u)var p=u.get(null);else{u=new Map,ed.set(a,u);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var T=b[S];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(u.set(T.dataset.precedence,T),p=T)}p&&u.set(null,p)}b=s.instance,T=b.getAttribute("data-precedence"),S=u.get(T)||p,S===p&&u.set(null,b),u.set(T,b),this.count++,p=Zu.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),S?S.parentNode.insertBefore(b,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),s.state.loading|=4}}var Ll={$$typeof:O,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function UL(a,s,u,p,b,S,T,j,B){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cm(0),this.hiddenUpdates=cm(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function OA(a,s,u,p,b,S,T,j,B,Y,oe,ce){return a=new UL(a,s,u,T,B,Y,oe,ce,j),s=1,S===!0&&(s|=24),S=Hn(3,null,null,s),a.current=S,S.stateNode=a,s=Km(),s.refCount++,a.pooledCache=s,s.refCount++,S.memoizedState={element:p,isDehydrated:u,cache:s},Xm(S),a}function jA(a){return a?(a=Fo,a):Fo}function kA(a,s,u,p,b,S){b=jA(b),p.context===null?p.context=b:p.pendingContext=b,p=na(s),p.payload={element:u},S=S===void 0?null:S,S!==null&&(p.callback=S),u=ra(a,p,s),u!==null&&(On(u,a,s),pl(u,a,s))}function RA(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<s?u:s}}function pg(a,s){RA(a,s),(a=a.alternate)&&RA(a,s)}function DA(a){if(a.tag===13||a.tag===31){var s=Ba(a,67108864);s!==null&&On(s,a,67108864),pg(a,67108864)}}function LA(a){if(a.tag===13||a.tag===31){var s=Yn();s=um(s);var u=Ba(a,s);u!==null&&On(u,a,s),pg(a,s)}}var nd=!0;function BL(a,s,u,p){var b=q.T;q.T=null;var S=V.p;try{V.p=2,gg(a,s,u,p)}finally{V.p=S,q.T=b}}function zL(a,s,u,p){var b=q.T;q.T=null;var S=V.p;try{V.p=8,gg(a,s,u,p)}finally{V.p=S,q.T=b}}function gg(a,s,u,p){if(nd){var b=vg(p);if(b===null)ng(a,s,p,rd,u),BA(a,p);else if(FL(b,a,s,u,p))p.stopPropagation();else if(BA(a,p),s&4&&-1<qL.indexOf(a)){for(;b!==null;){var S=Mo(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var T=ka(S.pendingLanes);if(T!==0){var j=S;for(j.pendingLanes|=2,j.entangledLanes|=2;T;){var B=1<<31-qn(T);j.entanglements[1]|=B,T&=~B}Hr(S),(Xe&6)===0&&(Bu=Ne()+500,Ml(0))}}break;case 31:case 13:j=Ba(S,2),j!==null&&On(j,S,2),qu(),pg(S,2)}if(S=vg(p),S===null&&ng(a,s,p,rd,u),S===b)break;b=S}b!==null&&p.stopPropagation()}else ng(a,s,p,null,u)}}function vg(a){return a=xm(a),yg(a)}var rd=null;function yg(a){if(rd=null,a=Io(a),a!==null){var s=o(a);if(s===null)a=null;else{var u=s.tag;if(u===13){if(a=l(s),a!==null)return a;a=null}else if(u===31){if(a=c(s),a!==null)return a;a=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return rd=a,null}function UA(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vt()){case zn:return 2;case To:return 8;case Co:case lm:return 32;case Vc:return 268435456;default:return 32}default:return 32}}var xg=!1,ma=null,pa=null,ga=null,Ul=new Map,Bl=new Map,va=[],qL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BA(a,s){switch(a){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":Ul.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(s.pointerId)}}function zl(a,s,u,p,b,S){return a===null||a.nativeEvent!==S?(a={blockedOn:s,domEventName:u,eventSystemFlags:p,nativeEvent:S,targetContainers:[b]},s!==null&&(s=Mo(s),s!==null&&DA(s)),a):(a.eventSystemFlags|=p,s=a.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),a)}function FL(a,s,u,p,b){switch(s){case"focusin":return ma=zl(ma,a,s,u,p,b),!0;case"dragenter":return pa=zl(pa,a,s,u,p,b),!0;case"mouseover":return ga=zl(ga,a,s,u,p,b),!0;case"pointerover":var S=b.pointerId;return Ul.set(S,zl(Ul.get(S)||null,a,s,u,p,b)),!0;case"gotpointercapture":return S=b.pointerId,Bl.set(S,zl(Bl.get(S)||null,a,s,u,p,b)),!0}return!1}function zA(a){var s=Io(a.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){a.blockedOn=s,eS(a.priority,function(){LA(u)});return}}else if(s===31){if(s=c(u),s!==null){a.blockedOn=s,eS(a.priority,function(){LA(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function id(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var u=vg(a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);ym=p,u.target.dispatchEvent(p),ym=null}else return s=Mo(u),s!==null&&DA(s),a.blockedOn=u,!1;s.shift()}return!0}function qA(a,s,u){id(a)&&u.delete(s)}function HL(){xg=!1,ma!==null&&id(ma)&&(ma=null),pa!==null&&id(pa)&&(pa=null),ga!==null&&id(ga)&&(ga=null),Ul.forEach(qA),Bl.forEach(qA)}function ad(a,s){a.blockedOn===s&&(a.blockedOn=null,xg||(xg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,HL)))}var od=null;function FA(a){od!==a&&(od=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){od===a&&(od=null);for(var s=0;s<a.length;s+=3){var u=a[s],p=a[s+1],b=a[s+2];if(typeof p!="function"){if(yg(p||u)===null)continue;break}var S=Mo(u);S!==null&&(a.splice(s,3),s-=3,vp(S,{pending:!0,data:b,method:u.method,action:p},p,b))}}))}function fs(a){function s(B){return ad(B,a)}ma!==null&&ad(ma,a),pa!==null&&ad(pa,a),ga!==null&&ad(ga,a),Ul.forEach(s),Bl.forEach(s);for(var u=0;u<va.length;u++){var p=va[u];p.blockedOn===a&&(p.blockedOn=null)}for(;0<va.length&&(u=va[0],u.blockedOn===null);)zA(u),u.blockedOn===null&&va.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var b=u[p],S=u[p+1],T=b[Nn]||null;if(typeof S=="function")T||FA(u);else if(T){var j=null;if(S&&S.hasAttribute("formAction")){if(b=S,T=S[Nn]||null)j=T.formAction;else if(yg(b)!==null)continue}else j=T.action;typeof j=="function"?u[p+1]=j:(u.splice(p,3),p-=3),FA(u)}}}function HA(){function a(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(T){return b=T})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function bg(a){this._internalRoot=a}sd.prototype.render=bg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,p=Yn();kA(u,p,a,s,null,null)},sd.prototype.unmount=bg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;kA(a.current,2,null,a,null,null),qu(),s[Po]=null}};function sd(a){this._internalRoot=a}sd.prototype.unstable_scheduleHydration=function(a){if(a){var s=Zb();a={blockedOn:null,target:a,priority:s};for(var u=0;u<va.length&&s!==0&&s<va[u].priority;u++);va.splice(u,0,a),u===0&&zA(a)}};var GA=t.version;if(GA!=="19.2.4")throw Error(r(527,GA,"19.2.4"));V.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var GL={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{Pt=ld.inject(GL),Ot=ld}catch{}}return Fl.createRoot=function(a,s){if(!i(a))throw Error(r(299));var u=!1,p="",b=Xw,S=Qw,T=Zw;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=OA(a,1,!1,null,null,u,p,null,b,S,T,HA),a[Po]=s.current,tg(a),new bg(s)},Fl.hydrateRoot=function(a,s,u){if(!i(a))throw Error(r(299));var p=!1,b="",S=Xw,T=Qw,j=Zw,B=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(j=u.onRecoverableError),u.formState!==void 0&&(B=u.formState)),s=OA(a,1,!0,s,u??null,p,b,B,S,T,j,HA),s.context=jA(null),u=s.current,p=Yn(),p=um(p),b=na(p),b.callback=null,ra(u,b,p),u=p,s.current.lanes=u,Xs(s,u),Hr(s),a[Po]=s.current,tg(a),new sd(s)},Fl.version="19.2.4",Fl}var eE;function r3(){if(eE)return Eg.exports;eE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Eg.exports=n3(),Eg.exports}var i3=r3();const a3=Lr(i3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),tE=e=>{const t=s3(e);return t.charAt(0).toUpperCase()+t.slice(1)},XP=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),l3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},h)=>_.createElement("svg",{ref:h,...c3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:XP("lucide",i),...!o&&!l3(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,m])=>_.createElement(f,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(e,t)=>{const n=_.forwardRef(({className:r,...i},o)=>_.createElement(u3,{ref:o,iconNode:t,className:XP(`lucide-${o3(tE(e))}`,`lucide-${e}`,r),...i}));return n.displayName=tE(e),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],uo=we("arrow-left",d3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],h3=we("arrow-right",f3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],p3=we("book-open",m3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],$d=we("bot",g3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],y3=we("calendar-check",v3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Kd=we("check",x3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Yr=we("chevron-down",b3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],QP=we("chevron-left",S3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Jy=we("chevron-right",w3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],E3=we("chevron-up",A3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Pi=we("circle-alert",_3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yd=we("circle-check-big",N3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lc=we("circle-check",T3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],P3=we("circle-question-mark",C3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Cg=we("circle-x",I3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZP=we("clock",M3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],j3=we("code",O3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],R3=we("copy",k3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ah=we("credit-card",D3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],eI=we("download",L3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],tI=we("ellipsis-vertical",U3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nE=we("eye-off",B3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jd=we("eye",z3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],pr=we("file-text",q3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],H3=we("globe",F3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],nI=we("hard-drive",G3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],$3=we("headphones",V3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],S0=we("info",K3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Pg=we("key",Y3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],W3=we("landmark",J3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Q3=we("layout-dashboard",X3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],st=we("loader-circle",Z3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Wy=we("lock",e4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rI=we("log-out",t4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],iI=we("menu",n4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],i4=we("mic-off",r4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],o4=we("mic",a4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],l4=we("package",s4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],u4=we("pause",c4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],rE=we("phone-call",d4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"m22 2-6 6",key:"6f0sa0"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],h4=we("phone-missed",f4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],kn=we("phone",m4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],g4=we("play",p4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ta=we("plus",v4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aI=we("refresh-cw",y4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],oI=we("save",x4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],oh=we("search",b4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sI=we("settings",S4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lI=we("shield-check",w4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],jd=we("shield",A4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Wd=we("smartphone",E4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],iE=we("sparkles",_4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],T4=we("square-check-big",N4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],P4=we("square",C4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],M4=we("star",I4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ca=we("trash-2",O4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],w0=we("trending-up",j4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],A0=we("upload",k4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],D4=we("user-plus",R4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],E0=we("user",L4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sh=we("users",U4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sn=we("x",B4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],cI=we("zap",z4),q4=({children:e,currentPath:t,navigate:n,setIsAuthenticated:r})=>{const[i,o]=_.useState(!1),[l,c]=_.useState(!1);_.useEffect(()=>{const m=()=>{const g=localStorage.getItem("user");if(g){const y=JSON.parse(g);c(y.role==="admin"||y.role==="superadmin")}else c(!1)};return m(),window.addEventListener("storage",m),()=>window.removeEventListener("storage",m)},[t]);const h=()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("forceOnboarding"),r(!1),n("/login")},f=[{name:"Dashboard",icon:Q3,path:"/dashboard"},{name:"Agent Management",icon:$d,path:"/agents"},{name:"Knowledge Center",icon:p3,path:"/knowledge"},{name:"Contacts",icon:sh,path:"/leads"},{name:"Call Management",icon:kn,path:"/calls"},{name:"Usage & Billing",icon:ah,path:"/usage"}];return l&&f.push({name:"Super Admin",icon:lI,path:"/admin"}),_.useEffect(()=>{o(!1)},[t]),d.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden font-sans",children:[i&&d.jsx("div",{className:"fixed inset-0 z-20 bg-slate-900/50 lg:hidden",onClick:()=>o(!1)}),d.jsxs("aside",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-white border-r border-slate-200 transform transition-transform duration-200 ease-in-out
        lg:translate-x-0 lg:static lg:inset-auto flex flex-col
        ${i?"translate-x-0":"-translate-x-full"}`,children:[d.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-slate-100",children:[d.jsxs("div",{className:"flex items-center space-x-2.5",children:[d.jsxs("div",{className:"relative w-8 h-8 flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-orange-500 via-red-500 to-purple-600 opacity-20"}),d.jsx($d,{className:"w-6 h-6 text-blue-700"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-lg font-bold text-blue-700",children:"Shreenika AI"}),d.jsx("div",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-widest",children:"Lite"})]})]}),d.jsx("button",{onClick:()=>o(!1),className:"lg:hidden text-slate-400 hover:text-blue-700",children:d.jsx(Sn,{className:"w-6 h-6"})})]}),d.jsx("nav",{className:"p-4 space-y-1 flex-1 overflow-y-auto",children:f.map(m=>{const g=t===m.path;return d.jsxs("button",{onClick:()=>n(m.path),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors
                ${g?"bg-blue-50 text-blue-700 font-semibold":"text-slate-600 hover:bg-slate-50"}`,children:[d.jsx(m.icon,{className:"w-5 h-5"}),d.jsx("span",{children:m.name})]},m.path)})}),d.jsxs("div",{className:"p-4 border-t border-slate-100",children:[d.jsxs("button",{onClick:()=>n("/settings"),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-slate-600 hover:bg-slate-50",children:[d.jsx(sI,{className:"w-5 h-5"}),d.jsx("span",{children:"Settings"})]}),d.jsxs("button",{onClick:h,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-slate-500 hover:text-red-600 hover:bg-red-50",children:[d.jsx(rI,{className:"w-5 h-5"}),d.jsx("span",{children:"Sign Out"})]})]})]}),d.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[d.jsxs("header",{className:"bg-white border-b h-16 flex items-center px-4 lg:hidden",children:[d.jsx("button",{onClick:()=>o(!0),children:d.jsx(iI,{className:"w-6 h-6"})}),d.jsx("span",{className:"ml-4 font-semibold",children:"Shreenika AI"})]}),d.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]})},F4=({children:e,currentPath:t,navigate:n,setIsAuthenticated:r})=>{const[i,o]=_.useState(!1),[l,c]=_.useState(!1),h=()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("forceOnboarding"),r(!1),n("/login")},f=[{name:"User Management",icon:sh,path:"/admin/users",subItems:[]}],m=[{name:"Privacy & Terms",path:"/admin/cms/privacy"},{name:"FAQs",path:"/admin/cms/faqs"},{name:"Tickets",path:"/admin/cms/tickets"},{name:"Affiliate Center",path:"/admin/cms/affiliate"}];_.useEffect(()=>{o(!1)},[t]);const g=y=>t===y||t.startsWith(y+"/");return d.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden font-sans",children:[i&&d.jsx("div",{className:"fixed inset-0 z-20 bg-slate-900/50 lg:hidden",onClick:()=>o(!1)}),d.jsxs("aside",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-white border-r border-slate-200 transform transition-transform duration-200 ease-in-out
        lg:translate-x-0 lg:static lg:inset-auto flex flex-col
        ${i?"translate-x-0":"-translate-x-full"}`,children:[d.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-slate-100",children:[d.jsxs("div",{className:"flex items-center space-x-2.5",children:[d.jsxs("div",{className:"relative w-8 h-8 flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-orange-500 via-red-500 to-purple-600 opacity-20"}),d.jsx(lI,{className:"w-6 h-6 text-red-600"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-lg font-bold text-red-600",children:"Shreenika AI"}),d.jsx("div",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-widest",children:"Super Admin"})]})]}),d.jsx("button",{onClick:()=>o(!1),className:"lg:hidden text-slate-400 hover:text-red-600",children:d.jsx(Sn,{className:"w-6 h-6"})})]}),d.jsx("nav",{className:"p-4 space-y-1 flex-1 overflow-y-auto",children:d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider px-4 py-2",children:"Super Admin"}),f.map(y=>d.jsxs("button",{onClick:()=>n(y.path),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${g(y.path)?"bg-red-50 text-red-600 font-semibold":"text-slate-600 hover:bg-slate-50"}`,children:[d.jsx(y.icon,{className:"w-5 h-5"}),d.jsx("span",{children:y.name})]},y.path)),d.jsxs("div",{className:"mt-2",children:[d.jsxs("button",{onClick:()=>c(!l),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${l||m.some(y=>g(y.path))?"bg-red-50 text-red-600 font-semibold":"text-slate-600 hover:bg-slate-50"}`,children:[d.jsx(pr,{className:"w-5 h-5"}),d.jsx("span",{children:"CMS Pages"}),d.jsx(Yr,{className:`w-4 h-4 ml-auto transition-transform ${l?"rotate-180":""}`})]}),l&&d.jsx("div",{className:"ml-4 mt-1 space-y-1 border-l border-slate-200",children:m.map(y=>d.jsxs("button",{onClick:()=>n(y.path),className:`w-full flex items-center space-x-3 px-4 py-2 rounded-lg text-sm transition-colors ${g(y.path)?"text-red-600 font-semibold bg-red-50":"text-slate-600 hover:bg-slate-50"}`,children:[d.jsx("span",{className:"ml-1",children:y.name}),y.name==="Tickets"||y.name==="Affiliate Center"?d.jsx("span",{className:"ml-auto text-xs font-semibold text-amber-600 bg-amber-50 px-2 py-1 rounded",children:"Coming Soon"}):null]},y.path))})]})]})}),d.jsxs("div",{className:"p-4 border-t border-slate-100",children:[d.jsxs("button",{onClick:()=>n("/settings"),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-slate-600 hover:bg-slate-50",children:[d.jsx(sI,{className:"w-5 h-5"}),d.jsx("span",{children:"Settings"})]}),d.jsxs("button",{onClick:h,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-slate-500 hover:text-red-600 hover:bg-red-50",children:[d.jsx(rI,{className:"w-5 h-5"}),d.jsx("span",{children:"Sign Out"})]})]})]}),d.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[d.jsxs("header",{className:"bg-white border-b h-16 flex items-center px-4 lg:hidden",children:[d.jsx("button",{onClick:()=>o(!0),children:d.jsx(iI,{className:"w-6 h-6"})}),d.jsx("span",{className:"ml-4 font-semibold",children:"Shreenika AI Super Admin"})]}),d.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]})},H4="https://shreenika-ai-backend-507468019722.us-central1.run.app",G4="https://shreenika-ai-backend-507468019722.us-central1.run.app",Ce=async(e,t,n="core")=>{const i=`${n==="auth"?H4:G4}${e}`,o=localStorage.getItem("token")||localStorage.getItem("voxai_token")||sessionStorage.getItem("token")||sessionStorage.getItem("voxai_token");console.log(" Token Check:",o?" Token exists":" No token");const l={...o&&{Authorization:`Bearer ${o}`},...t==null?void 0:t.headers};(t==null?void 0:t.body)instanceof FormData||(l["Content-Type"]="application/json");const c={...t,headers:l};console.log(" API Request:",i,c);try{const h=await fetch(i,c),f=await h.json();if(console.log(" API Response:",h.status,f),!h.ok)throw h.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("voxai_token"),sessionStorage.removeItem("token"),sessionStorage.removeItem("voxai_token"),window.location.href="/"),new Error(f.error||f.message||`HTTP ${h.status}`);return f}catch(h){throw console.error(" API Error:",h),h}},Ds=()=>Ce("/api/voice/agents",void 0,"core"),aE=e=>Ce("/api/voice/agents",{method:"POST",body:JSON.stringify(e)},"core"),V4=(e,t)=>Ce(`/api/voice/agents/${e}`,{method:"PUT",body:JSON.stringify(t)},"core"),$4=e=>Ce(`/api/voice/agents/${e}`,{method:"DELETE"},"core"),oE=e=>Ce(`/api/voice/agents/${e}`,void 0,"core"),uI=(e,t,n)=>{const r=new FormData;return r.append("file",e),t&&r.append("agentId",t),n&&r.append("title",n),Ce("/knowledge/upload",{method:"POST",body:r},"core")},dI=e=>Ce(`/knowledge/${e}`,{method:"DELETE"},"core"),K4=()=>Ce("/contacts",void 0,"core"),Y4=()=>Ce("/calls",void 0,"core"),J4=()=>Ce("/calls/campaigns",void 0,"core"),W4=e=>Ce("/calls/campaigns",{method:"POST",body:JSON.stringify(e)},"core"),X4=e=>Ce("/calls/campaigns/stop",{method:"POST",body:JSON.stringify({campaignId:e})},"core"),lh=()=>Ce("/billing/status",void 0,"core"),Xy=()=>Ce("/billing/usage",void 0,"core"),Q4=()=>Ce("/billing/invoices",void 0,"core"),Xd=(e,t)=>Ce("/billing/addon",{method:"POST",body:JSON.stringify({type:e,quantity:t})},"core"),fI=e=>Ce("/billing/plan",{method:"PUT",body:JSON.stringify({newPlan:e})},"core"),_0=()=>Ce("/voip/provider",void 0,"core"),Z4=e=>Ce("/voip/provider",{method:"POST",body:JSON.stringify(e)},"core"),Qd=()=>Ce("/voip/numbers",void 0,"core"),e6=(e,t)=>Ce("/voip/numbers/assign",{method:"POST",body:JSON.stringify({numberId:e,agentId:t})},"core"),t6=e=>Ce(`/voip/numbers/${e}`,{method:"DELETE"},"core"),n6=e=>Ce("/voip/setup-registration",{method:"POST",body:JSON.stringify(e)},"core"),r6=()=>Ce("/auth/mark-onboarded",{method:"POST"},"core"),i6=e=>Ce("/settings/api-keys",{method:"POST",body:JSON.stringify({name:e})},"core"),a6=()=>Ce("/settings/api-keys",void 0,"core"),o6=e=>Ce(`/settings/api-keys/${e}`,{method:"DELETE"},"core"),s6=()=>Ce("/voice/voices/available",void 0,"core"),l6="/assets/logo-DTUhOn3t.svg";function c6({onClose:e}){const[t,n]=_.useState(""),[r,i]=_.useState(!1),[o,l]=_.useState(!1),[c,h]=_.useState(""),f=async()=>{if(!t){h("Email is required");return}try{i(!0),h(""),await Ce("/auth/forgot-password",{method:"POST",body:JSON.stringify({email:t})}),l(!0)}catch{h("Unable to send reset link")}finally{i(!1)}};return d.jsx("div",{style:Nr.overlay,children:d.jsx("div",{style:Nr.card,children:o?d.jsxs(d.Fragment,{children:[d.jsx("h3",{style:Nr.heading,children:"Check Your Email"}),d.jsx("p",{style:Nr.text,children:"A password reset link has been sent to your email."}),d.jsx("button",{onClick:e,style:Nr.primaryBtn,children:"Close"})]}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{style:Nr.heading,children:"Forgot Password"}),d.jsx("p",{style:Nr.text,children:"Enter your email to receive a reset link."}),d.jsx("input",{type:"email",placeholder:"name@company.com",value:t,onChange:m=>n(m.target.value),style:Nr.input}),c&&d.jsx("div",{style:Nr.error,children:c}),d.jsx("button",{onClick:f,disabled:r,style:Nr.primaryBtn,children:r?"Sending...":"Send Reset Link"}),d.jsx("button",{onClick:e,style:Nr.linkBtn,children:"Cancel"})]})})})}const Nr={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},card:{width:420,background:"#ffffff",borderRadius:18,padding:"32px 28px",boxShadow:"0 30px 60px rgba(0,0,0,0.2)",textAlign:"center"},heading:{fontSize:20,fontWeight:600,marginBottom:12},text:{fontSize:14,color:"#475569",marginBottom:18},input:{width:"100%",padding:"12px 14px",borderRadius:10,border:"1px solid #cbd5f5",fontSize:14,marginBottom:12},primaryBtn:{width:"100%",padding:"14px",borderRadius:12,border:"none",background:"#1d4ed8",color:"#fff",fontSize:15,fontWeight:600,cursor:"pointer",marginTop:6},linkBtn:{marginTop:14,background:"transparent",border:"none",color:"#1d4ed8",cursor:"pointer",fontSize:14},error:{background:"#fee2e2",color:"#b91c1c",padding:10,borderRadius:10,fontSize:13,marginBottom:12}};function u6({onLogin:e}){const[t,n]=_.useState("login"),[r,i]=_.useState(""),[o,l]=_.useState(""),[c,h]=_.useState(!1),[f,m]=_.useState(""),[g,y]=_.useState(!1),[w,N]=_.useState(!1),A=async()=>{try{m(""),y(!0);const P=await Ce(t==="login"?"/auth/login":"/auth/register",{method:"POST",body:JSON.stringify({email:r,password:o})});if(P.token)localStorage.setItem("token",P.token),localStorage.setItem("user",JSON.stringify(P.user)),t==="signup"&&localStorage.setItem("forceOnboarding","true"),e();else throw new Error("Authentication failed. Please try again.")}catch(C){const P=(C==null?void 0:C.message)||"";P.includes("User already exists")?m("An account with this email already exists. Try signing in."):P.includes("Invalid credentials")?m("Invalid email or password."):P.includes("Email not verified")?m("Please verify your email before logging in."):m(P||(t==="login"?"Invalid email or password":"Unable to create account. Please try again."))}finally{y(!1)}},E=()=>{const C="https://shreenika-ai-backend-507468019722.us-central1.run.app";window.location.href=`${C}/auth/google`};return d.jsxs(d.Fragment,{children:[w&&d.jsx(c6,{onClose:()=>N(!1)}),d.jsx("div",{style:ht.page,children:d.jsxs("div",{style:ht.card,children:[d.jsx("div",{style:ht.logoWrap,children:d.jsx("img",{src:l6,alt:"Shreenika AI",style:ht.logo})}),d.jsx("h1",{style:ht.title,children:"Shreenika AI"}),d.jsx("p",{style:ht.subtitle,children:"Enterprise Voice Automation Platform"}),d.jsx("h2",{style:ht.heading,children:t==="login"?"Welcome Back":"Get Started"}),d.jsxs("div",{style:ht.field,children:[d.jsx("label",{style:ht.label,children:"Email Address"}),d.jsx("input",{type:"email",placeholder:"name@company.com",value:r,onChange:C=>i(C.target.value),style:ht.input})]}),d.jsxs("div",{style:ht.field,children:[d.jsx("label",{style:ht.label,children:"Password"}),d.jsxs("div",{style:ht.passwordWrap,children:[d.jsx("input",{type:c?"text":"password",placeholder:"",value:o,onChange:C=>l(C.target.value),style:ht.passwordInput}),d.jsx("span",{style:ht.eye,onClick:()=>h(!c),children:c?"":""})]})]}),f&&d.jsx("div",{style:ht.error,children:f}),d.jsx("button",{onClick:A,disabled:g,style:ht.primaryBtn,children:g?"Please wait...":t==="login"?"Sign In ":"Create Account "}),d.jsx("div",{style:ht.divider,children:d.jsx("span",{children:"Or continue with"})}),d.jsxs("button",{style:ht.googleBtn,onClick:E,children:[d.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",style:{width:18,marginRight:10}}),"Google"]}),d.jsx("div",{style:ht.footer,children:t==="login"?d.jsxs(d.Fragment,{children:[d.jsx("span",{style:ht.link,onClick:()=>N(!0),children:"Forgot password?"}),d.jsx("br",{}),d.jsxs("span",{style:ht.switch,children:["Don't have an account?"," ",d.jsx("span",{style:ht.link,onClick:()=>n("signup"),children:"Sign Up"})]})]}):d.jsxs("span",{style:ht.switch,children:["Already have an account?"," ",d.jsx("span",{style:ht.link,onClick:()=>n("login"),children:"Sign In"})]})})]})})]})}const ht={page:{minHeight:"100vh",background:"linear-gradient(135deg,#eef2ff,#f8fafc)",display:"flex",alignItems:"center",justifyContent:"center"},card:{width:440,background:"#ffffff",borderRadius:18,padding:"36px 32px",boxShadow:"0 30px 60px rgba(0,0,0,0.12)",textAlign:"center"},logoWrap:{display:"flex",justifyContent:"center",marginBottom:16},logo:{width:124,height:"auto"},title:{fontSize:26,fontWeight:700,margin:0},subtitle:{fontSize:14,color:"#64748b",marginBottom:28},heading:{fontSize:20,fontWeight:600,marginBottom:24},field:{textAlign:"left",marginBottom:18},label:{fontSize:13,marginBottom:6,display:"block",color:"#334155"},input:{width:"100%",padding:"12px 14px",borderRadius:10,border:"1px solid #cbd5f5",fontSize:14},passwordWrap:{display:"flex",alignItems:"center",border:"1px solid #cbd5f5",borderRadius:10},passwordInput:{flex:1,padding:"12px 14px",border:"none",outline:"none",fontSize:14},eye:{padding:"0 14px",cursor:"pointer"},primaryBtn:{width:"100%",padding:"14px",borderRadius:12,border:"none",background:"#1d4ed8",color:"#fff",fontSize:16,fontWeight:600,cursor:"pointer",marginTop:6},divider:{margin:"24px 0 18px",fontSize:13,color:"#64748b"},googleBtn:{width:"100%",padding:"12px",borderRadius:12,border:"1px solid #cbd5f5",background:"#fff",cursor:"pointer",fontSize:14,display:"flex",alignItems:"center",justifyContent:"center"},footer:{marginTop:18,fontSize:13},link:{color:"#1d4ed8",cursor:"pointer",fontWeight:500},switch:{color:"#475569"},error:{background:"#fee2e2",color:"#b91c1c",padding:10,borderRadius:10,fontSize:13,marginBottom:14}},d6=({isOpen:e,onClose:t,onSkip:n,onComplete:r})=>{const[i,o]=_.useState(null),[l,c]=_.useState(!1),[h,f]=_.useState(!1),[m,g]=_.useState(null),[y,w]=_.useState(!1),[N,A]=_.useState(""),[E,C]=_.useState({accountSid:"",authToken:"",apiKey:"",secretKey:"",did:"",endpointUrl:"",customScript:""}),P=async()=>{var O;f(!0),g(null);try{const M={provider:i};if(i==="Twilio"){if(!E.accountSid||!E.authToken){g("Account SID and Auth Token are required"),f(!1);return}M.accountSid=E.accountSid,M.authToken=E.authToken}else{if(!E.apiKey||!E.secretKey||!E.did){g("API Key, Secret Key, and DID (Phone Number) are required"),f(!1);return}M.apiKey=E.apiKey,M.secretKey=E.secretKey,M.did=E.did,E.endpointUrl&&(M.endpointUrl=E.endpointUrl)}l&&E.customScript&&(M.customScript=E.customScript);const k=await n6(M);if(k.success){g(null);const I=((O=k.dids)==null?void 0:O.length)||0;A(` Success! ${I} DID${I!==1?"s":""} imported and assigned to your agent.`),w(!0),setTimeout(()=>{r()},1500);return}}catch(M){g(M.message||"Failed to setup VOIP provider")}finally{f(!1)}};return e?y?d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 animate-fadeIn",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-12 text-center",children:[d.jsx("div",{className:"bg-green-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),d.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Setup Complete!"}),d.jsx("p",{className:"text-slate-600 mb-6",children:N}),d.jsx("p",{className:"text-sm text-slate-500",children:"Redirecting to dashboard..."})]})}):d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 animate-fadeIn",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl p-8 relative max-h-[90vh] overflow-y-auto",children:[d.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition",children:d.jsx(Sn,{className:"w-6 h-6"})}),d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(kn,{className:"w-8 h-8 text-blue-600"})}),d.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Setup VOIP Provider"}),d.jsx("p",{className:"text-slate-500 mt-2",children:"Connect your telephony provider to enable calls (Optional)"})]}),m&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-start space-x-3",children:[d.jsx(Pi,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),d.jsx("div",{children:d.jsx("p",{className:"text-sm text-red-700",children:m})})]}),i?null:d.jsxs("div",{className:"space-y-6",children:[d.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Choose your VOIP provider:"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("button",{onClick:()=>o("Twilio"),className:"p-6 border-2 border-slate-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 text-left",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Twilio"}),d.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Industry standard, most reliable"})]}),d.jsxs("button",{onClick:()=>o("Others"),className:"p-6 border-2 border-slate-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 text-left",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Others"}),d.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"BlandAI, Vapi, Vonage, custom"})]})]})]}),i==="Twilio"&&d.jsxs("div",{className:"space-y-5",children:[d.jsx("button",{onClick:()=>o(null),className:"text-sm text-blue-600 hover:text-blue-700 underline font-medium",children:" Change Provider"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account SID"}),d.jsx("input",{type:"text",value:E.accountSid,onChange:O=>C({...E,accountSid:O.target.value}),placeholder:"ACxxxxxxxxxxxxxxxxxxxxxxxx",className:"w-full border border-slate-300 rounded-lg p-3 font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Auth Token"}),d.jsx("input",{type:"password",value:E.authToken,onChange:O=>C({...E,authToken:O.target.value}),placeholder:"",className:"w-full border border-slate-300 rounded-lg p-3 font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),i==="Others"&&d.jsxs("div",{className:"space-y-5",children:[d.jsx("button",{onClick:()=>o(null),className:"text-sm text-blue-600 hover:text-blue-700 underline font-medium",children:" Change Provider"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"API Key"}),d.jsx("input",{type:"text",value:E.apiKey,onChange:O=>C({...E,apiKey:O.target.value}),placeholder:"Your API Key",className:"w-full border border-slate-300 rounded-lg p-3 font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Token Key / Secret Key"}),d.jsx("input",{type:"password",value:E.secretKey,onChange:O=>C({...E,secretKey:O.target.value}),placeholder:"",className:"w-full border border-slate-300 rounded-lg p-3 font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"DID (Phone Number) *"}),d.jsx("input",{required:!0,type:"text",value:E.did,onChange:O=>C({...E,did:O.target.value}),placeholder:"+1234567890 or your provider's DID format",className:"w-full border border-slate-300 rounded-lg p-3 font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Required - Your phone number/DID from the provider"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Endpoint URL (Optional)"}),d.jsx("input",{type:"text",value:E.endpointUrl,onChange:O=>C({...E,endpointUrl:O.target.value}),placeholder:"https://api.yourprovider.com/v1",className:"w-full border border-slate-300 rounded-lg p-3 font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Optional - Provider's API base URL. Leave empty if system can auto-discover"})]}),d.jsxs("div",{className:"border-t border-slate-200 pt-5",children:[d.jsxs("button",{onClick:()=>c(!l),className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:[l?d.jsx(E3,{className:"w-4 h-4"}):d.jsx(Yr,{className:"w-4 h-4"}),"Advanced Options"]}),l&&d.jsx("div",{className:"mt-4 space-y-4 bg-slate-50 p-4 rounded-lg",children:d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Custom Script (IVR Logic)"}),d.jsx("textarea",{value:E.customScript,onChange:O=>C({...E,customScript:O.target.value}),placeholder:"// Custom IVR logic (e.g., TwiML, XML, JSON)",className:"w-full border border-slate-300 rounded-lg p-3 font-mono text-xs focus:ring-2 focus:ring-blue-500 focus:border-transparent h-24"})]})})]})]}),i?d.jsxs("div",{className:"flex justify-between gap-4 mt-8 pt-6 border-t border-slate-200",children:[d.jsx("button",{onClick:n,className:"px-6 py-3 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition-colors",children:"Skip for Now"}),d.jsx("button",{onClick:P,disabled:h,className:"px-8 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:h?d.jsxs(d.Fragment,{children:[d.jsx(st,{className:"w-5 h-5 animate-spin"}),"Connecting..."]}):"Connect & Continue"})]}):d.jsx("div",{className:"text-center mt-8 pt-6 border-t border-slate-200",children:d.jsx("button",{onClick:n,className:"text-sm text-slate-500 hover:text-slate-700 underline",children:"Skip VOIP setup (you can configure it later in Settings)"})})]})}):null},f6=({setAgent:e,navigate:t})=>{const[n,r]=_.useState(!1),[i,o]=_.useState(!1),[l,c]=_.useState({name:"Sales Assistant",title:"Lead Qualifier",gender:"Female",age:28,prompt:"You are a helpful assistant..."}),h=()=>{o(!0)},f=()=>{o(!1),setTimeout(()=>{g()},100)},m=()=>{o(!1),setTimeout(()=>{g()},100)},g=async()=>{const y={name:l.name,title:l.title,gender:l.gender,age:l.age,prompt:l.prompt,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed="+l.name,language:"English (US)",voiceId:"Monika",characteristics:["Professional","Helpful"],callingLimit:60,silenceDetectionMs:15,voicemailDetection:!0,voicemailAction:"Leave a voicemail",voicemailMessage:`Hello, this is ${l.name}. Please give me a call back.`,maxCallDuration:3600,voiceSpeed:1,interruptionSensitivity:.5,responsiveness:.5,emotionLevel:.5,backgroundNoise:"Office",welcomeMessage:`Hello, this is ${l.name}. How can I assist you today?`,knowledgeBase:[]};try{await r6(),console.log(" User marked as onboarded")}catch(w){console.error(" Failed to mark user as onboarded:",w)}e(y),t("/dashboard")};return d.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center pt-20 px-4",children:[d.jsx("div",{className:"max-w-2xl w-full",children:d.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-slate-100",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"bg-indigo-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx($d,{className:"w-8 h-8 text-indigo-600"})}),d.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Create Your AI Agent"}),d.jsx("p",{className:"text-slate-500",children:"Let's give your agent a personality."})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Agent Name"}),d.jsx("input",{type:"text",className:"w-full border border-slate-300 rounded-lg p-3 bg-white focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"e.g. Maya",value:l.name,onChange:y=>c({...l,name:y.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Role Title"}),d.jsx("input",{type:"text",className:"w-full border border-slate-300 rounded-lg p-3 bg-white focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"e.g. Sales Rep",value:l.title,onChange:y=>c({...l,title:y.target.value})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Gender"}),d.jsxs("select",{className:"w-full border border-slate-300 rounded-lg p-3 bg-white outline-none focus:ring-2 focus:ring-indigo-500",value:l.gender,onChange:y=>c({...l,gender:y.target.value}),children:[d.jsx("option",{children:"Female"}),d.jsx("option",{children:"Male"}),d.jsx("option",{children:"Neutral"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Age"}),d.jsx("input",{type:"number",className:"w-full border border-slate-300 rounded-lg p-3 bg-white outline-none focus:ring-2 focus:ring-indigo-500",value:l.age,onChange:y=>c({...l,age:parseInt(y.target.value)})})]})]})]}),d.jsxs("div",{className:"mt-8 flex justify-between gap-4",children:[d.jsx("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("forceOnboarding"),t("/login")},className:"border border-slate-300 text-slate-700 px-8 py-3 rounded-lg font-semibold hover:bg-slate-50 transition-colors",children:"Back"}),d.jsxs("button",{onClick:h,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-lg font-semibold flex items-center space-x-2 transition-colors shadow-lg shadow-indigo-200",children:[d.jsx("span",{children:"Continue"}),d.jsx(h3,{className:"w-5 h-5"})]})]})]})}),d.jsx(d6,{isOpen:i,onClose:()=>o(!1),onSkip:m,onComplete:f})]})};function hI(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=hI(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=hI(e))&&(r&&(r+=" "),r+=t);return r}var h6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Qy(e){if(typeof e!="string")return!1;var t=h6;return t.includes(e)}var m6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],p6=new Set(m6);function mI(e){return typeof e!="string"?!1:p6.has(e)}function pI(e){return typeof e=="string"&&e.startsWith("data-")}function kr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(mI(n)||pI(n))&&(t[n]=e[n]);return t}function Nc(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return kr(t)}return typeof e=="object"&&!Array.isArray(e)?kr(e):null}function wn(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(mI(n)||pI(n)||Qy(n))&&(t[n]=e[n]);return t}function g6(e){return e==null?null:_.isValidElement(e)?wn(e.props):typeof e=="object"&&!Array.isArray(e)?wn(e):null}var v6=["children","width","height","viewBox","className","style","title","desc"];function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N0.apply(null,arguments)}function y6(e,t){if(e==null)return{};var n,r,i=x6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function x6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Zy=_.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:c,title:h,desc:f}=e,m=y6(e,v6),g=o||{width:r,height:i,x:0,y:0},y=tt("recharts-surface",l);return _.createElement("svg",N0({},wn(m),{className:y,width:r,height:i,style:c,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),_.createElement("title",null,h),_.createElement("desc",null,f),n)}),b6=["children","className"];function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T0.apply(null,arguments)}function S6(e,t){if(e==null)return{};var n,r,i=w6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vr=_.forwardRef((e,t)=>{var{children:n,className:r}=e,i=S6(e,b6),o=tt("recharts-layer",r);return _.createElement("g",T0({className:o},wn(i),{ref:t}),n)}),ex=WP(),gI=_.createContext(null),A6=()=>_.useContext(gI);function ut(e){return function(){return e}}const vI=Math.cos,Zd=Math.sin,Ur=Math.sqrt,ef=Math.PI,ch=2*ef,C0=Math.PI,P0=2*C0,Za=1e-6,E6=P0-Za;function yI(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function _6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yI;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class N6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yI:_6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,h=r-t,f=i-n,m=l-t,g=c-n,y=m*m+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>Za)if(!(Math.abs(g*h-f*m)>Za)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let w=r-l,N=i-c,A=h*h+f*f,E=w*w+N*N,C=Math.sqrt(A),P=Math.sqrt(y),O=o*Math.tan((C0-Math.acos((A+y-E)/(2*C*P)))/2),M=O/P,k=O/C;Math.abs(M-1)>Za&&this._append`L${t+M*m},${n+M*g}`,this._append`A${o},${o},0,0,${+(g*w>m*N)},${this._x1=t+k*h},${this._y1=n+k*f}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),h=r*Math.sin(i),f=t+c,m=n+h,g=1^l,y=l?i-o:o-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Za||Math.abs(this._y1-m)>Za)&&this._append`L${f},${m}`,r&&(y<0&&(y=y%P0+P0),y>E6?this._append`A${r},${r},0,1,${g},${t-c},${n-h}A${r},${r},0,1,${g},${this._x1=f},${this._y1=m}`:y>Za&&this._append`A${r},${r},0,${+(y>=C0)},${g},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function tx(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new N6(t)}function nx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xI(e){this._context=e}xI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function uh(e){return new xI(e)}function bI(e){return e[0]}function SI(e){return e[1]}function wI(e,t){var n=ut(!0),r=null,i=uh,o=null,l=tx(c);e=typeof e=="function"?e:e===void 0?bI:ut(e),t=typeof t=="function"?t:t===void 0?SI:ut(t);function c(h){var f,m=(h=nx(h)).length,g,y=!1,w;for(r==null&&(o=i(w=l())),f=0;f<=m;++f)!(f<m&&n(g=h[f],f,h))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+e(g,f,h),+t(g,f,h));if(w)return o=null,w+""||null}return c.x=function(h){return arguments.length?(e=typeof h=="function"?h:ut(+h),c):e},c.y=function(h){return arguments.length?(t=typeof h=="function"?h:ut(+h),c):t},c.defined=function(h){return arguments.length?(n=typeof h=="function"?h:ut(!!h),c):n},c.curve=function(h){return arguments.length?(i=h,r!=null&&(o=i(r)),c):i},c.context=function(h){return arguments.length?(h==null?r=o=null:o=i(r=h),c):r},c}function cd(e,t,n){var r=null,i=ut(!0),o=null,l=uh,c=null,h=tx(f);e=typeof e=="function"?e:e===void 0?bI:ut(+e),t=typeof t=="function"?t:ut(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?SI:ut(+n);function f(g){var y,w,N,A=(g=nx(g)).length,E,C=!1,P,O=new Array(A),M=new Array(A);for(o==null&&(c=l(P=h())),y=0;y<=A;++y){if(!(y<A&&i(E=g[y],y,g))===C)if(C=!C)w=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),N=y-1;N>=w;--N)c.point(O[N],M[N]);c.lineEnd(),c.areaEnd()}C&&(O[y]=+e(E,y,g),M[y]=+t(E,y,g),c.point(r?+r(E,y,g):O[y],n?+n(E,y,g):M[y]))}if(P)return c=null,P+""||null}function m(){return wI().defined(i).curve(l).context(o)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:ut(+g),r=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:ut(+g),f):e},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:ut(+g),f):r},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:ut(+g),n=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:ut(+g),f):t},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:ut(+g),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(r).y(t)},f.defined=function(g){return arguments.length?(i=typeof g=="function"?g:ut(!!g),f):i},f.curve=function(g){return arguments.length?(l=g,o!=null&&(c=l(o)),f):l},f.context=function(g){return arguments.length?(g==null?o=c=null:c=l(o=g),f):o},f}class AI{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function T6(e){return new AI(e,!0)}function C6(e){return new AI(e,!1)}const rx={draw(e,t){const n=Ur(t/ef);e.moveTo(n,0),e.arc(0,0,n,0,ch)}},P6={draw(e,t){const n=Ur(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},EI=Ur(1/3),I6=EI*2,M6={draw(e,t){const n=Ur(t/I6),r=n*EI;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},O6={draw(e,t){const n=Ur(t),r=-n/2;e.rect(r,r,n,n)}},j6=.8908130915292852,_I=Zd(ef/10)/Zd(7*ef/10),k6=Zd(ch/10)*_I,R6=-vI(ch/10)*_I,D6={draw(e,t){const n=Ur(t*j6),r=k6*n,i=R6*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const l=ch*o/5,c=vI(l),h=Zd(l);e.lineTo(h*n,-c*n),e.lineTo(c*r-h*i,h*r+c*i)}e.closePath()}},Ig=Ur(3),L6={draw(e,t){const n=-Ur(t/(Ig*3));e.moveTo(0,n*2),e.lineTo(-Ig*n,-n),e.lineTo(Ig*n,-n),e.closePath()}},ur=-.5,dr=Ur(3)/2,I0=1/Ur(12),U6=(I0/2+1)*3,B6={draw(e,t){const n=Ur(t/U6),r=n/2,i=n*I0,o=r,l=n*I0+n,c=-o,h=l;e.moveTo(r,i),e.lineTo(o,l),e.lineTo(c,h),e.lineTo(ur*r-dr*i,dr*r+ur*i),e.lineTo(ur*o-dr*l,dr*o+ur*l),e.lineTo(ur*c-dr*h,dr*c+ur*h),e.lineTo(ur*r+dr*i,ur*i-dr*r),e.lineTo(ur*o+dr*l,ur*l-dr*o),e.lineTo(ur*c+dr*h,ur*h-dr*c),e.closePath()}};function z6(e,t){let n=null,r=tx(i);e=typeof e=="function"?e:ut(e||rx),t=typeof t=="function"?t:ut(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ut(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ut(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function tf(){}function nf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function NI(e){this._context=e}NI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function q6(e){return new NI(e)}function TI(e){this._context=e}TI.prototype={areaStart:tf,areaEnd:tf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F6(e){return new TI(e)}function CI(e){this._context=e}CI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H6(e){return new CI(e)}function PI(e){this._context=e}PI.prototype={areaStart:tf,areaEnd:tf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function G6(e){return new PI(e)}function sE(e){return e<0?-1:1}function lE(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),c=(o*i+l*r)/(r+i);return(sE(o)+sE(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function cE(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Mg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,c=(o-r)/3;e._context.bezierCurveTo(r+c,i+c*t,o-c,l-c*n,o,l)}function rf(e){this._context=e}rf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mg(this,this._t0,cE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Mg(this,cE(this,n=lE(this,e,t)),n);break;default:Mg(this,this._t0,n=lE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function II(e){this._context=new MI(e)}(II.prototype=Object.create(rf.prototype)).point=function(e,t){rf.prototype.point.call(this,t,e)};function MI(e){this._context=e}MI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function V6(e){return new rf(e)}function $6(e){return new II(e)}function OI(e){this._context=e}OI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=uE(e),i=uE(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function uE(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function K6(e){return new OI(e)}function dh(e,t){this._context=e,this._t=t}dh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Y6(e){return new dh(e,.5)}function J6(e){return new dh(e,0)}function W6(e){return new dh(e,1)}function fo(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,c=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<c;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function M0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function X6(e,t){return e[t]}function Q6(e){const t=[];return t.key=e,t}function Z6(){var e=ut([]),t=M0,n=fo,r=X6;function i(o){var l=Array.from(e.apply(this,arguments),Q6),c,h=l.length,f=-1,m;for(const g of o)for(c=0,++f;c<h;++c)(l[c][f]=[0,+r(g,l[c].key,f,o)]).data=g;for(c=0,m=nx(t(l));c<h;++c)l[m[c]].index=c;return n(l,m),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ut(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ut(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?M0:typeof o=="function"?o:ut(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??fo,i):n},i}function eU(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}fo(e,t)}}function tU(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var l=0,c=0;l<i;++l)c+=e[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}fo(e,t)}}function nU(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var c=0,h=0,f=0;c<l;++c){for(var m=e[t[c]],g=m[r][1]||0,y=m[r-1][1]||0,w=(g-y)/2,N=0;N<c;++N){var A=e[t[N]],E=A[r][1]||0,C=A[r-1][1]||0;w+=E-C}h+=g,f+=w*g}i[r-1][1]+=i[r-1][0]=n,h&&(n-=f/h)}i[r-1][1]+=i[r-1][0]=n,fo(e,t)}}var Og={},jg={},dE;function rU(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(jg)),jg}var kg={},fE;function jI(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(kg)),kg}var Rg={},hE;function ix(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Rg)),Rg}var Dg={},Lg={},mE;function iU(){return mE||(mE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Lg)),Lg}var pE;function ax(){return pE||(pE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iU(),n=ix();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],l=i.length;if(l===0)return o;let c=0,h="",f="",m=!1;for(i.charCodeAt(0)===46&&(o.push(""),c++);c<l;){const g=i[c];f?g==="\\"&&c+1<l?(c++,h+=i[c]):g===f?f="":h+=g:m?g==='"'||g==="'"?f=g:g==="]"?(m=!1,o.push(h),h=""):h+=g:g==="["?(m=!0,h&&(o.push(h),h="")):g==="."?h&&(o.push(h),h=""):h+=g,c++}return h&&o.push(h),o}e.toPath=r})(Dg)),Dg}var gE;function ox(){return gE||(gE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rU(),n=jI(),r=ix(),i=ax();function o(c,h,f){if(c==null)return f;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return f;const m=c[h];return m===void 0?n.isDeepKey(h)?o(c,i.toPath(h),f):f:m}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const m=c[h];return m===void 0?f:m}default:{if(Array.isArray(h))return l(c,h,f);if(Object.is(h==null?void 0:h.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return f;const m=c[h];return m===void 0?f:m}}}function l(c,h,f){if(h.length===0)return f;let m=c;for(let g=0;g<h.length;g++){if(m==null||t.isUnsafeProperty(h[g]))return f;m=m[h[g]]}return m===void 0?f:m}e.get=o})(Og)),Og}var Ug,vE;function aU(){return vE||(vE=1,Ug=ox().get),Ug}var oU=aU();const Ts=Lr(oU);var sU=4;function wa(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sU,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Tt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,l)=>{var c=n[l-1];return typeof c=="string"?i+c+o:c!==void 0?i+wa(c)+o:i+o},"")}var Rn=e=>e===0?0:e>0?1:-1,Zr=e=>typeof e=="number"&&e!=+e,ho=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Se=e=>(typeof e=="number"||e instanceof Number)&&!Zr(e),ei=e=>Se(e)||typeof e=="string",lU=0,cc=e=>{var t=++lU;return"".concat(e||"").concat(t)},Rr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(t)&&typeof t!="string")return r;var o;if(ho(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return Zr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},kI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Ct(e,t,n){return Se(e)&&Se(t)?wa(e+n*(t-e)):t}function RI(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Ts(r,t))===n)}var wt=e=>e===null||typeof e>"u",Tc=e=>wt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Dn(e){return e!=null}function bo(){}var cU=["type","size","sizeType"];function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(null,arguments)}function yE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(n),!0).forEach(function(r){uU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uU(e,t,n){return(t=dU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dU(e){var t=fU(e,"string");return typeof t=="symbol"?t:t+""}function fU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hU(e,t){if(e==null)return{};var n,r,i=mU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var DI={symbolCircle:rx,symbolCross:P6,symbolDiamond:M6,symbolSquare:O6,symbolStar:D6,symbolTriangle:L6,symbolWye:B6},pU=Math.PI/180,gU=e=>{var t="symbol".concat(Tc(e));return DI[t]||rx},vU=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*pU;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},yU=(e,t)=>{DI["symbol".concat(Tc(e))]=t},sx=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=hU(e,cU),o=xE(xE({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var c=()=>{var y=gU(l),w=z6().type(y).size(vU(n,r,l)),N=w();if(N!==null)return N},{className:h,cx:f,cy:m}=o,g=wn(o);return Se(f)&&Se(m)&&Se(n)?_.createElement("path",O0({},g,{className:tt("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};sx.registerSymbol=yU;var LI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,lx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(_.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Qy(i)&&(r[i]=(o=>n[i](n,o)))}),r},xU=(e,t,n)=>r=>(e(t,n,r),null),fh=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];Qy(i)&&typeof o=="function"&&(r||(r={}),r[i]=xU(o,t,n))}),r};function bE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(n),!0).forEach(function(r){SU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SU(e,t,n){return(t=wU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wU(e){var t=AU(e,"string");return typeof t=="symbol"?t:t+""}function AU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fn(e,t){var n=bU({},e),r=t,i=Object.keys(t),o=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return o}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},af.apply(null,arguments)}function SE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(n),!0).forEach(function(r){_U(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _U(e,t,n){return(t=NU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NU(e){var t=TU(e,"string");return typeof t=="symbol"?t:t+""}function TU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hr=32,CU={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function PU(e){var{data:t,iconType:n,inactiveColor:r}=e,i=hr/2,o=hr/6,l=hr/3,c=t.inactive?r:t.color,h=n??t.type;if(h==="none")return null;if(h==="plainline"){var f;return _.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(f=t.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:hr,y2:i,className:"recharts-legend-icon"})}if(h==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(hr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(h==="rect")return _.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(hr/8,"h").concat(hr,"v").concat(hr*3/4,"h").concat(-hr,"z"),className:"recharts-legend-icon"});if(_.isValidElement(t.legendIcon)){var m=EU({},t);return delete m.legendIcon,_.cloneElement(t.legendIcon,m)}return _.createElement(sx,{fill:c,cx:i,cy:i,size:hr,sizeType:"diameter",type:h})}function IU(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:l}=e,c={x:0,y:0,width:hr,height:hr},h={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((m,g)=>{var y=m.formatter||i,w=tt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:m.inactive});if(m.type==="none")return null;var N=m.inactive?o:m.color,A=y?y(m.value,m,g):m.value;return _.createElement("li",af({className:w,style:h,key:"legend-item-".concat(g)},fh(e,m,g)),_.createElement(Zy,{width:n,height:n,viewBox:c,style:f,"aria-label":"".concat(A," legend icon")},_.createElement(PU,{data:m,iconType:l,inactiveColor:o})),_.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},A))})}var MU=e=>{var t=fn(e,CU),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:o},_.createElement(IU,af({},t,{payload:n})))},Bg={},zg={},wE;function OU(){return wE||(wE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],c=r(l,o,n);i.has(c)||i.set(c,l)}return Array.from(i.values())}e.uniqBy=t})(zg)),zg}var qg={},AE;function jU(){return AE||(AE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(qg)),qg}var Fg={},EE;function UI(){return EE||(EE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Fg)),Fg}var Hg={},Gg={},Vg={},_E;function kU(){return _E||(_E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Vg)),Vg}var NE;function cx(){return NE||(NE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kU();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Gg)),Gg}var $g={},TE;function RU(){return TE||(TE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})($g)),$g}var CE;function DU(){return CE||(CE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cx(),n=RU();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Hg)),Hg}var Kg={},Yg={},PE;function LU(){return PE||(PE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ox();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Yg)),Yg}var Jg={},Wg={},Xg={},Qg={},IE;function BI(){return IE||(IE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Qg)),Qg}var Zg={},ME;function zI(){return ME||(ME=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Zg)),Zg}var ev={},OE;function qI(){return OE||(OE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(ev)),ev}var jE;function UU(){return jE||(jE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BI(),n=zI(),r=qI();function i(m,g,y){return typeof y!="function"?i(m,g,()=>{}):o(m,g,function w(N,A,E,C,P,O){const M=y(N,A,E,C,P,O);return M!==void 0?!!M:o(N,A,w,O)},new Map)}function o(m,g,y,w){if(g===m)return!0;switch(typeof g){case"object":return l(m,g,y,w);case"function":return Object.keys(g).length>0?o(m,{...g},y,w):r.isEqualsSameValueZero(m,g);default:return t.isObject(m)?typeof g=="string"?g==="":!0:r.isEqualsSameValueZero(m,g)}}function l(m,g,y,w){if(g==null)return!0;if(Array.isArray(g))return h(m,g,y,w);if(g instanceof Map)return c(m,g,y,w);if(g instanceof Set)return f(m,g,y,w);const N=Object.keys(g);if(m==null||n.isPrimitive(m))return N.length===0;if(N.length===0)return!0;if(w!=null&&w.has(g))return w.get(g)===m;w==null||w.set(g,m);try{for(let A=0;A<N.length;A++){const E=N[A];if(!n.isPrimitive(m)&&!(E in m)||g[E]===void 0&&m[E]!==void 0||g[E]===null&&m[E]!==null||!y(m[E],g[E],E,m,g,w))return!1}return!0}finally{w==null||w.delete(g)}}function c(m,g,y,w){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[N,A]of g.entries()){const E=m.get(N);if(y(E,A,N,m,g,w)===!1)return!1}return!0}function h(m,g,y,w){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const N=new Set;for(let A=0;A<g.length;A++){const E=g[A];let C=!1;for(let P=0;P<m.length;P++){if(N.has(P))continue;const O=m[P];let M=!1;if(y(O,E,A,m,g,w)&&(M=!0),M){N.add(P),C=!0;break}}if(!C)return!1}return!0}function f(m,g,y,w){return g.size===0?!0:m instanceof Set?h([...m],[...g],y,w):!1}e.isMatchWith=i,e.isSetMatch=f})(Xg)),Xg}var kE;function FI(){return kE||(kE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UU();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Wg)),Wg}var tv={},nv={},rv={},RE;function BU(){return RE||(RE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(rv)),rv}var iv={},DE;function ux(){return DE||(DE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(iv)),iv}var av={},LE;function HI(){return LE||(LE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",c="[object Date]",h="[object Map]",f="[object Set]",m="[object Array]",g="[object Function]",y="[object ArrayBuffer]",w="[object Object]",N="[object Error]",A="[object DataView]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",P="[object Uint16Array]",O="[object Uint32Array]",M="[object BigUint64Array]",k="[object Int8Array]",I="[object Int16Array]",R="[object Int32Array]",D="[object BigInt64Array]",z="[object Float32Array]",X="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=y,e.arrayTag=m,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=M,e.booleanTag=i,e.dataViewTag=A,e.dateTag=c,e.errorTag=N,e.float32ArrayTag=z,e.float64ArrayTag=X,e.functionTag=g,e.int16ArrayTag=I,e.int32ArrayTag=R,e.int8ArrayTag=k,e.mapTag=h,e.numberTag=r,e.objectTag=w,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=P,e.uint32ArrayTag=O,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=C})(av)),av}var ov={},UE;function zU(){return UE||(UE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(ov)),ov}var BE;function GI(){return BE||(BE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BU(),n=ux(),r=HI(),i=zI(),o=zU();function l(m,g){return c(m,void 0,m,new Map,g)}function c(m,g,y,w=new Map,N=void 0){const A=N==null?void 0:N(m,g,y,w);if(A!==void 0)return A;if(i.isPrimitive(m))return m;if(w.has(m))return w.get(m);if(Array.isArray(m)){const E=new Array(m.length);w.set(m,E);for(let C=0;C<m.length;C++)E[C]=c(m[C],C,y,w,N);return Object.hasOwn(m,"index")&&(E.index=m.index),Object.hasOwn(m,"input")&&(E.input=m.input),E}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const E=new RegExp(m.source,m.flags);return E.lastIndex=m.lastIndex,E}if(m instanceof Map){const E=new Map;w.set(m,E);for(const[C,P]of m)E.set(C,c(P,C,y,w,N));return E}if(m instanceof Set){const E=new Set;w.set(m,E);for(const C of m)E.add(c(C,void 0,y,w,N));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(o.isTypedArray(m)){const E=new(Object.getPrototypeOf(m)).constructor(m.length);w.set(m,E);for(let C=0;C<m.length;C++)E[C]=c(m[C],C,y,w,N);return E}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const E=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return w.set(m,E),h(E,m,y,w,N),E}if(typeof File<"u"&&m instanceof File){const E=new File([m],m.name,{type:m.type});return w.set(m,E),h(E,m,y,w,N),E}if(typeof Blob<"u"&&m instanceof Blob){const E=new Blob([m],{type:m.type});return w.set(m,E),h(E,m,y,w,N),E}if(m instanceof Error){const E=new m.constructor;return w.set(m,E),E.message=m.message,E.name=m.name,E.stack=m.stack,E.cause=m.cause,h(E,m,y,w,N),E}if(m instanceof Boolean){const E=new Boolean(m.valueOf());return w.set(m,E),h(E,m,y,w,N),E}if(m instanceof Number){const E=new Number(m.valueOf());return w.set(m,E),h(E,m,y,w,N),E}if(m instanceof String){const E=new String(m.valueOf());return w.set(m,E),h(E,m,y,w,N),E}if(typeof m=="object"&&f(m)){const E=Object.create(Object.getPrototypeOf(m));return w.set(m,E),h(E,m,y,w,N),E}return m}function h(m,g,y=m,w,N){const A=[...Object.keys(g),...t.getSymbols(g)];for(let E=0;E<A.length;E++){const C=A[E],P=Object.getOwnPropertyDescriptor(m,C);(P==null||P.writable)&&(m[C]=c(g[C],C,y,w,N))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=c,e.copyProperties=h})(nv)),nv}var zE;function qU(){return zE||(zE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GI();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(tv)),tv}var qE;function FU(){return qE||(qE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FI(),n=qU();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(Jg)),Jg}var sv={},lv={},cv={},FE;function HU(){return FE||(FE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GI(),n=ux(),r=HI();function i(o,l){return t.cloneDeepWith(o,(c,h,f,m)=>{const g=l==null?void 0:l(c,h,f,m);if(g!==void 0)return g;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const y={};return m.set(o,y),t.copyProperties(y,o,f,m),y}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const y=new o.constructor(o==null?void 0:o.valueOf());return t.copyProperties(y,o),y}case r.argumentsTag:{const y={};return t.copyProperties(y,o),y.length=o.length,y[Symbol.iterator]=o[Symbol.iterator],y}default:return}}})}e.cloneDeepWith=i})(cv)),cv}var HE;function GU(){return HE||(HE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HU();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(lv)),lv}var uv={},dv={},GE;function VI(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(dv)),dv}var fv={},VE;function VU(){return VE||(VE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ux();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(fv)),fv}var $E;function $U(){return $E||($E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jI(),n=VI(),r=VU(),i=ax();function o(l,c){let h;if(Array.isArray(c)?h=c:typeof c=="string"&&t.isDeepKey(c)&&(l==null?void 0:l[c])==null?h=i.toPath(c):h=[c],h.length===0)return!1;let f=l;for(let m=0;m<h.length;m++){const g=h[m];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=o})(uv)),uv}var KE;function KU(){return KE||(KE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FI(),n=ix(),r=GU(),i=ox(),o=$U();function l(c,h){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return h=r.cloneDeep(h),function(f){const m=i.get(f,c);return m===void 0?o.has(f,c):h===void 0?m===void 0:t.isMatch(m,h)}}e.matchesProperty=l})(sv)),sv}var YE;function YU(){return YE||(YE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UI(),n=LU(),r=FU(),i=KU();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o})(Kg)),Kg}var JE;function JU(){return JE||(JE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OU(),n=jU(),r=UI(),i=DU(),o=YU();function l(c,h=r.identity){return i.isArrayLikeObject(c)?t.uniqBy(Array.from(c),n.ary(o.iteratee(h),1)):[]}e.uniqBy=l})(Bg)),Bg}var hv,WE;function WU(){return WE||(WE=1,hv=JU().uniqBy),hv}var XU=WU();const XE=Lr(XU);function $I(e,t,n){return t===!0?XE(e,n):typeof t=="function"?XE(e,t):e}var mv={exports:{}},pv={},gv={exports:{}},vv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function QU(){if(QE)return vv;QE=1;var e=Rs();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function c(g,y){var w=y(),N=r({inst:{value:w,getSnapshot:y}}),A=N[0].inst,E=N[1];return o(function(){A.value=w,A.getSnapshot=y,h(A)&&E({inst:A})},[g,w,y]),i(function(){return h(A)&&E({inst:A}),g(function(){h(A)&&E({inst:A})})},[g]),l(w),w}function h(g){var y=g.getSnapshot;g=g.value;try{var w=y();return!n(g,w)}catch{return!0}}function f(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return vv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,vv}var ZE;function ZU(){return ZE||(ZE=1,gv.exports=QU()),gv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function eB(){if(e_)return pv;e_=1;var e=Rs(),t=ZU();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,c=e.useMemo,h=e.useDebugValue;return pv.useSyncExternalStoreWithSelector=function(f,m,g,y,w){var N=o(null);if(N.current===null){var A={hasValue:!1,value:null};N.current=A}else A=N.current;N=c(function(){function C(I){if(!P){if(P=!0,O=I,I=y(I),w!==void 0&&A.hasValue){var R=A.value;if(w(R,I))return M=R}return M=I}if(R=M,r(O,I))return R;var D=y(I);return w!==void 0&&w(R,D)?(O=I,R):(O=I,M=D)}var P=!1,O,M,k=g===void 0?null:g;return[function(){return C(m())},k===null?void 0:function(){return C(k())}]},[m,g,y,w]);var E=i(f,N[0],N[1]);return l(function(){A.hasValue=!0,A.value=E},[E]),h(E),E},pv}var t_;function tB(){return t_||(t_=1,mv.exports=eB()),mv.exports}var nB=tB(),dx=_.createContext(null),rB=e=>e,At=()=>{var e=_.useContext(dx);return e?e.store.dispatch:rB},kd=()=>{},iB=()=>kd,aB=(e,t)=>e===t;function Te(e){var t=_.useContext(dx),n=_.useMemo(()=>t?r=>{if(r!=null)return e(r)}:kd,[t,e]);return nB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:iB,t?t.store.getState:kd,t?t.store.getState:kd,n,aB)}function oB(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function sB(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function lB(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var n_=e=>Array.isArray(e)?e:[e];function cB(e){const t=Array.isArray(e[0])?e[0]:e;return lB(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function uB(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var dB=class{constructor(e){this.value=e}deref(){return this.value}},fB=typeof WeakRef<"u"?WeakRef:dB,hB=0,r_=1;function ud(){return{s:hB,v:void 0,o:null,p:null}}function KI(e,t={}){let n=ud();const{resultEqualityCheck:r}=t;let i,o=0;function l(){var g;let c=n;const{length:h}=arguments;for(let y=0,w=h;y<w;y++){const N=arguments[y];if(typeof N=="function"||typeof N=="object"&&N!==null){let A=c.o;A===null&&(c.o=A=new WeakMap);const E=A.get(N);E===void 0?(c=ud(),A.set(N,c)):c=E}else{let A=c.p;A===null&&(c.p=A=new Map);const E=A.get(N);E===void 0?(c=ud(),A.set(N,c)):c=E}}const f=c;let m;if(c.s===r_)m=c.v;else if(m=e.apply(null,arguments),o++,r){const y=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;y!=null&&r(y,m)&&(m=y,o!==0&&o--),i=typeof m=="object"&&m!==null||typeof m=="function"?new fB(m):m}return f.s=r_,f.v=m,m}return l.clearCache=()=>{n=ud(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function mB(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,l=0,c,h={},f=i.pop();typeof f=="object"&&(h=f,f=i.pop()),oB(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...h},{memoize:g,memoizeOptions:y=[],argsMemoize:w=KI,argsMemoizeOptions:N=[]}=m,A=n_(y),E=n_(N),C=cB(i),P=g(function(){return o++,f.apply(null,arguments)},...A),O=w(function(){l++;const k=uB(C,arguments);return c=P.apply(null,k),c},...E);return Object.assign(O,{resultFunc:f,memoizedResultFunc:P,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var W=mB(KI),pB=Object.assign((e,t=W)=>{sB(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,c,h)=>(l[n[h]]=c,l),{}))},{withTypes:()=>pB}),yv={},xv={},bv={},i_;function gB(){return i_||(i_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=t(r),c=t(i);if(l===c&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?c-l:l-c}return 0};e.compareValues=n})(bv)),bv}var Sv={},wv={},a_;function YI(){return a_||(a_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(wv)),wv}var o_;function vB(){return o_||(o_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YI(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=i})(Sv)),Sv}var s_;function yB(){return s_||(s_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gB(),n=vB(),r=ax();function i(o,l,c,h){if(o==null)return[];c=h?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(w=>String(w));const f=(w,N)=>{let A=w;for(let E=0;E<N.length&&A!=null;++E)A=A[N[E]];return A},m=(w,N)=>N==null||w==null?N:typeof w=="object"&&"key"in w?Object.hasOwn(N,w.key)?N[w.key]:f(N,w.path):typeof w=="function"?w(N):Array.isArray(w)?f(N,w):typeof N=="object"?N[w]:N,g=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return o.map(w=>({original:w,criteria:g.map(N=>m(N,w))})).slice().sort((w,N)=>{for(let A=0;A<g.length;A++){const E=t.compareValues(w.criteria[A],N.criteria[A],c[A]);if(E!==0)return E}return 0}).map(w=>w.original)}e.orderBy=i})(xv)),xv}var Av={},l_;function xB(){return l_||(l_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),l=(c,h)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&h<o?l(m,h+1):i.push(m)}};return l(n,0),i}e.flatten=t})(Av)),Av}var Ev={},c_;function JI(){return c_||(c_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VI(),n=cx(),r=BI(),i=qI();function o(l,c,h){return r.isObject(h)&&(typeof c=="number"&&n.isArrayLike(h)&&t.isIndex(c)&&c<h.length||typeof c=="string"&&c in h)?i.isEqualsSameValueZero(h[c],l):!1}e.isIterateeCall=o})(Ev)),Ev}var u_;function bB(){return u_||(u_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yB(),n=xB(),r=JI();function i(o,...l){const c=l.length;return c>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=i})(yv)),yv}var _v,d_;function SB(){return d_||(d_=1,_v=bB().sortBy),_v}var wB=SB();const hh=Lr(wB);var WI=e=>e.legend.settings,AB=e=>e.legend.size,EB=e=>e.legend.payload,_B=W([EB,WI],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?hh(r,n):r});function NB(){return Te(_B)}var dd=1;function XI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>dd||Math.abs(l.left-t.left)>dd||Math.abs(l.top-t.top)>dd||Math.abs(l.width-t.width)>dd)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function cn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var TB=typeof Symbol=="function"&&Symbol.observable||"@@observable",f_=TB,Nv=()=>Math.random().toString(36).substring(7).split("").join("."),CB={INIT:`@@redux/INIT${Nv()}`,REPLACE:`@@redux/REPLACE${Nv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Nv()}`},of=CB;function fx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function QI(e,t,n){if(typeof e!="function")throw new Error(cn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(cn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(cn(1));return n(QI)(e,t)}let r=e,i=t,o=new Map,l=o,c=0,h=!1;function f(){l===o&&(l=new Map,o.forEach((E,C)=>{l.set(C,E)}))}function m(){if(h)throw new Error(cn(3));return i}function g(E){if(typeof E!="function")throw new Error(cn(4));if(h)throw new Error(cn(5));let C=!0;f();const P=c++;return l.set(P,E),function(){if(C){if(h)throw new Error(cn(6));C=!1,f(),l.delete(P),o=null}}}function y(E){if(!fx(E))throw new Error(cn(7));if(typeof E.type>"u")throw new Error(cn(8));if(typeof E.type!="string")throw new Error(cn(17));if(h)throw new Error(cn(9));try{h=!0,i=r(i,E)}finally{h=!1}return(o=l).forEach(P=>{P()}),E}function w(E){if(typeof E!="function")throw new Error(cn(10));r=E,y({type:of.REPLACE})}function N(){const E=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(cn(11));function P(){const M=C;M.next&&M.next(m())}return P(),{unsubscribe:E(P)}},[f_](){return this}}}return y({type:of.INIT}),{dispatch:y,subscribe:g,getState:m,replaceReducer:w,[f_]:N}}function PB(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:of.INIT})>"u")throw new Error(cn(12));if(typeof n(void 0,{type:of.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cn(13))})}function ZI(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{PB(n)}catch(o){i=o}return function(l={},c){if(i)throw i;let h=!1;const f={};for(let m=0;m<r.length;m++){const g=r[m],y=n[g],w=l[g],N=y(w,c);if(typeof N>"u")throw c&&c.type,new Error(cn(14));f[g]=N,h=h||N!==w}return h=h||r.length!==Object.keys(l).length,h?f:l}}function sf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function IB(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(cn(15))};const l={getState:i.getState,dispatch:(h,...f)=>o(h,...f)},c=e.map(h=>h(l));return o=sf(...c)(i.dispatch),{...i,dispatch:o}}}function eM(e){return fx(e)&&"type"in e&&typeof e.type=="string"}var tM=Symbol.for("immer-nothing"),h_=Symbol.for("immer-draftable"),An=Symbol.for("immer-state");function Cr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wn=Object,Cs=Wn.getPrototypeOf,lf="constructor",mh="prototype",j0="configurable",cf="enumerable",Rd="writable",uc="value",Ii=e=>!!e&&!!e[An];function Dr(e){var t;return e?nM(e)||gh(e)||!!e[h_]||!!((t=e[lf])!=null&&t[h_])||vh(e)||yh(e):!1}var MB=Wn[mh][lf].toString(),m_=new WeakMap;function nM(e){if(!e||!hx(e))return!1;const t=Cs(e);if(t===null||t===Wn[mh])return!0;const n=Wn.hasOwnProperty.call(t,lf)&&t[lf];if(n===Object)return!0;if(!vs(n))return!1;let r=m_.get(n);return r===void 0&&(r=Function.toString.call(n),m_.set(n,r)),r===MB}function ph(e,t,n=!0){Cc(e)===0?(n?Reflect.ownKeys(e):Wn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Cc(e){const t=e[An];return t?t.type_:gh(e)?1:vh(e)?2:yh(e)?3:0}var p_=(e,t,n=Cc(e))=>n===2?e.has(t):Wn[mh].hasOwnProperty.call(e,t),k0=(e,t,n=Cc(e))=>n===2?e.get(t):e[t],uf=(e,t,n,r=Cc(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function OB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var gh=Array.isArray,vh=e=>e instanceof Map,yh=e=>e instanceof Set,hx=e=>typeof e=="object",vs=e=>typeof e=="function",Tv=e=>typeof e=="boolean";function jB(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var wi=e=>e.copy_||e.base_,mx=e=>e.modified_?e.copy_:e.base_;function R0(e,t){if(vh(e))return new Map(e);if(yh(e))return new Set(e);if(gh(e))return Array[mh].slice.call(e);const n=nM(e);if(t===!0||t==="class_only"&&!n){const r=Wn.getOwnPropertyDescriptors(e);delete r[An];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],c=r[l];c[Rd]===!1&&(c[Rd]=!0,c[j0]=!0),(c.get||c.set)&&(r[l]={[j0]:!0,[Rd]:!0,[cf]:c[cf],[uc]:e[l]})}return Wn.create(Cs(e),r)}else{const r=Cs(e);if(r!==null&&n)return{...e};const i=Wn.create(r);return Wn.assign(i,e)}}function px(e,t=!1){return xh(e)||Ii(e)||!Dr(e)||(Cc(e)>1&&Wn.defineProperties(e,{set:fd,add:fd,clear:fd,delete:fd}),Wn.freeze(e),t&&ph(e,(n,r)=>{px(r,!0)},!1)),e}function kB(){Cr(2)}var fd={[uc]:kB};function xh(e){return e===null||!hx(e)?!0:Wn.isFrozen(e)}var df="MapSet",D0="Patches",g_="ArrayMethods",rM={};function mo(e){const t=rM[e];return t||Cr(0,e),t}var v_=e=>!!rM[e],dc,iM=()=>dc,RB=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:v_(df)?mo(df):void 0,arrayMethodsPlugin_:v_(g_)?mo(g_):void 0});function y_(e,t){t&&(e.patchPlugin_=mo(D0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function L0(e){U0(e),e.drafts_.forEach(DB),e.drafts_=null}function U0(e){e===dc&&(dc=e.parent_)}var x_=e=>dc=RB(dc,e);function DB(e){const t=e[An];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function b_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[An].modified_&&(L0(t),Cr(4)),Dr(e)&&(e=S_(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[An].base_,e,t)}else e=S_(t,n);return LB(t,e,!0),L0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tM?e:void 0}function S_(e,t){if(xh(t))return t;const n=t[An];if(!n)return ff(t,e.handledSet_,e);if(!bh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);sM(n,e)}return n.copy_}function LB(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&px(t,n)}function aM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var bh=(e,t)=>e.scope_===t,UB=[];function oM(e,t,n,r){const i=wi(e),o=e.type_;if(r!==void 0&&k0(i,r,o)===t){uf(i,r,n,o);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;ph(i,(h,f)=>{if(Ii(f)){const m=c.get(f)||[];m.push(h),c.set(f,m)}})}const l=e.draftLocations_.get(t)??UB;for(const c of l)uf(i,c,n,o)}function BB(e,t,n){e.callbacks_.push(function(i){var c;const o=t;if(!o||!bh(o,i))return;(c=i.mapSetPlugin_)==null||c.fixSetContents(o);const l=mx(o);oM(e,o.draft_??o,l,n),sM(o,i)})}function sM(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,t)}aM(e)}}function zB(e,t,n){const{scope_:r}=e;if(Ii(n)){const i=n[An];bh(i,r)&&i.callbacks_.push(function(){Dd(e);const l=mx(i);oM(e,n,l,t)})}else Dr(n)&&e.callbacks_.push(function(){const o=wi(e);e.type_===3?o.has(n)&&ff(n,r.handledSet_,r):k0(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&ff(k0(e.copy_,t,e.type_),r.handledSet_,r)})}function ff(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ii(e)||t.has(e)||!Dr(e)||xh(e)||(t.add(e),ph(e,(r,i)=>{if(Ii(i)){const o=i[An];if(bh(o,n)){const l=mx(o);uf(e,r,l,e.type_),aM(o)}}else Dr(i)&&ff(i,t,n)})),e}function qB(e,t){const n=gh(e),r={type_:n?1:0,scope_:t?t.scope_:iM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=hf;n&&(i=[r],o=fc);const{revoke:l,proxy:c}=Proxy.revocable(i,o);return r.draft_=c,r.revoke_=l,[c,r]}var hf={get(e,t){if(t===An)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=wi(e);if(!p_(i,t,e.type_))return FB(e,i,t);const o=i[t];if(e.finalized_||!Dr(o)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&jB(t))return o;if(o===Cv(e.base_,t)){Dd(e);const l=e.type_===1?+t:t,c=z0(e.scope_,o,e,l);return e.copy_[l]=c}return o},has(e,t){return t in wi(e)},ownKeys(e){return Reflect.ownKeys(wi(e))},set(e,t,n){const r=lM(wi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Cv(wi(e),t),o=i==null?void 0:i[An];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(OB(n,i)&&(n!==void 0||p_(e.base_,t,e.type_)))return!0;Dd(e),B0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),zB(e,t,n)),!0},deleteProperty(e,t){return Dd(e),Cv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),B0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=wi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Rd]:!0,[j0]:e.type_!==1||t!=="length",[cf]:r[cf],[uc]:n[t]}},defineProperty(){Cr(11)},getPrototypeOf(e){return Cs(e.base_)},setPrototypeOf(){Cr(12)}},fc={};for(let e in hf){let t=hf[e];fc[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}fc.deleteProperty=function(e,t){return fc.set.call(this,e,t,void 0)};fc.set=function(e,t,n){return hf.set.call(this,e[0],t,n,e[0])};function Cv(e,t){const n=e[An];return(n?wi(n):e)[t]}function FB(e,t,n){var i;const r=lM(t,n);return r?uc in r?r[uc]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function lM(e,t){if(!(t in e))return;let n=Cs(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Cs(n)}}function B0(e){e.modified_||(e.modified_=!0,e.parent_&&B0(e.parent_))}function Dd(e){e.copy_||(e.assigned_=new Map,e.copy_=R0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var HB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(vs(n)&&!vs(r)){const l=r;r=n;const c=this;return function(f=l,...m){return c.produce(f,g=>r.call(this,g,...m))}}vs(r)||Cr(6),i!==void 0&&!vs(i)&&Cr(7);let o;if(Dr(n)){const l=x_(this),c=z0(l,n,void 0);let h=!0;try{o=r(c),h=!1}finally{h?L0(l):U0(l)}return y_(l,i),b_(o,l)}else if(!n||!hx(n)){if(o=r(n),o===void 0&&(o=n),o===tM&&(o=void 0),this.autoFreeze_&&px(o,!0),i){const l=[],c=[];mo(D0).generateReplacementPatches_(n,o,{patches_:l,inversePatches_:c}),i(l,c)}return o}else Cr(1,n)},this.produceWithPatches=(n,r)=>{if(vs(n))return(c,...h)=>this.produceWithPatches(c,f=>n(f,...h));let i,o;return[this.produce(n,r,(c,h)=>{i=c,o=h}),i,o]},Tv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Tv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Tv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Dr(t)||Cr(8),Ii(t)&&(t=Mr(t));const n=x_(this),r=z0(n,t,void 0);return r[An].isManual_=!0,U0(n),r}finishDraft(t,n){const r=t&&t[An];(!r||!r.isManual_)&&Cr(9);const{scope_:i}=r;return y_(i,n),b_(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=mo(D0).applyPatches_;return Ii(t)?i(t,n):this.produce(t,o=>i(o,n))}};function z0(e,t,n,r){const[i,o]=vh(t)?mo(df).proxyMap_(t,n):yh(t)?mo(df).proxySet_(t,n):qB(t,n);return((n==null?void 0:n.scope_)??iM()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?BB(n,o,r):o.callbacks_.push(function(h){var m;(m=h.mapSetPlugin_)==null||m.fixSetContents(o);const{patchPlugin_:f}=h;o.modified_&&f&&f.generatePatches_(o,[],h)}),i}function Mr(e){return Ii(e)||Cr(10,e),cM(e)}function cM(e){if(!Dr(e)||xh(e))return e;const t=e[An];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=R0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=R0(e,!0);return ph(n,(i,o)=>{uf(n,i,cM(o))},r),t&&(t.finalized_=!1),n}var GB=new HB,uM=GB.produce;function dM(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var VB=dM(),$B=dM,KB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sf:sf.apply(null,arguments)};function yr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Qn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>eM(r)&&r.type===e,n}var fM=class nc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,nc.prototype)}static get[Symbol.species](){return nc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new nc(...t[0].concat(this)):new nc(...t.concat(this))}};function w_(e){return Dr(e)?uM(e,()=>{}):e}function hd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function YB(e){return typeof e=="boolean"}var JB=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let l=new fM;return n&&(YB(n)?l.push(VB):l.push($B(n.extraArgument))),l},hM="RTK_autoBatch",xt=()=>e=>({payload:e,meta:{[hM]:!0}}),A_=e=>t=>{setTimeout(t,e)},mM=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,l=!1;const c=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:A_(10):e.type==="callback"?e.queueNotification:A_(e.timeout),f=()=>{l=!1,o&&(o=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const g=()=>i&&m(),y=r.subscribe(g);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){var g;try{return i=!((g=m==null?void 0:m.meta)!=null&&g[hM]),o=!i,o&&(l||(l=!0,h(f))),r.dispatch(m)}finally{i=!0}}})},WB=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new fM(e);return r&&i.push(mM(typeof r=="object"?r:void 0)),i};function XB(e){const t=JB(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(fx(n))c=ZI(n);else throw new Error(Qn(1));let h;typeof r=="function"?h=r(t):h=t();let f=sf;i&&(f=KB({trace:!1,...typeof i=="object"&&i}));const m=IB(...h),g=WB(m);let y=typeof l=="function"?l(g):g();const w=f(...y);return QI(c,o,w)}function pM(e){const t={},n=[];let r;const i={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(Qn(28));if(c in t)throw new Error(Qn(29));return t[c]=l,i},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function QB(e){return typeof e=="function"}function ZB(e,t){let[n,r,i]=pM(t),o;if(QB(e))o=()=>w_(e());else{const c=w_(e);o=()=>c}function l(c=o(),h){let f=[n[h.type],...r.filter(({matcher:m})=>m(h)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,g)=>{if(g)if(Ii(m)){const w=g(m,h);return w===void 0?m:w}else{if(Dr(m))return uM(m,y=>g(y,h));{const y=g(m,h);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return l.getInitialState=o,l}var ez="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tz=(e=21)=>{let t="",n=e;for(;n--;)t+=ez[Math.random()*64|0];return t},nz=Symbol.for("rtk-slice-createasyncthunk");function rz(e,t){return`${e}/${t}`}function iz({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[nz];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(Qn(11));const c=(typeof i.reducers=="function"?i.reducers(oz()):i.reducers)||{},h=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(M,k){const I=typeof M=="string"?M:M.type;if(!I)throw new Error(Qn(12));if(I in f.sliceCaseReducersByType)throw new Error(Qn(13));return f.sliceCaseReducersByType[I]=k,m},addMatcher(M,k){return f.sliceMatchers.push({matcher:M,reducer:k}),m},exposeAction(M,k){return f.actionCreators[M]=k,m},exposeCaseReducer(M,k){return f.sliceCaseReducersByName[M]=k,m}};h.forEach(M=>{const k=c[M],I={reducerName:M,type:rz(o,M),createNotation:typeof i.reducers=="function"};lz(k)?uz(I,k,m,t):sz(I,k,m)});function g(){const[M={},k=[],I=void 0]=typeof i.extraReducers=="function"?pM(i.extraReducers):[i.extraReducers],R={...M,...f.sliceCaseReducersByType};return ZB(i.initialState,D=>{for(let z in R)D.addCase(z,R[z]);for(let z of f.sliceMatchers)D.addMatcher(z.matcher,z.reducer);for(let z of k)D.addMatcher(z.matcher,z.reducer);I&&D.addDefaultCase(I)})}const y=M=>M,w=new Map,N=new WeakMap;let A;function E(M,k){return A||(A=g()),A(M,k)}function C(){return A||(A=g()),A.getInitialState()}function P(M,k=!1){function I(D){let z=D[M];return typeof z>"u"&&k&&(z=hd(N,I,C)),z}function R(D=y){const z=hd(w,k,()=>new WeakMap);return hd(z,D,()=>{const X={};for(const[Q,H]of Object.entries(i.selectors??{}))X[Q]=az(H,D,()=>hd(N,D,C),k);return X})}return{reducerPath:M,getSelectors:R,get selectors(){return R(I)},selectSlice:I}}const O={name:o,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:C,...P(l),injectInto(M,{reducerPath:k,...I}={}){const R=k??l;return M.inject({reducerPath:R,reducer:E},I),{...O,...P(R,!0)}}};return O}}function az(e,t,n,r){function i(o,...l){let c=t(o);return typeof c>"u"&&r&&(c=n()),e(c,...l)}return i.unwrapped=e,i}var Un=iz();function oz(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function sz({type:e,reducerName:t,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!cz(r))throw new Error(Qn(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?yr(e,l):yr(e))}function lz(e){return e._reducerDefinitionType==="asyncThunk"}function cz(e){return e._reducerDefinitionType==="reducerWithPrepare"}function uz({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Qn(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:h,settled:f,options:m}=n,g=i(e,o,m);r.exposeAction(t,g),l&&r.addCase(g.fulfilled,l),c&&r.addCase(g.pending,c),h&&r.addCase(g.rejected,h),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(t,{fulfilled:l||md,pending:c||md,rejected:h||md,settled:f||md})}function md(){}var dz="task",gM="listener",vM="completed",gx="cancelled",fz=`task-${gx}`,hz=`task-${vM}`,q0=`${gM}-${gx}`,mz=`${gM}-${vM}`,Sh=class{constructor(e){Sg(this,"name","TaskAbortError");Sg(this,"message");this.code=e,this.message=`${dz} ${gx} (reason: ${e})`}},vx=(e,t)=>{if(typeof e!="function")throw new TypeError(Qn(32))},mf=()=>{},yM=(e,t=mf)=>(e.catch(t),e),xM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),so=e=>{if(e.aborted)throw new Sh(e.reason)};function bM(e,t){let n=mf;return new Promise((r,i)=>{const o=()=>i(new Sh(e.reason));if(e.aborted){o();return}n=xM(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=mf})}var pz=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Sh?"cancelled":"rejected",error:n}}finally{t==null||t()}},pf=e=>t=>yM(bM(e,t).then(n=>(so(e),n))),SM=e=>{const t=pf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:As}=Object,E_={},wh="listenerMiddleware",gz=(e,t)=>{const n=r=>xM(e,()=>r.abort(e.reason));return(r,i)=>{vx(r);const o=new AbortController;n(o);const l=pz(async()=>{so(e),so(o.signal);const c=await r({pause:pf(o.signal),delay:SM(o.signal),signal:o.signal});return so(o.signal),c},()=>o.abort(hz));return i!=null&&i.autoJoin&&t.push(l.catch(mf)),{result:pf(e)(l),cancel(){o.abort(fz)}}}},vz=(e,t)=>{const n=async(r,i)=>{so(t);let o=()=>{};const c=[new Promise((h,f)=>{let m=e({predicate:r,effect:(g,y)=>{y.unsubscribe(),h([g,y.getState(),y.getOriginalState()])}});o=()=>{m(),f()}})];i!=null&&c.push(new Promise(h=>setTimeout(h,i,null)));try{const h=await bM(t,Promise.race(c));return so(t),h}finally{o()}};return(r,i)=>yM(n(r,i))},wM=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=yr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Qn(21));return vx(o),{predicate:i,type:t,effect:o}},AM=As(e=>{const{type:t,predicate:n,effect:r}=wM(e);return{id:tz(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Qn(22))}}},{withTypes:()=>AM}),__=(e,t)=>{const{type:n,effect:r,predicate:i}=wM(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},F0=e=>{e.pending.forEach(t=>{t.abort(q0)})},yz=(e,t)=>()=>{for(const n of t.keys())F0(n);e.clear()},N_=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},EM=As(yr(`${wh}/add`),{withTypes:()=>EM}),xz=yr(`${wh}/removeAll`),_M=As(yr(`${wh}/remove`),{withTypes:()=>_M}),bz=(...e)=>{console.error(`${wh}/error`,...e)},Pc=(e={})=>{const t=new Map,n=new Map,r=w=>{const N=n.get(w)??0;n.set(w,N+1)},i=w=>{const N=n.get(w)??1;N===1?n.delete(w):n.set(w,N-1)},{extra:o,onError:l=bz}=e;vx(l);const c=w=>(w.unsubscribe=()=>t.delete(w.id),t.set(w.id,w),N=>{w.unsubscribe(),N!=null&&N.cancelActive&&F0(w)}),h=w=>{const N=__(t,w)??AM(w);return c(N)};As(h,{withTypes:()=>h});const f=w=>{const N=__(t,w);return N&&(N.unsubscribe(),w.cancelActive&&F0(N)),!!N};As(f,{withTypes:()=>f});const m=async(w,N,A,E)=>{const C=new AbortController,P=vz(h,C.signal),O=[];try{w.pending.add(C),r(w),await Promise.resolve(w.effect(N,As({},A,{getOriginalState:E,condition:(M,k)=>P(M,k).then(Boolean),take:P,delay:SM(C.signal),pause:pf(C.signal),extra:o,signal:C.signal,fork:gz(C.signal,O),unsubscribe:w.unsubscribe,subscribe:()=>{t.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((M,k,I)=>{M!==C&&(M.abort(q0),I.delete(M))})},cancel:()=>{C.abort(q0),w.pending.delete(C)},throwIfCancelled:()=>{so(C.signal)}})))}catch(M){M instanceof Sh||N_(l,M,{raisedBy:"effect"})}finally{await Promise.all(O),C.abort(mz),i(w),w.pending.delete(C)}},g=yz(t,n);return{middleware:w=>N=>A=>{if(!eM(A))return N(A);if(EM.match(A))return h(A.payload);if(xz.match(A)){g();return}if(_M.match(A))return f(A.payload);let E=w.getState();const C=()=>{if(E===E_)throw new Error(Qn(23));return E};let P;try{if(P=N(A),t.size>0){const O=w.getState(),M=Array.from(t.values());for(const k of M){let I=!1;try{I=k.predicate(A,O,E)}catch(R){I=!1,N_(l,R,{raisedBy:"predicate"})}I&&m(k,A,w,C)}}}finally{E=E_}return P},startListening:h,stopListening:f,clearListeners:g}};function Qn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Sz={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},NM=Un({name:"chartLayout",initialState:Sz,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:wz,setLayout:Az,setChartSize:Ez,setScale:_z}=NM.actions,Nz=NM.reducer;function TM(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function $e(e){return Number.isFinite(e)}function ti(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function T_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(n),!0).forEach(function(r){Tz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tz(e,t,n){return(t=Cz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cz(e){var t=Pz(e,"string");return typeof t=="symbol"?t:t+""}function Pz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ut(e,t,n){return wt(e)||wt(t)?n:ei(t)?Ts(e,t,n):typeof t=="function"?t(e):n}var Iz=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:c}=t;if((c==="vertical"||c==="horizontal"&&l==="middle")&&o!=="center"&&Se(e[o]))return xs(xs({},e),{},{[o]:e[o]+(r||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&l!=="middle"&&Se(e[l]))return xs(xs({},e),{},{[l]:e[l]+(i||0)})}return e},Ui=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",CM=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var i,o,l=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate));return i||l.push(t),o||l.push(n),l},PM=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:c,isCategorical:h,categoricalDomain:f,tickCount:m,ticks:g,niceTicks:y,axisType:w}=e;if(!l)return null;var N=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,A=i==="category"&&l.bandwidth?l.bandwidth()/N:0;if(A=w==="angleAxis"&&o&&o.length>=2?Rn(o[0]-o[1])*2*A:A,g||y){var E=(g||y||[]).map((C,P)=>{var O=r?r.indexOf(C):C,M=l.map(O);return $e(M)?{coordinate:M+A,value:C,offset:A,index:P}:null}).filter(Dn);return E}return h&&f?f.map((C,P)=>{var O=l.map(C);return $e(O)?{coordinate:O+A,value:C,index:P,offset:A}:null}).filter(Dn):l.ticks&&m!=null?l.ticks(m).map((C,P)=>{var O=l.map(C);return $e(O)?{coordinate:O+A,value:C,index:P,offset:A}:null}).filter(Dn):l.domain().map((C,P)=>{var O=l.map(C);return $e(O)?{coordinate:O+A,value:r?r[C]:C,index:P,offset:A}:null}).filter(Dn)},Mz=(e,t)=>{if(!t||t.length!==2||!Se(t[0])||!Se(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Se(e[0])||e[0]<n)&&(i[0]=n),(!Se(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Oz=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0,c=0;c<n;++c){var h=e[c],f=h==null?void 0:h[i];if(f!=null){var m=f[1],g=f[0],y=Zr(m)?g:m;y>=0?(f[0]=o,o+=y,f[1]=o):(f[0]=l,l+=y,f[1]=l)}}}},jz=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0;l<n;++l){var c=e[l],h=c==null?void 0:c[i];if(h!=null){var f=Zr(h[1])?h[0]:h[1];f>=0?(h[0]=o,o+=f,h[1]=o):(h[0]=0,h[1]=0)}}}},kz={sign:Oz,expand:eU,none:fo,silhouette:tU,wiggle:nU,positive:jz},Rz=(e,t,n)=>{var r,i=(r=kz[n])!==null&&r!==void 0?r:fo,o=Z6().keys(t).value((c,h)=>Number(Ut(c,h,0))).order(M0).offset(i),l=o(e);return l.forEach((c,h)=>{c.forEach((f,m)=>{var g=Ut(e[m],t[h],0);Array.isArray(g)&&g.length===2&&Se(g[0])&&Se(g[1])&&(f[0]=g[0],f[1]=g[1])})}),l};function Dz(e){return e==null?void 0:String(e)}function C_(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!wt(i[t.dataKey])){var c=RI(n,"value",i[t.dataKey]);if(c)return c.coordinate+r/2}return n!=null&&n[o]?n[o].coordinate+r/2:null}var h=Ut(i,wt(l)?t.dataKey:l),f=t.scale.map(h);return Se(f)?f:null}var P_=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var c=Ut(o,t.dataKey,t.scale.domain()[l]);if(wt(c))return null;var h=t.scale.map(c);return Se(h)?h-i/2+r:null},Lz=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Uz=e=>{var t=e.flat(2).filter(Se);return[Math.min(...t),Math.max(...t)]},Bz=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],zz=(e,t,n)=>{if(e!=null)return Bz(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:l}=o,c=l.reduce((h,f)=>{var m=TM(f,t,n),g=Uz(m);return!$e(g[0])||!$e(g[1])?h:[Math.min(h[0],g[0]),Math.max(h[1],g[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},I_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ps=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=hh(t,m=>m.coordinate),o=1/0,l=1,c=i.length;l<c;l++){var h=i[l],f=i[l-1];o=Math.min(((h==null?void 0:h.coordinate)||0)-((f==null?void 0:f.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function O_(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return xs(xs({},t),{},{dataKey:n,payload:r,value:i,name:o})}function Ah(e,t){if(e)return String(e);if(typeof t=="string")return t}var qz=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Fz=(e,t)=>t==="centric"?e.angle:e.radius,Bi=e=>e.layout.width,zi=e=>e.layout.height,Hz=e=>e.layout.scale,IM=e=>e.layout.margin,Eh=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),_h=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Gz="data-recharts-item-index",Vz="data-recharts-item-id",Ic=60;function j_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(n),!0).forEach(function(r){$z(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $z(e,t,n){return(t=Kz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kz(e){var t=Yz(e,"string");return typeof t=="symbol"?t:t+""}function Yz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jz=e=>e.brush.height;function Wz(e){var t=_h(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ic;return n+i}return n},0)}function Xz(e){var t=_h(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ic;return n+i}return n},0)}function Qz(e){var t=Eh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Zz(e){var t=Eh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Xt=W([Bi,zi,IM,Jz,Wz,Xz,Qz,Zz,WI,AB],(e,t,n,r,i,o,l,c,h,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+o},g={top:(n.top||0)+l,bottom:(n.bottom||0)+c},y=pd(pd({},g),m),w=y.bottom;y.bottom+=r,y=Iz(y,h,f);var N=e-y.left-y.right,A=t-y.top-y.bottom;return pd(pd({brushBottom:w},y),{},{width:Math.max(N,0),height:Math.max(A,0)})}),eq=W(Xt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),yx=W(Bi,zi,(e,t)=>({x:0,y:0,width:e,height:t})),tq=_.createContext(null),gn=()=>_.useContext(tq)!=null,Nh=e=>e.brush,Th=W([Nh,Xt,IM],(e,t,n)=>({height:e.height,x:Se(e.x)?e.x:t.left,y:Se(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Se(e.width)?e.width:t.width})),Pv={},Iv={},Mv={},k_;function nq(){return k_||(k_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let l,c=null;const h=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},g=()=>{f&&m(),A()};let y=null;const w=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},r)},N=()=>{y!==null&&(clearTimeout(y),y=null)},A=()=>{N(),l=void 0,c=null},E=()=>{m()},C=function(...P){if(i!=null&&i.aborted)return;l=this,c=P;const O=y==null;w(),h&&O&&m()};return C.schedule=w,C.cancel=A,C.flush=E,i==null||i.addEventListener("abort",A,{once:!0}),C}e.debounce=t})(Mv)),Mv}var R_;function rq(){return R_||(R_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nq();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:c=!0,maxWait:h}=o,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let m,g=null;const y=t.debounce(function(...A){m=r.apply(this,A),g=null},i,{edges:f}),w=function(...A){return h!=null&&(g===null&&(g=Date.now()),Date.now()-g>=h)?(m=r.apply(this,A),g=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,A),m)},N=()=>(y.flush(),m);return w.cancel=y.cancel,w.flush=N,w}e.debounce=n})(Iv)),Iv}var D_;function iq(){return D_||(D_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rq();function n(r,i=0,o={}){const{leading:l=!0,trailing:c=!0}=o;return t.debounce(r,i,{leading:l,maxWait:i,trailing:c})}e.throttle=n})(Pv)),Pv}var Ov,L_;function aq(){return L_||(L_=1,Ov=iq().throttle),Ov}var oq=aq();const sq=Lr(oq);var gf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},Jr={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},MM=(e,t,n)=>{var{width:r=Jr.width,height:i=Jr.height,aspect:o,maxHeight:l}=n,c=ho(r)?e:Number(r),h=ho(i)?t:Number(i);return o&&o>0&&(c?h=c/o:h&&(c=h*o),l&&h!=null&&h>l&&(h=l)),{calculatedWidth:c,calculatedHeight:h}},lq={width:0,height:0,overflow:"visible"},cq={width:0,overflowX:"visible"},uq={height:0,overflowY:"visible"},dq={},fq=e=>{var{width:t,height:n}=e,r=ho(t),i=ho(n);return r&&i?lq:r?cq:i?uq:dq};function hq(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i=Jr.width,o=Jr.height):i===void 0?i=r&&r>0?void 0:Jr.width:o===void 0&&(o=r&&r>0?void 0:Jr.height),{width:i,height:o}}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H0.apply(null,arguments)}function U_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(n),!0).forEach(function(r){mq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mq(e,t,n){return(t=pq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pq(e){var t=gq(e,"string");return typeof t=="symbol"?t:t+""}function gq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OM=_.createContext(Jr.initialDimension);function vq(e){return ti(e.width)&&ti(e.height)}function jM(e){var{children:t,width:n,height:r}=e,i=_.useMemo(()=>({width:n,height:r}),[n,r]);return vq(i)?_.createElement(OM.Provider,{value:i},t):null}var xx=()=>_.useContext(OM),yq=_.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=Jr.initialDimension,width:i,height:o,minWidth:l=Jr.minWidth,minHeight:c,maxHeight:h,children:f,debounce:m=Jr.debounce,id:g,className:y,onResize:w,style:N={}}=e,A=_.useRef(null),E=_.useRef();E.current=w,_.useImperativeHandle(t,()=>A.current);var[C,P]=_.useState({containerWidth:r.width,containerHeight:r.height}),O=_.useCallback((D,z)=>{P(X=>{var Q=Math.round(D),H=Math.round(z);return X.containerWidth===Q&&X.containerHeight===H?X:{containerWidth:Q,containerHeight:H}})},[]);_.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return bo;var D=H=>{var fe,ae=H[0];if(ae!=null){var{width:$,height:q}=ae.contentRect;O($,q),(fe=E.current)===null||fe===void 0||fe.call(E,$,q)}};m>0&&(D=sq(D,m,{trailing:!0,leading:!1}));var z=new ResizeObserver(D),{width:X,height:Q}=A.current.getBoundingClientRect();return O(X,Q),z.observe(A.current),()=>{z.disconnect()}},[O,m]);var{containerWidth:M,containerHeight:k}=C;gf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:I,calculatedHeight:R}=MM(M,k,{width:i,height:o,aspect:n,maxHeight:h});return gf(I!=null&&I>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,R,i,o,l,c,n),_.createElement("div",{id:g?"".concat(g):void 0,className:tt("recharts-responsive-container",y),style:B_(B_({},N),{},{width:i,height:o,minWidth:l,minHeight:c,maxHeight:h}),ref:A},_.createElement("div",{style:fq({width:i,height:o})},_.createElement(jM,{width:I,height:R},f)))}),G0=_.forwardRef((e,t)=>{var n=xx();if(ti(n.width)&&ti(n.height))return e.children;var{width:r,height:i}=hq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:l}=MM(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Se(o)&&Se(l)?_.createElement(jM,{width:o,height:l},e.children):_.createElement(yq,H0({},e,{width:r,height:i,ref:t}))});function bx(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Ch=()=>{var e,t=gn(),n=Te(eq),r=Te(Th),i=(e=Te(Nh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},xq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},kM=()=>{var e;return(e=Te(Xt))!==null&&e!==void 0?e:xq},Sx=()=>Te(Bi),wx=()=>Te(zi),bq=()=>Te(e=>e.layout.margin),nt=e=>e.layout.layoutType,So=()=>Te(nt),RM=()=>{var e=So();if(e==="horizontal"||e==="vertical")return e},DM=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},Sq=()=>{var e=So();return e!==void 0},Mc=e=>{var t=At(),n=gn(),{width:r,height:i}=e,o=xx(),l=r,c=i;return o&&(l=o.width>0?o.width:r,c=o.height>0?o.height:i),_.useEffect(()=>{!n&&ti(l)&&ti(c)&&t(Ez({width:l,height:c}))},[t,n,l,c]),null},LM=Symbol.for("immer-nothing"),z_=Symbol.for("immer-draftable"),Zn=Symbol.for("immer-state");function Pr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var hc=Object.getPrototypeOf;function Is(e){return!!e&&!!e[Zn]}function po(e){var t;return e?UM(e)||Array.isArray(e)||!!e[z_]||!!((t=e.constructor)!=null&&t[z_])||Oc(e)||Ih(e):!1}var wq=Object.prototype.constructor.toString(),q_=new WeakMap;function UM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=q_.get(n);return r===void 0&&(r=Function.toString.call(n),q_.set(n,r)),r===wq}function vf(e,t,n=!0){Ph(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Ph(e){const t=e[Zn];return t?t.type_:Array.isArray(e)?1:Oc(e)?2:Ih(e)?3:0}function V0(e,t){return Ph(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function BM(e,t,n){const r=Ph(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Aq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Oc(e){return e instanceof Map}function Ih(e){return e instanceof Set}function eo(e){return e.copy_||e.base_}function $0(e,t){if(Oc(e))return new Map(e);if(Ih(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=UM(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Zn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[l]})}return Object.create(hc(e),r)}else{const r=hc(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Ax(e,t=!1){return Mh(e)||Is(e)||!po(e)||(Ph(e)>1&&Object.defineProperties(e,{set:gd,add:gd,clear:gd,delete:gd}),Object.freeze(e),t&&Object.values(e).forEach(n=>Ax(n,!0))),e}function Eq(){Pr(2)}var gd={value:Eq};function Mh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var _q={};function go(e){const t=_q[e];return t||Pr(0,e),t}var mc;function zM(){return mc}function Nq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function F_(e,t){t&&(go("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function K0(e){Y0(e),e.drafts_.forEach(Tq),e.drafts_=null}function Y0(e){e===mc&&(mc=e.parent_)}function H_(e){return mc=Nq(mc,e)}function Tq(e){const t=e[Zn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function G_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Zn].modified_&&(K0(t),Pr(4)),po(e)&&(e=yf(t,e),t.parent_||xf(t,e)),t.patches_&&go("Patches").generateReplacementPatches_(n[Zn].base_,e,t.patches_,t.inversePatches_)):e=yf(t,n,[]),K0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==LM?e:void 0}function yf(e,t,n){if(Mh(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Zn];if(!i)return vf(t,(o,l)=>V_(e,i,t,o,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return xf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,c=!1;i.type_===3&&(l=new Set(o),o.clear(),c=!0),vf(l,(h,f)=>V_(e,i,o,h,f,n,c),r),xf(e,o,!1),n&&e.patches_&&go("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function V_(e,t,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const c=Mh(i);if(!(c&&!l)){if(Is(i)){const h=o&&t&&t.type_!==3&&!V0(t.assigned_,r)?o.concat(r):void 0,f=yf(e,i,h);if(BM(n,r,f),Is(f))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(po(i)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&c)return;yf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Oc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&xf(e,i)}}}function xf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ax(t,n)}function Cq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:zM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Ex;n&&(i=[r],o=pc);const{revoke:l,proxy:c}=Proxy.revocable(i,o);return r.draft_=c,r.revoke_=l,c}var Ex={get(e,t){if(t===Zn)return e;const n=eo(e);if(!V0(n,t))return Pq(e,n,t);const r=n[t];return e.finalized_||!po(r)?r:r===jv(e.base_,t)?(kv(e),e.copy_[t]=W0(r,e)):r},has(e,t){return t in eo(e)},ownKeys(e){return Reflect.ownKeys(eo(e))},set(e,t,n){const r=qM(eo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=jv(eo(e),t),o=i==null?void 0:i[Zn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Aq(n,i)&&(n!==void 0||V0(e.base_,t)))return!0;kv(e),J0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return jv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,kv(e),J0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=eo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Pr(11)},getPrototypeOf(e){return hc(e.base_)},setPrototypeOf(){Pr(12)}},pc={};vf(Ex,(e,t)=>{pc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});pc.deleteProperty=function(e,t){return pc.set.call(this,e,t,void 0)};pc.set=function(e,t,n){return Ex.set.call(this,e[0],t,n,e[0])};function jv(e,t){const n=e[Zn];return(n?eo(n):e)[t]}function Pq(e,t,n){var i;const r=qM(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function qM(e,t){if(!(t in e))return;let n=hc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=hc(n)}}function J0(e){e.modified_||(e.modified_=!0,e.parent_&&J0(e.parent_))}function kv(e){e.copy_||(e.copy_=$0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Iq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(h=o,...f){return l.produce(h,m=>n.call(this,m,...f))}}typeof n!="function"&&Pr(6),r!==void 0&&typeof r!="function"&&Pr(7);let i;if(po(t)){const o=H_(this),l=W0(t,void 0);let c=!0;try{i=n(l),c=!1}finally{c?K0(o):Y0(o)}return F_(o,r),G_(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===LM&&(i=void 0),this.autoFreeze_&&Ax(i,!0),r){const o=[],l=[];go("Patches").generateReplacementPatches_(t,i,o,l),r(o,l)}return i}else Pr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...c)=>this.produceWithPatches(l,h=>t(h,...c));let r,i;return[this.produce(t,n,(l,c)=>{r=l,i=c}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){po(e)||Pr(8),Is(e)&&(e=Mq(e));const t=H_(this),n=W0(e,void 0);return n[Zn].isManual_=!0,Y0(t),n}finishDraft(e,t){const n=e&&e[Zn];(!n||!n.isManual_)&&Pr(9);const{scope_:r}=n;return F_(r,t),G_(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=go("Patches").applyPatches_;return Is(e)?r(e,t):this.produce(e,i=>r(i,t))}};function W0(e,t){const n=Oc(e)?go("MapSet").proxyMap_(e,t):Ih(e)?go("MapSet").proxySet_(e,t):Cq(e,t);return(t?t.scope_:zM()).drafts_.push(n),n}function Mq(e){return Is(e)||Pr(10,e),FM(e)}function FM(e){if(!po(e)||Mh(e))return e;const t=e[Zn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=$0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=$0(e,!0);return vf(n,(i,o)=>{BM(n,i,FM(o))},r),t&&(t.finalized_=!1),n}var Oq=new Iq;Oq.produce;var jq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},HM=Un({name:"legend",initialState:jq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:xt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Mr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:xt()},removeLegendPayload:{reducer(e,t){var n=Mr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:xt()}}}),{setLegendSize:$_,setLegendSettings:kq,addLegendPayload:Rq,replaceLegendPayload:Dq,removeLegendPayload:Lq}=HM.actions,Uq=HM.reducer,Bq=["contextPayload"];function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X0.apply(null,arguments)}function K_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(n),!0).forEach(function(r){zq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zq(e,t,n){return(t=qq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qq(e){var t=Fq(e,"string");return typeof t=="symbol"?t:t+""}function Fq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hq(e,t){if(e==null)return{};var n,r,i=Gq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vq(e){return e.value}function $q(e){var{contextPayload:t}=e,n=Hq(e,Bq),r=$I(t,e.payloadUniqBy,Vq),i=Ms(Ms({},n),{},{payload:r});return _.isValidElement(e.content)?_.cloneElement(e.content,i):typeof e.content=="function"?_.createElement(e.content,i):_.createElement(MU,i)}function Kq(e,t,n,r,i,o){var{layout:l,align:c,verticalAlign:h}=t,f,m;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&l==="vertical"?f={left:((r||0)-o.width)/2}:f=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(h==="middle"?m={top:((i||0)-o.height)/2}:m=h==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Ms(Ms({},f),m)}function Yq(e){var t=At();return _.useEffect(()=>{t(kq(e))},[t,e]),null}function Jq(e){var t=At();return _.useEffect(()=>(t($_(e)),()=>{t($_({width:0,height:0}))}),[t,e]),null}function Wq(e,t,n,r){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:n||r}:null}var Xq={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function GM(e){var t=fn(e,Xq),n=NB(),r=A6(),i=bq(),{width:o,height:l,wrapperStyle:c,portal:h}=t,[f,m]=XI([n]),g=Sx(),y=wx();if(g==null||y==null)return null;var w=g-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),N=Wq(t.layout,l,o,w),A=h?c:Ms(Ms({position:"absolute",width:(N==null?void 0:N.width)||o||"auto",height:(N==null?void 0:N.height)||l||"auto"},Kq(c,t,i,g,y,f)),c),E=h??r;if(E==null||n==null)return null;var C=_.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:m},_.createElement(Yq,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!h&&_.createElement(Jq,{width:f.width,height:f.height}),_.createElement($q,X0({},t,N,{margin:i,chartWidth:g,chartHeight:y,contextPayload:n})));return ex.createPortal(C,E)}GM.displayName="Legend";function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q0.apply(null,arguments)}function Y_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(n),!0).forEach(function(r){Qq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qq(e,t,n){return(t=Zq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zq(e){var t=e8(e,"string");return typeof t=="symbol"?t:t+""}function e8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t8(e){return Array.isArray(e)&&ei(e[0])&&ei(e[1])?e.join(" ~ "):e}var hs={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},n8=e=>{var{separator:t=hs.separator,contentStyle:n,itemStyle:r,labelStyle:i=hs.labelStyle,payload:o,formatter:l,itemSorter:c,wrapperClassName:h,labelClassName:f,label:m,labelFormatter:g,accessibilityLayer:y=hs.accessibilityLayer}=e,w=()=>{if(o&&o.length){var k={padding:0,margin:0},I=(c?hh(o,c):o).map((R,D)=>{if(R.type==="none")return null;var z=R.formatter||l||t8,{value:X,name:Q}=R,H=X,fe=Q;if(z){var ae=z(X,Q,R,D,o);if(Array.isArray(ae))[H,fe]=ae;else if(ae!=null)H=ae;else return null}var $=Hl(Hl({},hs.itemStyle),{},{color:R.color||hs.itemStyle.color},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:$},ei(fe)?_.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,ei(fe)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},H),_.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:k},I)}return null},N=Hl(Hl({},hs.contentStyle),n),A=Hl({margin:0},i),E=!wt(m),C=E?m:"",P=tt("recharts-default-tooltip",h),O=tt("recharts-tooltip-label",f);E&&g&&o!==void 0&&o!==null&&(C=g(m,o));var M=y?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",Q0({className:P,style:N},M),_.createElement("p",{className:O,style:A},_.isValidElement(C)?C:"".concat(C)),w())},Gl="recharts-tooltip-wrapper",r8={visibility:"hidden"};function i8(e){var{coordinate:t,translateX:n,translateY:r}=e;return tt(Gl,{["".concat(Gl,"-right")]:Se(n)&&t&&Se(t.x)&&n>=t.x,["".concat(Gl,"-left")]:Se(n)&&t&&Se(t.x)&&n<t.x,["".concat(Gl,"-bottom")]:Se(r)&&t&&Se(t.y)&&r>=t.y,["".concat(Gl,"-top")]:Se(r)&&t&&Se(t.y)&&r<t.y})}function J_(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:o,reverseDirection:l,tooltipDimension:c,viewBox:h,viewBoxDimension:f}=e;if(o&&Se(o[r]))return o[r];var m=n[r]-c-(i>0?i:0),g=n[r]+i;if(t[r])return l[r]?m:g;var y=h[r];if(y==null)return 0;if(l[r]){var w=m,N=y;return w<N?Math.max(g,y):Math.max(m,y)}if(f==null)return 0;var A=g+c,E=y+f;return A>E?Math.max(m,y):Math.max(g,y)}function a8(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function o8(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:h,viewBox:f}=e,m,g,y;return c.height>0&&c.width>0&&n?(g=J_({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),y=J_({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),m=a8({translateX:g,translateY:y,useTranslate3d:h})):m=r8,{cssProperties:m,cssClasses:i8({translateX:g,translateY:y,coordinate:n})}}function W_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(n),!0).forEach(function(r){Z0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z0(e,t,n){return(t=s8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s8(e){var t=l8(e,"string");return typeof t=="symbol"?t:t+""}function l8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class c8 extends _.PureComponent{constructor(){super(...arguments),Z0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Z0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:c,isAnimationActive:h,offset:f,position:m,reverseDirection:g,useTranslate3d:y,viewBox:w,wrapperStyle:N,lastBoundingBox:A,innerRef:E,hasPortalFromProps:C}=this.props,P=typeof f=="number"?f:f.x,O=typeof f=="number"?f:f.y,{cssClasses:M,cssProperties:k}=o8({allowEscapeViewBox:n,coordinate:l,offsetLeft:P,offsetTop:O,position:m,reverseDirection:g,tooltipBox:{height:A.height,width:A.width},useTranslate3d:y,viewBox:w}),I=C?{}:vd(vd({transition:h&&t?"transform ".concat(r,"ms ").concat(i):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),R=vd(vd({},I),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},N);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:R,ref:E},o)}}var VM=()=>{var e;return(e=Te(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ey.apply(null,arguments)}function X_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(n),!0).forEach(function(r){u8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u8(e,t,n){return(t=d8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d8(e){var t=f8(e,"string");return typeof t=="symbol"?t:t+""}function f8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z_={curveBasisClosed:F6,curveBasisOpen:H6,curveBasis:q6,curveBumpX:T6,curveBumpY:C6,curveLinearClosed:G6,curveLinear:uh,curveMonotoneX:V6,curveMonotoneY:$6,curveNatural:K6,curveStep:Y6,curveStepAfter:W6,curveStepBefore:J6},bf=e=>$e(e.x)&&$e(e.y),eN=e=>e.base!=null&&bf(e.base)&&bf(e),Vl=e=>e.x,$l=e=>e.y,h8=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Tc(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=Z_["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return Z_[n]||uh},tN={connectNulls:!1,type:"linear"},m8=e=>{var{type:t=tN.type,points:n=[],baseLine:r,layout:i,connectNulls:o=tN.connectNulls}=e,l=h8(t,i),c=o?n.filter(bf):n;if(Array.isArray(r)){var h,f=n.map((N,A)=>Q_(Q_({},N),{},{base:r[A]}));i==="vertical"?h=cd().y($l).x1(Vl).x0(N=>N.base.x):h=cd().x(Vl).y1($l).y0(N=>N.base.y);var m=h.defined(eN).curve(l),g=o?f.filter(eN):f;return m(g)}var y;i==="vertical"&&Se(r)?y=cd().y($l).x1(Vl).x0(r):Se(r)?y=cd().x(Vl).y1($l).y0(r):y=wI().x(Vl).y($l);var w=y.defined(bf).curve(l);return w(c)},$M=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=So();if((!n||!n.length)&&!r)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},c=n&&n.length?m8(l):r;return _.createElement("path",ey({},kr(e),lx(e),{className:tt("recharts-curve",t),d:c===null?void 0:c,ref:i}))},p8=["x","y","top","left","width","height","className"];function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ty.apply(null,arguments)}function nN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function g8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(n),!0).forEach(function(r){v8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v8(e,t,n){return(t=y8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y8(e){var t=x8(e,"string");return typeof t=="symbol"?t:t+""}function x8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b8(e,t){if(e==null)return{};var n,r,i=S8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function S8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var w8=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),A8=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:c}=e,h=b8(e,p8),f=g8({x:t,y:n,top:r,left:i,width:o,height:l},h);return!Se(t)||!Se(n)||!Se(o)||!Se(l)||!Se(r)||!Se(i)?null:_.createElement("path",ty({},wn(f),{className:tt("recharts-cross",c),d:w8(t,n,o,l,r,i)}))};function E8(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function rN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(n),!0).forEach(function(r){_8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _8(e,t,n){return(t=N8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N8(e){var t=T8(e,"string");return typeof t=="symbol"?t:t+""}function T8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),KM=(e,t,n)=>e.map(r=>"".concat(C8(r)," ").concat(t,"ms ").concat(n)).join(","),P8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),gc=(e,t)=>Object.keys(t).reduce((n,r)=>iN(iN({},n),{},{[r]:e(r,t[r])}),{});function aN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(n),!0).forEach(function(r){I8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I8(e,t,n){return(t=M8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M8(e){var t=O8(e,"string");return typeof t=="symbol"?t:t+""}function O8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sf=(e,t,n)=>e+(t-e)*n,ny=e=>{var{from:t,to:n}=e;return t!==n},YM=(e,t,n)=>{var r=gc((i,o)=>{if(ny(o)){var[l,c]=e(o.from,o.to,o.velocity);return qt(qt({},o),{},{from:l,velocity:c})}return o},t);return n<1?gc((i,o)=>ny(o)&&r[i]!=null?qt(qt({},o),{},{velocity:Sf(o.velocity,r[i].velocity,n),from:Sf(o.from,r[i].from,n)}):o,t):YM(e,r,n-1)};function j8(e,t,n,r,i,o){var l,c=r.reduce((y,w)=>qt(qt({},y),{},{[w]:{from:e[w],velocity:0,to:t[w]}}),{}),h=()=>gc((y,w)=>w.from,c),f=()=>!Object.values(c).filter(ny).length,m=null,g=y=>{l||(l=y);var w=y-l,N=w/n.dt;c=YM(n,c,N),i(qt(qt(qt({},e),t),h())),l=y,f()||(m=o.setTimeout(g))};return()=>(m=o.setTimeout(g),()=>{var y;(y=m)===null||y===void 0||y()})}function k8(e,t,n,r,i,o,l){var c=null,h=i.reduce((g,y)=>{var w=e[y],N=t[y];return w==null||N==null?g:qt(qt({},g),{},{[y]:[w,N]})},{}),f,m=g=>{f||(f=g);var y=(g-f)/r,w=gc((A,E)=>Sf(...E,n(y)),h);if(o(qt(qt(qt({},e),t),w)),y<1)c=l.setTimeout(m);else{var N=gc((A,E)=>Sf(...E,n(1)),h);o(qt(qt(qt({},e),t),N))}};return()=>(c=l.setTimeout(m),()=>{var g;(g=c)===null||g===void 0||g()})}const R8=(e,t,n,r,i,o)=>{var l=P8(e,t);return n==null?()=>(i(qt(qt({},e),t)),()=>{}):n.isStepper===!0?j8(e,t,n,l,i,o):k8(e,t,n,r,l,i,o)};var wf=1e-4,JM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],WM=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),oN=(e,t)=>n=>{var r=JM(e,t);return WM(r,n)},D8=(e,t)=>n=>{var r=JM(e,t),i=[...r.map((o,l)=>o*l).slice(1),0];return WM(i,n)},L8=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},U8=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=L8(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},B8=(e,t,n,r)=>{var i=oN(e,n),o=oN(t,r),l=D8(e,n),c=f=>f>1?1:f<0?0:f,h=f=>{for(var m=f>1?1:f,g=m,y=0;y<8;++y){var w=i(g)-m,N=l(g);if(Math.abs(w-m)<wf||N<wf)return o(g);g=c(g-w/N)}return o(g)};return h.isStepper=!1,h},sN=function(){return B8(...U8(...arguments))},z8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(l,c,h)=>{var f=-(l-c)*n,m=h*r,g=h+(f-m)*i/1e3,y=h*i/1e3+l;return Math.abs(y-c)<wf&&Math.abs(g)<wf?[c,0]:[y,g]};return o.isStepper=!0,o.dt=i,o},q8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sN(e);case"spring":return z8();default:if(e.split("(")[0]==="cubic-bezier")return sN(e)}return typeof e=="function"?e:null};function F8(e){var t,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[h,...f]=c;if(typeof h=="number"){i=e.setTimeout(o.bind(null,f),h);return}o(h),i=e.setTimeout(o.bind(null,f));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class H8{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function G8(){return F8(new H8)}var V8=_.createContext(G8);function $8(e,t){var n=_.useContext(V8);return _.useMemo(()=>t??n(e),[e,t,n])}var K8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Oh={isSsr:K8()},Y8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},lN={t:0},Rv={t:1};function jh(e){var t=fn(e,Y8),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:h,children:f}=t,m=n==="auto"?!Oh.isSsr:n,g=$8(t.animationId,t.animationManager),[y,w]=_.useState(m?lN:Rv),N=_.useRef(null);return _.useEffect(()=>{m||w(Rv)},[m]),_.useEffect(()=>{if(!m||!r)return bo;var A=R8(lN,Rv,q8(o),i,w,g.getTimeoutController()),E=()=>{N.current=A()};return g.start([h,l,E,i,c]),()=>{g.stop(),N.current&&N.current(),c()}},[m,r,i,o,l,h,c,g]),f(y.t)}function kh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(cc(t)),r=_.useRef(e);return r.current!==e&&(n.current=cc(t),r.current=e),n.current}var J8=["radius"],W8=["radius"],cN,uN,dN,fN,hN,mN,pN,gN,vN,yN;function xN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(n),!0).forEach(function(r){X8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X8(e,t,n){return(t=Q8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q8(e){var t=Z8(e,"string");return typeof t=="symbol"?t:t+""}function Z8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Af.apply(null,arguments)}function SN(e,t){if(e==null)return{};var n,r,i=eF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Gr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var wN=(e,t,n,r,i)=>{var o=wa(n),l=wa(r),c=Math.min(Math.abs(o)/2,Math.abs(l)/2),h=l>=0?1:-1,f=o>=0?1:-1,m=l>=0&&o>=0||l<0&&o<0?1:0,g;if(c>0&&Array.isArray(i)){for(var y=[0,0,0,0],w=0,N=4;w<N;w++){var A,E=(A=i[w])!==null&&A!==void 0?A:0;y[w]=E>c?c:E}g=Tt(cN||(cN=Gr(["M",",",""])),e,t+h*y[0]),y[0]>0&&(g+=Tt(uN||(uN=Gr(["A ",",",",0,0,",",",",",""])),y[0],y[0],m,e+f*y[0],t)),g+=Tt(dN||(dN=Gr(["L ",",",""])),e+n-f*y[1],t),y[1]>0&&(g+=Tt(fN||(fN=Gr(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],m,e+n,t+h*y[1])),g+=Tt(hN||(hN=Gr(["L ",",",""])),e+n,t+r-h*y[2]),y[2]>0&&(g+=Tt(mN||(mN=Gr(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],m,e+n-f*y[2],t+r)),g+=Tt(pN||(pN=Gr(["L ",",",""])),e+f*y[3],t+r),y[3]>0&&(g+=Tt(gN||(gN=Gr(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],m,e,t+r-h*y[3])),g+="Z"}else if(c>0&&i===+i&&i>0){var C=Math.min(c,i);g=Tt(vN||(vN=Gr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+h*C,C,C,m,e+f*C,t,e+n-f*C,t,C,C,m,e+n,t+h*C,e+n,t+r-h*C,C,C,m,e+n-f*C,t+r,e+f*C,t+r,C,C,m,e,t+r-h*C)}else g=Tt(yN||(yN=Gr(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return g},AN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XM=e=>{var t=fn(e,AN),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var V=n.current.getTotalLength();V&&i(V)}catch{}},[]);var{x:o,y:l,width:c,height:h,radius:f,className:m}=t,{animationEasing:g,animationDuration:y,animationBegin:w,isAnimationActive:N,isUpdateAnimationActive:A}=t,E=_.useRef(c),C=_.useRef(h),P=_.useRef(o),O=_.useRef(l),M=_.useMemo(()=>({x:o,y:l,width:c,height:h,radius:f}),[o,l,c,h,f]),k=kh(M,"rectangle-");if(o!==+o||l!==+l||c!==+c||h!==+h||c===0||h===0)return null;var I=tt("recharts-rectangle",m);if(!A){var R=wn(t),{radius:D}=R,z=SN(R,J8);return _.createElement("path",Af({},z,{x:wa(o),y:wa(l),width:wa(c),height:wa(h),radius:typeof f=="number"?f:void 0,className:I,d:wN(o,l,c,h,f)}))}var X=E.current,Q=C.current,H=P.current,fe=O.current,ae="0px ".concat(r===-1?1:r,"px"),$="".concat(r,"px 0px"),q=KM(["strokeDasharray"],y,typeof g=="string"?g:AN.animationEasing);return _.createElement(jh,{animationId:k,key:k,canBegin:r>0,duration:y,easing:g,isActive:A,begin:w},V=>{var ne=Ct(X,c,V),re=Ct(Q,h,V),he=Ct(H,o,V),L=Ct(fe,l,V);n.current&&(E.current=ne,C.current=re,P.current=he,O.current=L);var U;N?V>0?U={transition:q,strokeDasharray:$}:U={strokeDasharray:ae}:U={strokeDasharray:$};var se=wn(t),{radius:te}=se,Ae=SN(se,W8);return _.createElement("path",Af({},Ae,{radius:typeof f=="number"?f:void 0,className:I,d:wN(he,L,ne,re,f),ref:n,style:bN(bN({},U),t.style)}))})};function EN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _N(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(n),!0).forEach(function(r){tF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tF(e,t,n){return(t=nF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nF(e){var t=rF(e,"string");return typeof t=="symbol"?t:t+""}function rF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ef=Math.PI/180,iF=e=>e*180/Math.PI,dn=(e,t,n,r)=>({x:e+Math.cos(-Ef*r)*n,y:t+Math.sin(-Ef*r)*n}),aF=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},oF=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},sF=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,l=oF({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,h=Math.acos(c);return r>o&&(h=2*Math.PI-h),{radius:l,angle:iF(h),angleInRadian:h}},lF=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},cF=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return e+l*360},uF=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=sF({x:n,y:r},t),{innerRadius:l,outerRadius:c}=t;if(i<l||i>c||i===0)return null;var{startAngle:h,endAngle:f}=lF(t),m=o,g;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}return g?_N(_N({},t),{},{radius:i,angle:cF(m,t)}):null};function QM(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,l=dn(t,n,r,i),c=dn(t,n,r,o);return{points:[l,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var NN,TN,CN,PN,IN,MN,ON;function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ry.apply(null,arguments)}function ro(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var dF=(e,t)=>{var n=Rn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},yd=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:c,cornerIsExternal:h}=e,f=c*(l?1:-1)+r,m=Math.asin(c/f)/Ef,g=h?i:i+o*m,y=dn(t,n,f,g),w=dn(t,n,r,g),N=h?i-o*m:i,A=dn(t,n,f*Math.cos(m*Ef),N);return{center:y,circleTangency:w,lineTangency:A,theta:m}},ZM=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=e,c=dF(o,l),h=o+c,f=dn(t,n,i,o),m=dn(t,n,i,h),g=Tt(NN||(NN=ro(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(c)>180),+(o>h),m.x,m.y);if(r>0){var y=dn(t,n,r,o),w=dn(t,n,r,h);g+=Tt(TN||(TN=ro(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),w.x,w.y,r,r,+(Math.abs(c)>180),+(o<=h),y.x,y.y)}else g+=Tt(CN||(CN=ro(["L ",","," Z"])),t,n);return g},fF=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:h,endAngle:f}=e,m=Rn(f-h),{circleTangency:g,lineTangency:y,theta:w}=yd({cx:t,cy:n,radius:i,angle:h,sign:m,cornerRadius:o,cornerIsExternal:c}),{circleTangency:N,lineTangency:A,theta:E}=yd({cx:t,cy:n,radius:i,angle:f,sign:-m,cornerRadius:o,cornerIsExternal:c}),C=c?Math.abs(h-f):Math.abs(h-f)-w-E;if(C<0)return l?Tt(PN||(PN=ro(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,o,o,o*2,o,o,-o*2):ZM({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:h,endAngle:f});var P=Tt(IN||(IN=ro(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,o,o,+(m<0),g.x,g.y,i,i,+(C>180),+(m<0),N.x,N.y,o,o,+(m<0),A.x,A.y);if(r>0){var{circleTangency:O,lineTangency:M,theta:k}=yd({cx:t,cy:n,radius:r,angle:h,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:I,lineTangency:R,theta:D}=yd({cx:t,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),z=c?Math.abs(h-f):Math.abs(h-f)-k-D;if(z<0&&o===0)return"".concat(P,"L").concat(t,",").concat(n,"Z");P+=Tt(MN||(MN=ro(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),R.x,R.y,o,o,+(m<0),I.x,I.y,r,r,+(z>180),+(m>0),O.x,O.y,o,o,+(m<0),M.x,M.y)}else P+=Tt(ON||(ON=ro(["L",",","Z"])),t,n);return P},hF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eO=e=>{var t=fn(e,hF),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:h,startAngle:f,endAngle:m,className:g}=t;if(o<i||f===m)return null;var y=tt("recharts-sector",g),w=o-i,N=Rr(l,w,0,!0),A;return N>0&&Math.abs(f-m)<360?A=fF({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(N,w/2),forceCornerRadius:c,cornerIsExternal:h,startAngle:f,endAngle:m}):A=ZM({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:m}),_.createElement("path",ry({},wn(t),{className:y,d:A}))};function mF(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(LI(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:l,angle:c}=t,h=dn(r,i,o,c),f=dn(r,i,l,c);return[{x:h.x,y:h.y},{x:f.x,y:f.y}]}return QM(t)}}var Dv={},Lv={},Uv={},jN;function pF(){return jN||(jN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YI();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Uv)),Uv}var kN;function gF(){return kN||(kN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pF();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Lv)),Lv}var RN;function vF(){return RN||(RN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JI(),n=gF();function r(i,o,l){l&&typeof l!="number"&&t.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((o-i)/(l||1)),0),h=new Array(c);for(let f=0;f<c;f++)h[f]=i,i+=l;return h}e.range=r})(Dv)),Dv}var Bv,DN;function yF(){return DN||(DN=1,Bv=vF().range),Bv}var xF=yF();const tO=Lr(xF);function Ea(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _x(e){let t,n,r;e.length!==2?(t=Ea,n=(c,h)=>Ea(e(c),h),r=(c,h)=>e(c)-h):(t=e===Ea||e===bF?e:SF,n=e,r=e);function i(c,h,f=0,m=c.length){if(f<m){if(t(h,h)!==0)return m;do{const g=f+m>>>1;n(c[g],h)<0?f=g+1:m=g}while(f<m)}return f}function o(c,h,f=0,m=c.length){if(f<m){if(t(h,h)!==0)return m;do{const g=f+m>>>1;n(c[g],h)<=0?f=g+1:m=g}while(f<m)}return f}function l(c,h,f=0,m=c.length){const g=i(c,h,f,m-1);return g>f&&r(c[g-1],h)>-r(c[g],h)?g-1:g}return{left:i,center:l,right:o}}function SF(){return 0}function nO(e){return e===null?NaN:+e}function*wF(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const AF=_x(Ea),jc=AF.right;_x(nO).center;class LN extends Map{constructor(t,n=NF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(UN(this,t))}has(t){return super.has(UN(this,t))}set(t,n){return super.set(EF(this,t),n)}delete(t){return super.delete(_F(this,t))}}function UN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function EF({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function _F({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function NF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function TF(e=Ea){if(e===Ea)return rO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function rO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const CF=Math.sqrt(50),PF=Math.sqrt(10),IF=Math.sqrt(2);function _f(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=CF?10:o>=PF?5:o>=IF?2:1;let c,h,f;return i<0?(f=Math.pow(10,-i)/l,c=Math.round(e*f),h=Math.round(t*f),c/f<e&&++c,h/f>t&&--h,f=-f):(f=Math.pow(10,i)*l,c=Math.round(e/f),h=Math.round(t/f),c*f<e&&++c,h*f>t&&--h),h<c&&.5<=n&&n<2?_f(e,t,n*2):[c,h,f]}function iy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?_f(t,e,n):_f(e,t,n);if(!(o>=i))return[];const c=o-i+1,h=new Array(c);if(r)if(l<0)for(let f=0;f<c;++f)h[f]=(o-f)/-l;else for(let f=0;f<c;++f)h[f]=(o-f)*l;else if(l<0)for(let f=0;f<c;++f)h[f]=(i+f)/-l;else for(let f=0;f<c;++f)h[f]=(i+f)*l;return h}function ay(e,t,n){return t=+t,e=+e,n=+n,_f(e,t,n)[2]}function oy(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?ay(t,e,n):ay(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function BN(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function zN(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function iO(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?rO:TF(i);r>n;){if(r-n>600){const h=r-n+1,f=t-n+1,m=Math.log(h),g=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*g*(h-g)/h)*(f-h/2<0?-1:1),w=Math.max(n,Math.floor(t-f*g/h+y)),N=Math.min(r,Math.floor(t+(h-f)*g/h+y));iO(e,t,w,N,i)}const o=e[t];let l=n,c=r;for(Kl(e,n,t),i(e[r],o)>0&&Kl(e,n,r);l<c;){for(Kl(e,l,c),++l,--c;i(e[l],o)<0;)++l;for(;i(e[c],o)>0;)--c}i(e[n],o)===0?Kl(e,n,c):(++c,Kl(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function Kl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function MF(e,t,n){if(e=Float64Array.from(wF(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return zN(e);if(t>=1)return BN(e);var r,i=(r-1)*t,o=Math.floor(i),l=BN(iO(e,o).subarray(0,o+1)),c=zN(e.subarray(o+1));return l+(c-l)*(i-o)}}function OF(e,t,n=nO){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),l=+n(e[o],o,e),c=+n(e[o+1],o+1,e);return l+(c-l)*(i-o)}}function jF(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Sr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const sy=Symbol("implicit");function Nx(){var e=new LN,t=[],n=[],r=sy;function i(o){let l=e.get(o);if(l===void 0){if(r!==sy)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new LN;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Nx(t,n).unknown(r)},Sr.apply(i,arguments),i}function Tx(){var e=Nx().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,c=!1,h=0,f=0,m=.5;delete e.unknown;function g(){var y=t().length,w=i<r,N=w?i:r,A=w?r:i;o=(A-N)/Math.max(1,y-h+f*2),c&&(o=Math.floor(o)),N+=(A-N-o*(y-h))*m,l=o*(1-h),c&&(N=Math.round(N),l=Math.round(l));var E=jF(y).map(function(C){return N+o*C});return n(w?E.reverse():E)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,g()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,c=!0,g()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(y){return arguments.length?(c=!!y,g()):c},e.padding=function(y){return arguments.length?(h=Math.min(1,f=+y),g()):h},e.paddingInner=function(y){return arguments.length?(h=Math.min(1,y),g()):h},e.paddingOuter=function(y){return arguments.length?(f=+y,g()):f},e.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),g()):m},e.copy=function(){return Tx(t(),[r,i]).round(c).paddingInner(h).paddingOuter(f).align(m)},Sr.apply(g(),arguments)}function aO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aO(t())},e}function kF(){return aO(Tx.apply(null,arguments).paddingInner(1))}function Cx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function oO(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function kc(){}var vc=.7,Nf=1/vc,Es="\\s*([+-]?\\d+)\\s*",yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",RF=/^#([0-9a-f]{3,8})$/,DF=new RegExp(`^rgb\\(${Es},${Es},${Es}\\)$`),LF=new RegExp(`^rgb\\(${Xr},${Xr},${Xr}\\)$`),UF=new RegExp(`^rgba\\(${Es},${Es},${Es},${yc}\\)$`),BF=new RegExp(`^rgba\\(${Xr},${Xr},${Xr},${yc}\\)$`),zF=new RegExp(`^hsl\\(${yc},${Xr},${Xr}\\)$`),qF=new RegExp(`^hsla\\(${yc},${Xr},${Xr},${yc}\\)$`),qN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cx(kc,xc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:FN,formatHex:FN,formatHex8:FF,formatHsl:HF,formatRgb:HN,toString:HN});function FN(){return this.rgb().formatHex()}function FF(){return this.rgb().formatHex8()}function HF(){return sO(this).formatHsl()}function HN(){return this.rgb().formatRgb()}function xc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=RF.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?GN(t):n===3?new Ln(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?xd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?xd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=DF.exec(e))?new Ln(t[1],t[2],t[3],1):(t=LF.exec(e))?new Ln(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=UF.exec(e))?xd(t[1],t[2],t[3],t[4]):(t=BF.exec(e))?xd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zF.exec(e))?KN(t[1],t[2]/100,t[3]/100,1):(t=qF.exec(e))?KN(t[1],t[2]/100,t[3]/100,t[4]):qN.hasOwnProperty(e)?GN(qN[e]):e==="transparent"?new Ln(NaN,NaN,NaN,0):null}function GN(e){return new Ln(e>>16&255,e>>8&255,e&255,1)}function xd(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ln(e,t,n,r)}function GF(e){return e instanceof kc||(e=xc(e)),e?(e=e.rgb(),new Ln(e.r,e.g,e.b,e.opacity)):new Ln}function ly(e,t,n,r){return arguments.length===1?GF(e):new Ln(e,t,n,r??1)}function Ln(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Cx(Ln,ly,oO(kc,{brighter(e){return e=e==null?Nf:Math.pow(Nf,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vc:Math.pow(vc,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ln(lo(this.r),lo(this.g),lo(this.b),Tf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VN,formatHex:VN,formatHex8:VF,formatRgb:$N,toString:$N}));function VN(){return`#${io(this.r)}${io(this.g)}${io(this.b)}`}function VF(){return`#${io(this.r)}${io(this.g)}${io(this.b)}${io((isNaN(this.opacity)?1:this.opacity)*255)}`}function $N(){const e=Tf(this.opacity);return`${e===1?"rgb(":"rgba("}${lo(this.r)}, ${lo(this.g)}, ${lo(this.b)}${e===1?")":`, ${e})`}`}function Tf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function io(e){return e=lo(e),(e<16?"0":"")+e.toString(16)}function KN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ir(e,t,n,r)}function sO(e){if(e instanceof Ir)return new Ir(e.h,e.s,e.l,e.opacity);if(e instanceof kc||(e=xc(e)),!e)return new Ir;if(e instanceof Ir)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,c=o-i,h=(o+i)/2;return c?(t===o?l=(n-r)/c+(n<r)*6:n===o?l=(r-t)/c+2:l=(t-n)/c+4,c/=h<.5?o+i:2-o-i,l*=60):c=h>0&&h<1?0:l,new Ir(l,c,h,e.opacity)}function $F(e,t,n,r){return arguments.length===1?sO(e):new Ir(e,t,n,r??1)}function Ir(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Cx(Ir,$F,oO(kc,{brighter(e){return e=e==null?Nf:Math.pow(Nf,e),new Ir(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vc:Math.pow(vc,e),new Ir(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ln(zv(e>=240?e-240:e+120,i,r),zv(e,i,r),zv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ir(YN(this.h),bd(this.s),bd(this.l),Tf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tf(this.opacity);return`${e===1?"hsl(":"hsla("}${YN(this.h)}, ${bd(this.s)*100}%, ${bd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function YN(e){return e=(e||0)%360,e<0?e+360:e}function bd(e){return Math.max(0,Math.min(1,e||0))}function zv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Px=e=>()=>e;function KF(e,t){return function(n){return e+n*t}}function YF(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function JF(e){return(e=+e)==1?lO:function(t,n){return n-t?YF(t,n,e):Px(isNaN(t)?n:t)}}function lO(e,t){var n=t-e;return n?KF(e,n):Px(isNaN(e)?t:e)}const JN=(function e(t){var n=JF(t);function r(i,o){var l=n((i=ly(i)).r,(o=ly(o)).r),c=n(i.g,o.g),h=n(i.b,o.b),f=lO(i.opacity,o.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=h(m),i.opacity=f(m),i+""}}return r.gamma=e,r})(1);function WF(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function XF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function QF(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=Ls(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(c){for(l=0;l<r;++l)o[l]=i[l](c);return o}}function ZF(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Cf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function eH(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ls(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var cy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qv=new RegExp(cy.source,"g");function tH(e){return function(){return e}}function nH(e){return function(t){return e(t)+""}}function rH(e,t){var n=cy.lastIndex=qv.lastIndex=0,r,i,o,l=-1,c=[],h=[];for(e=e+"",t=t+"";(r=cy.exec(e))&&(i=qv.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,h.push({i:l,x:Cf(r,i)})),n=qv.lastIndex;return n<t.length&&(o=t.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?h[0]?nH(h[0].x):tH(t):(t=h.length,function(f){for(var m=0,g;m<t;++m)c[(g=h[m]).i]=g.x(f);return c.join("")})}function Ls(e,t){var n=typeof t,r;return t==null||n==="boolean"?Px(t):(n==="number"?Cf:n==="string"?(r=xc(t))?(t=r,JN):rH:t instanceof xc?JN:t instanceof Date?ZF:XF(t)?WF:Array.isArray(t)?QF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eH:Cf)(e,t)}function Ix(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function iH(e,t){t===void 0&&(t=e,e=Ls);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[c](l-c)}}function aH(e){return function(){return e}}function Pf(e){return+e}var WN=[0,1];function bn(e){return e}function uy(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:aH(isNaN(t)?NaN:.5)}function oH(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function sH(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=uy(i,r),o=n(l,o)):(r=uy(r,i),o=n(o,l)),function(c){return o(r(c))}}function lH(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=uy(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(c){var h=jc(e,c,1,r)-1;return o[h](i[h](c))}}function Rc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rh(){var e=WN,t=WN,n=Ls,r,i,o,l=bn,c,h,f;function m(){var y=Math.min(e.length,t.length);return l!==bn&&(l=oH(e[0],e[y-1])),c=y>2?lH:sH,h=f=null,g}function g(y){return y==null||isNaN(y=+y)?o:(h||(h=c(e.map(r),t,n)))(r(l(y)))}return g.invert=function(y){return l(i((f||(f=c(t,e.map(r),Cf)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,Pf),m()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),m()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),n=Ix,m()},g.clamp=function(y){return arguments.length?(l=y?!0:bn,m()):l!==bn},g.interpolate=function(y){return arguments.length?(n=y,m()):n},g.unknown=function(y){return arguments.length?(o=y,g):o},function(y,w){return r=y,i=w,m()}}function Mx(){return Rh()(bn,bn)}function cH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function If(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Os(e){return e=If(Math.abs(e)),e?e[1]:NaN}function uH(e,t){return function(n,r){for(var i=n.length,o=[],l=0,c=e[0],h=0;i>0&&c>0&&(h+c+1>r&&(c=Math.max(1,r-h)),o.push(n.substring(i-=c,i+c)),!((h+=c+1)>r));)c=e[l=(l+1)%e.length];return o.reverse().join(t)}}function dH(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var fH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bc(e){if(!(t=fH.exec(e)))throw new Error("invalid format: "+e);var t;return new Ox({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bc.prototype=Ox.prototype;function Ox(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ox.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hH(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Mf;function mH(e,t){var n=If(e,t);if(!n)return Mf=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(Mf=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+If(e,Math.max(0,t+o-1))[0]}function XN(e,t){var n=If(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const QN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XN(e*100,t),r:XN,s:mH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ZN(e){return e}var eT=Array.prototype.map,tT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pH(e){var t=e.grouping===void 0||e.thousands===void 0?ZN:uH(eT.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?ZN:dH(eT.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function f(g,y){g=bc(g);var w=g.fill,N=g.align,A=g.sign,E=g.symbol,C=g.zero,P=g.width,O=g.comma,M=g.precision,k=g.trim,I=g.type;I==="n"?(O=!0,I="g"):QN[I]||(M===void 0&&(M=12),k=!0,I="g"),(C||w==="0"&&N==="=")&&(C=!0,w="0",N="=");var R=(y&&y.prefix!==void 0?y.prefix:"")+(E==="$"?n:E==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():""),D=(E==="$"?r:/[%p]/.test(I)?l:"")+(y&&y.suffix!==void 0?y.suffix:""),z=QN[I],X=/[defgprs%]/.test(I);M=M===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function Q(H){var fe=R,ae=D,$,q,V;if(I==="c")ae=z(H)+ae,H="";else{H=+H;var ne=H<0||1/H<0;if(H=isNaN(H)?h:z(Math.abs(H),M),k&&(H=hH(H)),ne&&+H==0&&A!=="+"&&(ne=!1),fe=(ne?A==="("?A:c:A==="-"||A==="("?"":A)+fe,ae=(I==="s"&&!isNaN(H)&&Mf!==void 0?tT[8+Mf/3]:"")+ae+(ne&&A==="("?")":""),X){for($=-1,q=H.length;++$<q;)if(V=H.charCodeAt($),48>V||V>57){ae=(V===46?i+H.slice($+1):H.slice($))+ae,H=H.slice(0,$);break}}}O&&!C&&(H=t(H,1/0));var re=fe.length+H.length+ae.length,he=re<P?new Array(P-re+1).join(w):"";switch(O&&C&&(H=t(he+H,he.length?P-ae.length:1/0),he=""),N){case"<":H=fe+H+ae+he;break;case"=":H=fe+he+H+ae;break;case"^":H=he.slice(0,re=he.length>>1)+fe+H+ae+he.slice(re);break;default:H=he+fe+H+ae;break}return o(H)}return Q.toString=function(){return g+""},Q}function m(g,y){var w=Math.max(-8,Math.min(8,Math.floor(Os(y)/3)))*3,N=Math.pow(10,-w),A=f((g=bc(g),g.type="f",g),{suffix:tT[8+w/3]});return function(E){return A(N*E)}}return{format:f,formatPrefix:m}}var Sd,jx,cO;gH({thousands:",",grouping:[3],currency:["$",""]});function gH(e){return Sd=pH(e),jx=Sd.format,cO=Sd.formatPrefix,Sd}function vH(e){return Math.max(0,-Os(Math.abs(e)))}function yH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Os(t)/3)))*3-Os(Math.abs(e)))}function xH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Os(t)-Os(e))+1}function uO(e,t,n,r){var i=oy(e,t,n),o;switch(r=bc(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=yH(i,l))&&(r.precision=o),cO(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=xH(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=vH(i))&&(r.precision=o-(r.type==="%")*2);break}}return jx(r)}function Ma(e){var t=e.domain;return e.ticks=function(n){var r=t();return iy(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return uO(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],c=r[o],h,f,m=10;for(c<l&&(f=l,l=c,c=f,f=i,i=o,o=f);m-- >0;){if(f=ay(l,c,n),f===h)return r[i]=l,r[o]=c,t(r);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;h=f}return e},e}function dO(){var e=Mx();return e.copy=function(){return Rc(e,dO())},Sr.apply(e,arguments),Ma(e)}function fO(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Pf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return fO(e).unknown(t)},e=arguments.length?Array.from(e,Pf):[0,1],Ma(n)}function hO(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}function nT(e){return Math.log(e)}function rT(e){return Math.exp(e)}function bH(e){return-Math.log(-e)}function SH(e){return-Math.exp(-e)}function wH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function AH(e){return e===10?wH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function EH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function iT(e){return(t,n)=>-e(-t,n)}function kx(e){const t=e(nT,rT),n=t.domain;let r=10,i,o;function l(){return i=EH(r),o=AH(r),n()[0]<0?(i=iT(i),o=iT(o),e(bH,SH)):e(nT,rT),t}return t.base=function(c){return arguments.length?(r=+c,l()):r},t.domain=function(c){return arguments.length?(n(c),l()):n()},t.ticks=c=>{const h=n();let f=h[0],m=h[h.length-1];const g=m<f;g&&([f,m]=[m,f]);let y=i(f),w=i(m),N,A;const E=c==null?10:+c;let C=[];if(!(r%1)&&w-y<E){if(y=Math.floor(y),w=Math.ceil(w),f>0){for(;y<=w;++y)for(N=1;N<r;++N)if(A=y<0?N/o(-y):N*o(y),!(A<f)){if(A>m)break;C.push(A)}}else for(;y<=w;++y)for(N=r-1;N>=1;--N)if(A=y>0?N/o(-y):N*o(y),!(A<f)){if(A>m)break;C.push(A)}C.length*2<E&&(C=iy(f,m,E))}else C=iy(y,w,Math.min(w-y,E)).map(o);return g?C.reverse():C},t.tickFormat=(c,h)=>{if(c==null&&(c=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=bc(h)).precision==null&&(h.trim=!0),h=jx(h)),c===1/0)return h;const f=Math.max(1,r*c/t.ticks().length);return m=>{let g=m/o(Math.round(i(m)));return g*r<r-.5&&(g*=r),g<=f?h(m):""}},t.nice=()=>n(hO(n(),{floor:c=>o(Math.floor(i(c))),ceil:c=>o(Math.ceil(i(c)))})),t}function mO(){const e=kx(Rh()).domain([1,10]);return e.copy=()=>Rc(e,mO()).base(e.base()),Sr.apply(e,arguments),e}function aT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function oT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Rx(e){var t=1,n=e(aT(t),oT(t));return n.constant=function(r){return arguments.length?e(aT(t=+r),oT(t)):t},Ma(n)}function pO(){var e=Rx(Rh());return e.copy=function(){return Rc(e,pO()).constant(e.constant())},Sr.apply(e,arguments)}function sT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _H(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function NH(e){return e<0?-e*e:e*e}function Dx(e){var t=e(bn,bn),n=1;function r(){return n===1?e(bn,bn):n===.5?e(_H,NH):e(sT(n),sT(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ma(t)}function Lx(){var e=Dx(Rh());return e.copy=function(){return Rc(e,Lx()).exponent(e.exponent())},Sr.apply(e,arguments),e}function TH(){return Lx.apply(null,arguments).exponent(.5)}function lT(e){return Math.sign(e)*e*e}function CH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function gO(){var e=Mx(),t=[0,1],n=!1,r;function i(o){var l=CH(e(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return e.invert(lT(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Pf)).map(lT)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return gO(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Sr.apply(i,arguments),Ma(i)}function vO(){var e=[],t=[],n=[],r;function i(){var l=0,c=Math.max(1,t.length);for(n=new Array(c-1);++l<c;)n[l-1]=OF(e,l/c);return o}function o(l){return l==null||isNaN(l=+l)?r:t[jc(n,l)]}return o.invertExtent=function(l){var c=t.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Ea),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return vO().domain(e).range(t).unknown(r)},Sr.apply(o,arguments)}function yO(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function l(h){return h!=null&&h<=h?i[jc(r,h,0,n)]:o}function c(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*t-(h-n)*e)/(n+1);return l}return l.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,c()):[e,t]},l.range=function(h){return arguments.length?(n=(i=Array.from(h)).length-1,c()):i.slice()},l.invertExtent=function(h){var f=i.indexOf(h);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},l.unknown=function(h){return arguments.length&&(o=h),l},l.thresholds=function(){return r.slice()},l.copy=function(){return yO().domain([e,t]).range(i).unknown(o)},Sr.apply(Ma(l),arguments)}function xO(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[jc(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return xO().domain(e).range(t).unknown(n)},Sr.apply(i,arguments)}const Fv=new Date,Hv=new Date;function Ft(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),c=i.ceil(o);return o-l<c-o?l:c},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,c)=>{const h=[];if(o=i.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return h;let f;do h.push(f=new Date(+o)),t(o,c),e(o);while(f<o&&o<l);return h},i.filter=o=>Ft(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!o(l););else for(;--c>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(Fv.setTime(+o),Hv.setTime(+l),e(Fv),e(Hv),Math.floor(n(Fv,Hv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Of=Ft(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Of.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ft(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Of);Of.range;const _i=1e3,gr=_i*60,Ni=gr*60,Mi=Ni*24,Ux=Mi*7,cT=Mi*30,Gv=Mi*365,ao=Ft(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getUTCSeconds());ao.range;const Bx=Ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_i)},(e,t)=>{e.setTime(+e+t*gr)},(e,t)=>(t-e)/gr,e=>e.getMinutes());Bx.range;const zx=Ft(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gr)},(e,t)=>(t-e)/gr,e=>e.getUTCMinutes());zx.range;const qx=Ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_i-e.getMinutes()*gr)},(e,t)=>{e.setTime(+e+t*Ni)},(e,t)=>(t-e)/Ni,e=>e.getHours());qx.range;const Fx=Ft(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ni)},(e,t)=>(t-e)/Ni,e=>e.getUTCHours());Fx.range;const Dc=Ft(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gr)/Mi,e=>e.getDate()-1);Dc.range;const Dh=Ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mi,e=>e.getUTCDate()-1);Dh.range;const bO=Ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mi,e=>Math.floor(e/Mi));bO.range;function wo(e){return Ft(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*gr)/Ux)}const Lh=wo(0),jf=wo(1),PH=wo(2),IH=wo(3),js=wo(4),MH=wo(5),OH=wo(6);Lh.range;jf.range;PH.range;IH.range;js.range;MH.range;OH.range;function Ao(e){return Ft(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Ux)}const Uh=Ao(0),kf=Ao(1),jH=Ao(2),kH=Ao(3),ks=Ao(4),RH=Ao(5),DH=Ao(6);Uh.range;kf.range;jH.range;kH.range;ks.range;RH.range;DH.range;const Hx=Ft(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Hx.range;const Gx=Ft(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Gx.range;const Oi=Ft(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Oi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ft(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Oi.range;const ji=Ft(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ji.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ft(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ji.range;function SO(e,t,n,r,i,o){const l=[[ao,1,_i],[ao,5,5*_i],[ao,15,15*_i],[ao,30,30*_i],[o,1,gr],[o,5,5*gr],[o,15,15*gr],[o,30,30*gr],[i,1,Ni],[i,3,3*Ni],[i,6,6*Ni],[i,12,12*Ni],[r,1,Mi],[r,2,2*Mi],[n,1,Ux],[t,1,cT],[t,3,3*cT],[e,1,Gv]];function c(f,m,g){const y=m<f;y&&([f,m]=[m,f]);const w=g&&typeof g.range=="function"?g:h(f,m,g),N=w?w.range(f,+m+1):[];return y?N.reverse():N}function h(f,m,g){const y=Math.abs(m-f)/g,w=_x(([,,E])=>E).right(l,y);if(w===l.length)return e.every(oy(f/Gv,m/Gv,g));if(w===0)return Of.every(Math.max(oy(f,m,g),1));const[N,A]=l[y/l[w-1][2]<l[w][2]/y?w-1:w];return N.every(A)}return[c,h]}const[LH,UH]=SO(ji,Gx,Uh,bO,Fx,zx),[BH,zH]=SO(Oi,Hx,Lh,Dc,qx,Bx);function Vv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $v(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function qH(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,c=e.months,h=e.shortMonths,f=Jl(i),m=Wl(i),g=Jl(o),y=Wl(o),w=Jl(l),N=Wl(l),A=Jl(c),E=Wl(c),C=Jl(h),P=Wl(h),O={a:V,A:ne,b:re,B:he,c:null,d:pT,e:pT,f:uG,g:bG,G:wG,H:sG,I:lG,j:cG,L:wO,m:dG,M:fG,p:L,q:U,Q:yT,s:xT,S:hG,u:mG,U:pG,V:gG,w:vG,W:yG,x:null,X:null,y:xG,Y:SG,Z:AG,"%":vT},M={a:se,A:te,b:Ae,B:_e,c:null,d:gT,e:gT,f:TG,g:LG,G:BG,H:EG,I:_G,j:NG,L:EO,m:CG,M:PG,p:me,q:Be,Q:yT,s:xT,S:IG,u:MG,U:OG,V:jG,w:kG,W:RG,x:null,X:null,y:DG,Y:UG,Z:zG,"%":vT},k={a:X,A:Q,b:H,B:fe,c:ae,d:hT,e:hT,f:rG,g:fT,G:dT,H:mT,I:mT,j:ZH,L:nG,m:QH,M:eG,p:z,q:XH,Q:aG,s:oG,S:tG,u:$H,U:KH,V:YH,w:VH,W:JH,x:$,X:q,y:fT,Y:dT,Z:WH,"%":iG};O.x=I(n,O),O.X=I(r,O),O.c=I(t,O),M.x=I(n,M),M.X=I(r,M),M.c=I(t,M);function I(ie,Ie){return function(je){var de=[],St=-1,Le=0,pt=ie.length,gt,nn,Bn;for(je instanceof Date||(je=new Date(+je));++St<pt;)ie.charCodeAt(St)===37&&(de.push(ie.slice(Le,St)),(nn=uT[gt=ie.charAt(++St)])!=null?gt=ie.charAt(++St):nn=gt==="e"?" ":"0",(Bn=Ie[gt])&&(gt=Bn(je,nn)),de.push(gt),Le=St+1);return de.push(ie.slice(Le,St)),de.join("")}}function R(ie,Ie){return function(je){var de=Yl(1900,void 0,1),St=D(de,ie,je+="",0),Le,pt;if(St!=je.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Ie&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Le=$v(Yl(de.y,0,1)),pt=Le.getUTCDay(),Le=pt>4||pt===0?kf.ceil(Le):kf(Le),Le=Dh.offset(Le,(de.V-1)*7),de.y=Le.getUTCFullYear(),de.m=Le.getUTCMonth(),de.d=Le.getUTCDate()+(de.w+6)%7):(Le=Vv(Yl(de.y,0,1)),pt=Le.getDay(),Le=pt>4||pt===0?jf.ceil(Le):jf(Le),Le=Dc.offset(Le,(de.V-1)*7),de.y=Le.getFullYear(),de.m=Le.getMonth(),de.d=Le.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),pt="Z"in de?$v(Yl(de.y,0,1)).getUTCDay():Vv(Yl(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(pt+5)%7:de.w+de.U*7-(pt+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,$v(de)):Vv(de)}}function D(ie,Ie,je,de){for(var St=0,Le=Ie.length,pt=je.length,gt,nn;St<Le;){if(de>=pt)return-1;if(gt=Ie.charCodeAt(St++),gt===37){if(gt=Ie.charAt(St++),nn=k[gt in uT?Ie.charAt(St++):gt],!nn||(de=nn(ie,je,de))<0)return-1}else if(gt!=je.charCodeAt(de++))return-1}return de}function z(ie,Ie,je){var de=f.exec(Ie.slice(je));return de?(ie.p=m.get(de[0].toLowerCase()),je+de[0].length):-1}function X(ie,Ie,je){var de=w.exec(Ie.slice(je));return de?(ie.w=N.get(de[0].toLowerCase()),je+de[0].length):-1}function Q(ie,Ie,je){var de=g.exec(Ie.slice(je));return de?(ie.w=y.get(de[0].toLowerCase()),je+de[0].length):-1}function H(ie,Ie,je){var de=C.exec(Ie.slice(je));return de?(ie.m=P.get(de[0].toLowerCase()),je+de[0].length):-1}function fe(ie,Ie,je){var de=A.exec(Ie.slice(je));return de?(ie.m=E.get(de[0].toLowerCase()),je+de[0].length):-1}function ae(ie,Ie,je){return D(ie,t,Ie,je)}function $(ie,Ie,je){return D(ie,n,Ie,je)}function q(ie,Ie,je){return D(ie,r,Ie,je)}function V(ie){return l[ie.getDay()]}function ne(ie){return o[ie.getDay()]}function re(ie){return h[ie.getMonth()]}function he(ie){return c[ie.getMonth()]}function L(ie){return i[+(ie.getHours()>=12)]}function U(ie){return 1+~~(ie.getMonth()/3)}function se(ie){return l[ie.getUTCDay()]}function te(ie){return o[ie.getUTCDay()]}function Ae(ie){return h[ie.getUTCMonth()]}function _e(ie){return c[ie.getUTCMonth()]}function me(ie){return i[+(ie.getUTCHours()>=12)]}function Be(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Ie=I(ie+="",O);return Ie.toString=function(){return ie},Ie},parse:function(ie){var Ie=R(ie+="",!1);return Ie.toString=function(){return ie},Ie},utcFormat:function(ie){var Ie=I(ie+="",M);return Ie.toString=function(){return ie},Ie},utcParse:function(ie){var Ie=R(ie+="",!0);return Ie.toString=function(){return ie},Ie}}}var uT={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,FH=/^%/,HH=/[\\^$*+?|[\]().{}]/g;function Je(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function GH(e){return e.replace(HH,"\\$&")}function Jl(e){return new RegExp("^(?:"+e.map(GH).join("|")+")","i")}function Wl(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function VH(e,t,n){var r=Qt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function $H(e,t,n){var r=Qt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function KH(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function YH(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function JH(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function dT(e,t,n){var r=Qt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function fT(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function WH(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function XH(e,t,n){var r=Qt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function QH(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function hT(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ZH(e,t,n){var r=Qt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function mT(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function eG(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function tG(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function nG(e,t,n){var r=Qt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function rG(e,t,n){var r=Qt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function iG(e,t,n){var r=FH.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function aG(e,t,n){var r=Qt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function oG(e,t,n){var r=Qt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function pT(e,t){return Je(e.getDate(),t,2)}function sG(e,t){return Je(e.getHours(),t,2)}function lG(e,t){return Je(e.getHours()%12||12,t,2)}function cG(e,t){return Je(1+Dc.count(Oi(e),e),t,3)}function wO(e,t){return Je(e.getMilliseconds(),t,3)}function uG(e,t){return wO(e,t)+"000"}function dG(e,t){return Je(e.getMonth()+1,t,2)}function fG(e,t){return Je(e.getMinutes(),t,2)}function hG(e,t){return Je(e.getSeconds(),t,2)}function mG(e){var t=e.getDay();return t===0?7:t}function pG(e,t){return Je(Lh.count(Oi(e)-1,e),t,2)}function AO(e){var t=e.getDay();return t>=4||t===0?js(e):js.ceil(e)}function gG(e,t){return e=AO(e),Je(js.count(Oi(e),e)+(Oi(e).getDay()===4),t,2)}function vG(e){return e.getDay()}function yG(e,t){return Je(jf.count(Oi(e)-1,e),t,2)}function xG(e,t){return Je(e.getFullYear()%100,t,2)}function bG(e,t){return e=AO(e),Je(e.getFullYear()%100,t,2)}function SG(e,t){return Je(e.getFullYear()%1e4,t,4)}function wG(e,t){var n=e.getDay();return e=n>=4||n===0?js(e):js.ceil(e),Je(e.getFullYear()%1e4,t,4)}function AG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Je(t/60|0,"0",2)+Je(t%60,"0",2)}function gT(e,t){return Je(e.getUTCDate(),t,2)}function EG(e,t){return Je(e.getUTCHours(),t,2)}function _G(e,t){return Je(e.getUTCHours()%12||12,t,2)}function NG(e,t){return Je(1+Dh.count(ji(e),e),t,3)}function EO(e,t){return Je(e.getUTCMilliseconds(),t,3)}function TG(e,t){return EO(e,t)+"000"}function CG(e,t){return Je(e.getUTCMonth()+1,t,2)}function PG(e,t){return Je(e.getUTCMinutes(),t,2)}function IG(e,t){return Je(e.getUTCSeconds(),t,2)}function MG(e){var t=e.getUTCDay();return t===0?7:t}function OG(e,t){return Je(Uh.count(ji(e)-1,e),t,2)}function _O(e){var t=e.getUTCDay();return t>=4||t===0?ks(e):ks.ceil(e)}function jG(e,t){return e=_O(e),Je(ks.count(ji(e),e)+(ji(e).getUTCDay()===4),t,2)}function kG(e){return e.getUTCDay()}function RG(e,t){return Je(kf.count(ji(e)-1,e),t,2)}function DG(e,t){return Je(e.getUTCFullYear()%100,t,2)}function LG(e,t){return e=_O(e),Je(e.getUTCFullYear()%100,t,2)}function UG(e,t){return Je(e.getUTCFullYear()%1e4,t,4)}function BG(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ks(e):ks.ceil(e),Je(e.getUTCFullYear()%1e4,t,4)}function zG(){return"+0000"}function vT(){return"%"}function yT(e){return+e}function xT(e){return Math.floor(+e/1e3)}var ms,NO,TO;qG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qG(e){return ms=qH(e),NO=ms.format,ms.parse,TO=ms.utcFormat,ms.utcParse,ms}function FG(e){return new Date(e)}function HG(e){return e instanceof Date?+e:+new Date(+e)}function Vx(e,t,n,r,i,o,l,c,h,f){var m=Mx(),g=m.invert,y=m.domain,w=f(".%L"),N=f(":%S"),A=f("%I:%M"),E=f("%I %p"),C=f("%a %d"),P=f("%b %d"),O=f("%B"),M=f("%Y");function k(I){return(h(I)<I?w:c(I)<I?N:l(I)<I?A:o(I)<I?E:r(I)<I?i(I)<I?C:P:n(I)<I?O:M)(I)}return m.invert=function(I){return new Date(g(I))},m.domain=function(I){return arguments.length?y(Array.from(I,HG)):y().map(FG)},m.ticks=function(I){var R=y();return e(R[0],R[R.length-1],I??10)},m.tickFormat=function(I,R){return R==null?k:f(R)},m.nice=function(I){var R=y();return(!I||typeof I.range!="function")&&(I=t(R[0],R[R.length-1],I??10)),I?y(hO(R,I)):m},m.copy=function(){return Rc(m,Vx(e,t,n,r,i,o,l,c,h,f))},m}function GG(){return Sr.apply(Vx(BH,zH,Oi,Hx,Lh,Dc,qx,Bx,ao,NO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VG(){return Sr.apply(Vx(LH,UH,ji,Gx,Uh,Dh,Fx,zx,ao,TO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bh(){var e=0,t=1,n,r,i,o,l=bn,c=!1,h;function f(g){return g==null||isNaN(g=+g)?h:l(i===0?.5:(g=(o(g)-n)*i,c?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(g){return arguments.length?(c=!!g,f):c},f.interpolator=function(g){return arguments.length?(l=g,f):l};function m(g){return function(y){var w,N;return arguments.length?([w,N]=y,l=g(w,N),f):[l(0),l(1)]}}return f.range=m(Ls),f.rangeRound=m(Ix),f.unknown=function(g){return arguments.length?(h=g,f):h},function(g){return o=g,n=g(e),r=g(t),i=n===r?0:1/(r-n),f}}function Oa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function CO(){var e=Ma(Bh()(bn));return e.copy=function(){return Oa(e,CO())},qi.apply(e,arguments)}function PO(){var e=kx(Bh()).domain([1,10]);return e.copy=function(){return Oa(e,PO()).base(e.base())},qi.apply(e,arguments)}function IO(){var e=Rx(Bh());return e.copy=function(){return Oa(e,IO()).constant(e.constant())},qi.apply(e,arguments)}function $x(){var e=Dx(Bh());return e.copy=function(){return Oa(e,$x()).exponent(e.exponent())},qi.apply(e,arguments)}function $G(){return $x.apply(null,arguments).exponent(.5)}function MO(){var e=[],t=bn;function n(r){if(r!=null&&!isNaN(r=+r))return t((jc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ea),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>MF(e,o/r))},n.copy=function(){return MO(t).domain(e)},qi.apply(n,arguments)}function zh(){var e=0,t=.5,n=1,r=1,i,o,l,c,h,f=bn,m,g=!1,y;function w(A){return isNaN(A=+A)?y:(A=.5+((A=+m(A))-o)*(r*A<r*o?c:h),f(g?Math.max(0,Math.min(1,A)):A))}w.domain=function(A){return arguments.length?([e,t,n]=A,i=m(e=+e),o=m(t=+t),l=m(n=+n),c=i===o?0:.5/(o-i),h=o===l?0:.5/(l-o),r=o<i?-1:1,w):[e,t,n]},w.clamp=function(A){return arguments.length?(g=!!A,w):g},w.interpolator=function(A){return arguments.length?(f=A,w):f};function N(A){return function(E){var C,P,O;return arguments.length?([C,P,O]=E,f=iH(A,[C,P,O]),w):[f(0),f(.5),f(1)]}}return w.range=N(Ls),w.rangeRound=N(Ix),w.unknown=function(A){return arguments.length?(y=A,w):y},function(A){return m=A,i=A(e),o=A(t),l=A(n),c=i===o?0:.5/(o-i),h=o===l?0:.5/(l-o),r=o<i?-1:1,w}}function OO(){var e=Ma(zh()(bn));return e.copy=function(){return Oa(e,OO())},qi.apply(e,arguments)}function jO(){var e=kx(zh()).domain([.1,1,10]);return e.copy=function(){return Oa(e,jO()).base(e.base())},qi.apply(e,arguments)}function kO(){var e=Rx(zh());return e.copy=function(){return Oa(e,kO()).constant(e.constant())},qi.apply(e,arguments)}function Kx(){var e=Dx(zh());return e.copy=function(){return Oa(e,Kx()).exponent(e.exponent())},qi.apply(e,arguments)}function KG(){return Kx.apply(null,arguments).exponent(.5)}const rc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tx,scaleDiverging:OO,scaleDivergingLog:jO,scaleDivergingPow:Kx,scaleDivergingSqrt:KG,scaleDivergingSymlog:kO,scaleIdentity:fO,scaleImplicit:sy,scaleLinear:dO,scaleLog:mO,scaleOrdinal:Nx,scalePoint:kF,scalePow:Lx,scaleQuantile:vO,scaleQuantize:yO,scaleRadial:gO,scaleSequential:CO,scaleSequentialLog:PO,scaleSequentialPow:$x,scaleSequentialQuantile:MO,scaleSequentialSqrt:$G,scaleSequentialSymlog:IO,scaleSqrt:TH,scaleSymlog:pO,scaleThreshold:xO,scaleTime:GG,scaleUtc:VG,tickFormat:uO},Symbol.toStringTag,{value:"Module"}));var Fi=e=>e.chartData,RO=W([Fi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Yx=(e,t,n,r)=>r?RO(e):Fi(e),YG=(e,t,n)=>n?RO(e):Fi(e);function ki(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if($e(t)&&$e(n))return!0}return!1}function bT(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function DO(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if($e(n))i=n;else if(typeof n=="function")return;if($e(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(ki(l))return l}}function JG(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ki(r))return bT(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,l,c;if(i==="auto")t!=null&&(l=Math.min(...t));else if(Se(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&I_.test(i)){var h=I_.exec(i);if(h==null||h[1]==null||t==null)l=void 0;else{var f=+h[1];l=t[0]-f}}else l=t==null?void 0:t[0];if(o==="auto")t!=null&&(c=Math.max(...t));else if(Se(o))c=o;else if(typeof o=="function")try{t!=null&&(c=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&M_.test(o)){var m=M_.exec(o);if(m==null||m[1]==null||t==null)c=void 0;else{var g=+m[1];c=t[1]+g}}else c=t==null?void 0:t[1];var y=[l,c];if(ki(y))return t==null?y:bT(y,t,n)}}}var Us=1e9,WG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Wx,bt=!0,xr="[DecimalError] ",co=xr+"Invalid argument: ",Jx=xr+"Exponent out of range: ",Bs=Math.floor,to=Math.pow,XG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jn,Yt=1e7,mt=7,LO=9007199254740991,Rf=Bs(LO/mt),xe={};xe.absoluteValue=xe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};xe.comparedTo=xe.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*mt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};xe.dividedBy=xe.div=function(e){return Ti(this,new this.constructor(e))};xe.dividedToIntegerBy=xe.idiv=function(e){var t=this,n=t.constructor;return ct(Ti(t,new n(e),0,1),n.precision)};xe.equals=xe.eq=function(e){return!this.cmp(e)};xe.exponent=function(){return Bt(this)};xe.greaterThan=xe.gt=function(e){return this.cmp(e)>0};xe.greaterThanOrEqualTo=xe.gte=function(e){return this.cmp(e)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(e){return this.cmp(e)<0};xe.lessThanOrEqualTo=xe.lte=function(e){return this.cmp(e)<1};xe.logarithm=xe.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Jn))throw Error(xr+"NaN");if(n.s<1)throw Error(xr+(n.s?"NaN":"-Infinity"));return n.eq(Jn)?new r(0):(bt=!1,t=Ti(Sc(n,o),Sc(e,o),o),bt=!0,ct(t,i))};xe.minus=xe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zO(t,e):UO(t,(e.s=-e.s,e))};xe.modulo=xe.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(xr+"NaN");return n.s?(bt=!1,t=Ti(n,e,0,1).times(e),bt=!0,n.minus(t)):ct(new r(n),i)};xe.naturalExponential=xe.exp=function(){return BO(this)};xe.naturalLogarithm=xe.ln=function(){return Sc(this)};xe.negated=xe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};xe.plus=xe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UO(t,e):zO(t,(e.s=-e.s,e))};xe.precision=xe.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(co+e);if(t=Bt(i)+1,r=i.d.length-1,n=r*mt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};xe.squareRoot=xe.sqrt=function(){var e,t,n,r,i,o,l,c=this,h=c.constructor;if(c.s<1){if(!c.s)return new h(0);throw Error(xr+"NaN")}for(e=Bt(c),bt=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=Wr(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Bs((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new h(t)):r=new h(i.toString()),n=h.precision,i=l=n+3;;)if(o=r,r=o.plus(Ti(c,o,l+2)).times(.5),Wr(o.d).slice(0,l)===(t=Wr(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(ct(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if(t!="9999")break;l+=4}return bt=!0,ct(r,n)};xe.times=xe.mul=function(e){var t,n,r,i,o,l,c,h,f,m=this,g=m.constructor,y=m.d,w=(e=new g(e)).d;if(!m.s||!e.s)return new g(0);for(e.s*=m.s,n=m.e+e.e,h=y.length,f=w.length,h<f&&(o=y,y=w,w=o,l=h,h=f,f=l),o=[],l=h+f,r=l;r--;)o.push(0);for(r=f;--r>=0;){for(t=0,i=h+r;i>r;)c=o[i]+w[r]*y[i-r-1]+t,o[i--]=c%Yt|0,t=c/Yt|0;o[i]=(o[i]+t)%Yt|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,bt?ct(e,g.precision):e};xe.toDecimalPlaces=xe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ni(e,0,Us),t===void 0?t=r.rounding:ni(t,0,8),ct(n,e+Bt(n)+1,t))};xe.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=vo(r,!0):(ni(e,0,Us),t===void 0?t=i.rounding:ni(t,0,8),r=ct(new i(r),e+1,t),n=vo(r,!0,e+1)),n};xe.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?vo(i):(ni(e,0,Us),t===void 0?t=o.rounding:ni(t,0,8),r=ct(new o(i),e+Bt(i)+1,t),n=vo(r.abs(),!1,e+Bt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};xe.toInteger=xe.toint=function(){var e=this,t=e.constructor;return ct(new t(e),Bt(e)+1,t.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(e){var t,n,r,i,o,l,c=this,h=c.constructor,f=12,m=+(e=new h(e));if(!e.s)return new h(Jn);if(c=new h(c),!c.s){if(e.s<1)throw Error(xr+"Infinity");return c}if(c.eq(Jn))return c;if(r=h.precision,e.eq(Jn))return ct(c,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=c.s,l){if((n=m<0?-m:m)<=LO){for(i=new h(Jn),t=Math.ceil(r/mt+4),bt=!1;n%2&&(i=i.times(c),wT(i.d,t)),n=Bs(n/2),n!==0;)c=c.times(c),wT(c.d,t);return bt=!0,e.s<0?new h(Jn).div(i):ct(i,r)}}else if(o<0)throw Error(xr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,bt=!1,i=e.times(Sc(c,r+f)),bt=!0,i=BO(i),i.s=o,i};xe.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Bt(i),r=vo(i,n<=o.toExpNeg||n>=o.toExpPos)):(ni(e,1,Us),t===void 0?t=o.rounding:ni(t,0,8),i=ct(new o(i),e,t),n=Bt(i),r=vo(i,e<=n||n<=o.toExpNeg,e)),r};xe.toSignificantDigits=xe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ni(e,1,Us),t===void 0?t=r.rounding:ni(t,0,8)),ct(new r(n),e,t)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Bt(e),n=e.constructor;return vo(e,t<=n.toExpNeg||t>=n.toExpPos)};function UO(e,t){var n,r,i,o,l,c,h,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),bt?ct(t,g):t;if(h=e.d,f=t.d,l=e.e,i=t.e,h=h.slice(),o=l-i,o){for(o<0?(r=h,o=-o,c=f.length):(r=f,i=l,c=h.length),l=Math.ceil(g/mt),c=l>c?l+1:c+1,o>c&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(c=h.length,o=f.length,c-o<0&&(o=c,r=f,f=h,h=r),n=0;o;)n=(h[--o]=h[o]+f[o]+n)/Yt|0,h[o]%=Yt;for(n&&(h.unshift(n),++i),c=h.length;h[--c]==0;)h.pop();return t.d=h,t.e=i,bt?ct(t,g):t}function ni(e,t,n){if(e!==~~e||e<t||e>n)throw Error(co+e)}function Wr(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=mt-r.length,n&&(o+=xa(n)),o+=r;l=e[t],r=l+"",n=mt-r.length,n&&(o+=xa(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var Ti=(function(){function e(r,i){var o,l=0,c=r.length;for(r=r.slice();c--;)o=r[c]*i+l,r[c]=o%Yt|0,l=o/Yt|0;return l&&r.unshift(l),r}function t(r,i,o,l){var c,h;if(o!=l)h=o>l?1:-1;else for(c=h=0;c<o;c++)if(r[c]!=i[c]){h=r[c]>i[c]?1:-1;break}return h}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*Yt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var c,h,f,m,g,y,w,N,A,E,C,P,O,M,k,I,R,D,z=r.constructor,X=r.s==i.s?1:-1,Q=r.d,H=i.d;if(!r.s)return new z(r);if(!i.s)throw Error(xr+"Division by zero");for(h=r.e-i.e,R=H.length,k=Q.length,w=new z(X),N=w.d=[],f=0;H[f]==(Q[f]||0);)++f;if(H[f]>(Q[f]||0)&&--h,o==null?P=o=z.precision:l?P=o+(Bt(r)-Bt(i))+1:P=o,P<0)return new z(0);if(P=P/mt+2|0,f=0,R==1)for(m=0,H=H[0],P++;(f<k||m)&&P--;f++)O=m*Yt+(Q[f]||0),N[f]=O/H|0,m=O%H|0;else{for(m=Yt/(H[0]+1)|0,m>1&&(H=e(H,m),Q=e(Q,m),R=H.length,k=Q.length),M=R,A=Q.slice(0,R),E=A.length;E<R;)A[E++]=0;D=H.slice(),D.unshift(0),I=H[0],H[1]>=Yt/2&&++I;do m=0,c=t(H,A,R,E),c<0?(C=A[0],R!=E&&(C=C*Yt+(A[1]||0)),m=C/I|0,m>1?(m>=Yt&&(m=Yt-1),g=e(H,m),y=g.length,E=A.length,c=t(g,A,y,E),c==1&&(m--,n(g,R<y?D:H,y))):(m==0&&(c=m=1),g=H.slice()),y=g.length,y<E&&g.unshift(0),n(A,g,E),c==-1&&(E=A.length,c=t(H,A,R,E),c<1&&(m++,n(A,R<E?D:H,E))),E=A.length):c===0&&(m++,A=[0]),N[f++]=m,c&&A[0]?A[E++]=Q[M]||0:(A=[Q[M]],E=1);while((M++<k||A[0]!==void 0)&&P--)}return N[0]||N.shift(),w.e=h,ct(w,l?o+Bt(w)+1:o)}})();function BO(e,t){var n,r,i,o,l,c,h=0,f=0,m=e.constructor,g=m.precision;if(Bt(e)>16)throw Error(Jx+Bt(e));if(!e.s)return new m(Jn);for(bt=!1,c=g,l=new m(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(r=Math.log(to(2,f))/Math.LN10*2+5|0,c+=r,n=i=o=new m(Jn),m.precision=c;;){if(i=ct(i.times(e),c),n=n.times(++h),l=o.plus(Ti(i,n,c)),Wr(l.d).slice(0,c)===Wr(o.d).slice(0,c)){for(;f--;)o=ct(o.times(o),c);return m.precision=g,t==null?(bt=!0,ct(o,g)):o}o=l}}function Bt(e){for(var t=e.e*mt,n=e.d[0];n>=10;n/=10)t++;return t}function Kv(e,t,n){if(t>e.LN10.sd())throw bt=!0,n&&(e.precision=n),Error(xr+"LN10 precision limit exceeded");return ct(new e(e.LN10),t)}function xa(e){for(var t="";e--;)t+="0";return t}function Sc(e,t){var n,r,i,o,l,c,h,f,m,g=1,y=10,w=e,N=w.d,A=w.constructor,E=A.precision;if(w.s<1)throw Error(xr+(w.s?"NaN":"-Infinity"));if(w.eq(Jn))return new A(0);if(t==null?(bt=!1,f=E):f=t,w.eq(10))return t==null&&(bt=!0),Kv(A,f);if(f+=y,A.precision=f,n=Wr(N),r=n.charAt(0),o=Bt(w),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(e),n=Wr(w.d),r=n.charAt(0),g++;o=Bt(w),r>1?(w=new A("0."+n),o++):w=new A(r+"."+n.slice(1))}else return h=Kv(A,f+2,E).times(o+""),w=Sc(new A(r+"."+n.slice(1)),f-y).plus(h),A.precision=E,t==null?(bt=!0,ct(w,E)):w;for(c=l=w=Ti(w.minus(Jn),w.plus(Jn),f),m=ct(w.times(w),f),i=3;;){if(l=ct(l.times(m),f),h=c.plus(Ti(l,new A(i),f)),Wr(h.d).slice(0,f)===Wr(c.d).slice(0,f))return c=c.times(2),o!==0&&(c=c.plus(Kv(A,f+2,E).times(o+""))),c=Ti(c,new A(g),f),A.precision=E,t==null?(bt=!0,ct(c,E)):c;c=h,i+=2}}function ST(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Bs(n/mt),e.d=[],r=(n+1)%mt,n<0&&(r+=mt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=mt;r<i;)e.d.push(+t.slice(r,r+=mt));t=t.slice(r),r=mt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),bt&&(e.e>Rf||e.e<-Rf))throw Error(Jx+n)}else e.s=0,e.e=0,e.d=[0];return e}function ct(e,t,n){var r,i,o,l,c,h,f,m,g=e.d;for(l=1,o=g[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=mt,i=t,f=g[m=0];else{if(m=Math.ceil((r+1)/mt),o=g.length,m>=o)return e;for(f=o=g[m],l=1;o>=10;o/=10)l++;r%=mt,i=r-mt+l}if(n!==void 0&&(o=to(10,l-i-1),c=f/o%10|0,h=t<0||g[m+1]!==void 0||f%o,h=n<4?(c||h)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||h||n==6&&(r>0?i>0?f/to(10,l-i):0:g[m-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return h?(o=Bt(e),g.length=1,t=t-o-1,g[0]=to(10,(mt-t%mt)%mt),e.e=Bs(-t/mt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=m,o=1,m--):(g.length=m+1,o=to(10,mt-r),g[m]=i>0?(f/to(10,l-i)%to(10,i)|0)*o:0),h)for(;;)if(m==0){(g[0]+=o)==Yt&&(g[0]=1,++e.e);break}else{if(g[m]+=o,g[m]!=Yt)break;g[m--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(bt&&(e.e>Rf||e.e<-Rf))throw Error(Jx+Bt(e));return e}function zO(e,t){var n,r,i,o,l,c,h,f,m,g,y=e.constructor,w=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),bt?ct(t,w):t;if(h=e.d,g=t.d,r=t.e,f=e.e,h=h.slice(),l=f-r,l){for(m=l<0,m?(n=h,l=-l,c=g.length):(n=g,r=f,c=h.length),i=Math.max(Math.ceil(w/mt),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=h.length,c=g.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(h[i]!=g[i]){m=h[i]<g[i];break}l=0}for(m&&(n=h,h=g,g=n,t.s=-t.s),c=h.length,i=g.length-c;i>0;--i)h[c++]=0;for(i=g.length;i>l;){if(h[--i]<g[i]){for(o=i;o&&h[--o]===0;)h[o]=Yt-1;--h[o],h[i]+=Yt}h[i]-=g[i]}for(;h[--c]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(t.d=h,t.e=r,bt?ct(t,w):t):new y(0)}function vo(e,t,n){var r,i=Bt(e),o=Wr(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+xa(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+xa(-i-1)+o,n&&(r=n-l)>0&&(o+=xa(r))):i>=l?(o+=xa(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+xa(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=xa(r))),e.s<0?"-"+o:o}function wT(e,t){if(e.length>t)return e.length=t,!0}function qO(e){var t,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(co+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return ST(l,o.toString())}else if(typeof o!="string")throw Error(co+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,XG.test(o))ST(l,o);else throw Error(co+o)}if(i.prototype=xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=qO,i.config=i.set=QG,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function QG(e){if(!e||typeof e!="object")throw Error(xr+"Object expected");var t,n,r,i=["precision",1,Us,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Bs(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(co+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(co+n+": "+r);return this}var Wx=qO(WG);Jn=new Wx(1);const et=Wx;function FO(e){var t;return e===0?t=1:t=Math.floor(new et(e).abs().log(10).toNumber())+1,t}function HO(e,t,n){for(var r=new et(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var GO=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},VO=(e,t,n)=>{if(e.lte(0))return new et(0);var r=FO(e.toNumber()),i=new et(10).pow(r),o=e.div(i),l=r!==1?.05:.1,c=new et(Math.ceil(o.div(l).toNumber())).add(n).mul(l),h=c.mul(i);return t?new et(h.toNumber()):new et(Math.ceil(h.toNumber()))},ZG=(e,t,n)=>{var r=new et(1),i=new et(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new et(10).pow(FO(e)-1),i=new et(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new et(Math.floor(e)))}else e===0?i=new et(Math.floor((t-1)/2)):n||(i=new et(Math.floor(e)));for(var l=Math.floor((t-1)/2),c=[],h=0;h<t;h++)c.push(i.add(new et(h-l).mul(r)).toNumber());return c},$O=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new et(0),tickMin:new et(0),tickMax:new et(0)};var l=VO(new et(n).sub(t).div(r-1),i,o),c;t<=0&&n>=0?c=new et(0):(c=new et(t).add(n).div(2),c=c.sub(new et(c).mod(l)));var h=Math.ceil(c.sub(t).div(l).toNumber()),f=Math.ceil(new et(n).sub(c).div(l).toNumber()),m=h+f+1;return m>r?$O(t,n,r,i,o+1):(m<r&&(f=n>0?f+(r-m):f,h=n>0?h:h+(r-m)),{step:l,tickMin:c.sub(new et(h).mul(l)),tickMax:c.add(new et(f).mul(l))})},eV=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[c,h]=GO([n,r]);if(c===-1/0||h===1/0){var f=h===1/0?[c,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),h];return n>r?f.reverse():f}if(c===h)return ZG(c,i,o);var{step:m,tickMin:g,tickMax:y}=$O(c,h,l,o,0),w=HO(g,y.add(new et(.1).mul(m)),m);return n>r?w.reverse():w},tV=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=GO([r,i]);if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var h=Math.max(n,2),f=VO(new et(c).sub(l).div(h-1),o,0),m=[...HO(new et(l),new et(c),f),c];return o===!1&&(m=m.map(g=>Math.round(g))),r>i?m.reverse():m},KO=e=>e.rootProps.maxBarSize,nV=e=>e.rootProps.barGap,YO=e=>e.rootProps.barCategoryGap,rV=e=>e.rootProps.barSize,qh=e=>e.rootProps.stackOffset,JO=e=>e.rootProps.reverseStackOrder,Xx=e=>e.options.chartName,Qx=e=>e.rootProps.syncId,WO=e=>e.rootProps.syncMethod,Zx=e=>e.options.eventEmitter,Jt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Qa={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Vr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Fh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Hh(e,t,n){if(n!=="auto")return n;if(e!=null)return Ui(e,t)?"category":"number"}function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Df(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(n),!0).forEach(function(r){iV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iV(e,t,n){return(t=aV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aV(e){var t=oV(e,"string");return typeof t=="symbol"?t:t+""}function oV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ET={allowDataOverflow:Qa.allowDataOverflow,allowDecimals:Qa.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Qa.angleAxisId,includeHidden:!1,name:void 0,reversed:Qa.reversed,scale:Qa.scale,tick:Qa.tick,tickCount:void 0,ticks:void 0,type:Qa.type,unit:void 0},_T={allowDataOverflow:Vr.allowDataOverflow,allowDecimals:Vr.allowDecimals,allowDuplicatedCategory:Vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vr.radiusAxisId,includeHidden:Vr.includeHidden,name:void 0,reversed:Vr.reversed,scale:Vr.scale,tick:Vr.tick,tickCount:Vr.tickCount,ticks:void 0,type:Vr.type,unit:void 0},sV=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},eb=W([sV,DM],(e,t)=>{var n;if(e!=null)return e;var r=(n=Hh(t,"angleAxis",ET.type))!==null&&n!==void 0?n:"category";return Df(Df({},ET),{},{type:r})}),lV=(e,t)=>e.polarAxis.radiusAxis[t],tb=W([lV,DM],(e,t)=>{var n;if(e!=null)return e;var r=(n=Hh(t,"radiusAxis",_T.type))!==null&&n!==void 0?n:"category";return Df(Df({},_T),{},{type:r})}),Gh=e=>e.polarOptions,nb=W([Bi,zi,Xt],aF),XO=W([Gh,nb],(e,t)=>{if(e!=null)return Rr(e.innerRadius,t,0)}),QO=W([Gh,nb],(e,t)=>{if(e!=null)return Rr(e.outerRadius,t,t*.8)}),cV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},ZO=W([Gh],cV);W([eb,ZO],Fh);var ej=W([nb,XO,QO],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});W([tb,ej],Fh);var tj=W([nt,Gh,XO,QO,Bi,zi],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:c,startAngle:h,endAngle:f}=t;return{cx:Rr(l,i,i/2),cy:Rr(c,o,o/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:f,clockWise:!1}}}),Zt=(e,t)=>t,Vh=(e,t,n)=>n;function rb(e){return e==null?void 0:e.id}function nj(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return e.forEach(c=>{var h,f=(h=c.data)!==null&&h!==void 0?h:r;if(!(f==null||f.length===0)){var m=rb(c);f.forEach((g,y)=>{var w=o==null||i?y:String(Ut(g,o,null)),N=Ut(g,c.dataKey,0),A;l.has(w)?A=l.get(w):A={},Object.assign(A,{[m]:N}),l.set(w,A)})}}),Array.from(l.values())}function $h(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Kh=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Yh(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function uV(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var en=e=>{var t=nt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},zs=e=>e.tooltip.settings.axisId;function dV(e){if(e in rc)return rc[e]();var t="scale".concat(Tc(e));if(t in rc)return rc[t]()}function NT(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(o){function l(){return o.apply(this,arguments)}return l.toString=function(){return o.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var l=i[0],c=i[1];return l<=c?o>=l&&o<=c:o>=c&&o<=l},bandwidth:n?()=>n.call(e):void 0,ticks:t?o=>t.call(e,o):void 0,map:(o,l)=>{var c=e(o);if(c!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var h=e.bandwidth();switch(l.position){case"middle":c+=h/2;break;case"end":c+=h;break}}return c}}}}function TT(e,t,n){if(typeof e=="function")return NT(e.copy().domain(t).range(n));if(e!=null){var r=dV(e);if(r!=null)return r.domain(t).range(n),NT(r)}}var fV=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!ki(t)){for(var n,r,i=0;i<t.length;i++){var o=t[i];$e(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function CT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(n),!0).forEach(function(r){hV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hV(e,t,n){return(t=mV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mV(e){var t=pV(e,"string");return typeof t=="symbol"?t:t+""}function pV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dy=[0,"auto"],$t={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},rj=(e,t)=>e.cartesianAxis.xAxis[t],Hi=(e,t)=>{var n=rj(e,t);return n??$t},Kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ic},ij=(e,t)=>e.cartesianAxis.yAxis[t],Gi=(e,t)=>{var n=ij(e,t);return n??Kt},gV={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ib=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??gV},_n=(e,t,n)=>{switch(t){case"xAxis":return Hi(e,n);case"yAxis":return Gi(e,n);case"zAxis":return ib(e,n);case"angleAxis":return eb(e,n);case"radiusAxis":return tb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},vV=(e,t,n)=>{switch(t){case"xAxis":return Hi(e,n);case"yAxis":return Gi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Lc=(e,t,n)=>{switch(t){case"xAxis":return Hi(e,n);case"yAxis":return Gi(e,n);case"angleAxis":return eb(e,n);case"radiusAxis":return tb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},aj=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function oj(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Jh=e=>e.graphicalItems.cartesianItems,yV=W([Zt,Vh],oj),sj=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Uc=W([Jh,_n,yV],sj,{memoizeOptions:{resultEqualityCheck:Yh}}),lj=W([Uc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter($h)),cj=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),xV=W([Uc],cj),uj=e=>e.map(t=>t.data).filter(Boolean).flat(1),bV=W([Uc],uj,{memoizeOptions:{resultEqualityCheck:Yh}}),dj=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},ab=W([bV,Yx],dj),fj=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ut(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Ut(i,r)}))):e.map(r=>({value:r})),Wh=W([ab,_n,Uc],fj);function hj(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ld(e){if(ei(e)||e instanceof Date){var t=Number(e);if($e(t))return t}}function PT(e){if(Array.isArray(e)){var t=[Ld(e[0]),Ld(e[1])];return ki(t)?t:void 0}var n=Ld(e);if(n!=null)return[n,n]}function Ri(e){return e.map(Ld).filter(Dn)}function SV(e,t,n){return!n||typeof t!="number"||Zr(t)?[]:n.length?Ri(n.flatMap(r=>{var i=Ut(e,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!$e(o)||!$e(l)))return[t-o,t+l]})):[]}var Ht=e=>{var t=en(e),n=zs(e);return Lc(e,t,n)},Bc=W([Ht],e=>e==null?void 0:e.dataKey),wV=W([lj,Yx,Ht],nj),mj=(e,t,n,r)=>{var i={},o=t.reduce((l,c)=>{if(c.stackId==null)return l;var h=l[c.stackId];return h==null&&(h=[]),h.push(c),l[c.stackId]=h,l},i);return Object.fromEntries(Object.entries(o).map(l=>{var[c,h]=l,f=r?[...h].reverse():h,m=f.map(rb);return[c,{stackedData:Rz(e,m,n),graphicalItems:f}]}))},fy=W([wV,lj,qh,JO],mj),pj=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var l=zz(e,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},AV=W([_n],e=>e.allowDataOverflow),ob=e=>{var t;if(e==null||!("domain"in e))return dy;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Ri(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:dy},gj=W([_n],ob),vj=W([gj,AV],DO),EV=W([fy,Fi,Zt,vj],pj,{memoizeOptions:{resultEqualityCheck:Kh}}),sb=e=>e.errorBars,_V=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>hj(n,r)),Uf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),c=Math.max(...o);return[l,c]}},yj=(e,t,n,r,i)=>{var o,l;if(n.length>0&&e.forEach(c=>{n.forEach(h=>{var f,m,g=(f=r[h.id])===null||f===void 0?void 0:f.filter(C=>hj(i,C)),y=Ut(c,(m=t.dataKey)!==null&&m!==void 0?m:h.dataKey),w=SV(c,y,g);if(w.length>=2){var N=Math.min(...w),A=Math.max(...w);(o==null||N<o)&&(o=N),(l==null||A>l)&&(l=A)}var E=PT(y);E!=null&&(o=o==null?E[0]:Math.min(o,E[0]),l=l==null?E[1]:Math.max(l,E[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(c=>{var h=PT(Ut(c,t.dataKey));h!=null&&(o=o==null?h[0]:Math.min(o,h[0]),l=l==null?h[1]:Math.max(l,h[1]))}),$e(o)&&$e(l))return[o,l]},NV=W([ab,_n,xV,sb,Zt],yj,{memoizeOptions:{resultEqualityCheck:Kh}});function TV(e){var{value:t}=e;if(ei(t)||t instanceof Date)return t}var CV=(e,t,n)=>{var r=e.map(TV).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&kI(r))?tO(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},xj=e=>e.referenceElements.dots,qs=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),PV=W([xj,Zt,Vh],qs),bj=e=>e.referenceElements.areas,IV=W([bj,Zt,Vh],qs),Sj=e=>e.referenceElements.lines,MV=W([Sj,Zt,Vh],qs),wj=(e,t)=>{if(e!=null){var n=Ri(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},OV=W(PV,Zt,wj),Aj=(e,t)=>{if(e!=null){var n=Ri(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},jV=W([IV,Zt],Aj);function kV(e){var t;if(e.x!=null)return Ri([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ri(n)}function RV(e){var t;if(e.y!=null)return Ri([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ri(n)}var Ej=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?kV(r):RV(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},DV=W([MV,Zt],Ej),LV=W(OV,DV,jV,(e,t,n)=>Uf(e,n,t)),_j=(e,t,n,r,i,o,l,c)=>{if(n!=null)return n;var h=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=h?Uf(r,o,i):Uf(o,i);return JG(t,f,e.allowDataOverflow)},UV=W([_n,gj,vj,EV,NV,LV,nt,Zt],_j,{memoizeOptions:{resultEqualityCheck:Kh}}),BV=[0,1],Nj=(e,t,n,r,i,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:h}=e,f=Ui(t,o);if(f&&c==null){var m;return tO(0,(m=n==null?void 0:n.length)!==null&&m!==void 0?m:0)}return h==="category"?CV(r,e,f):i==="expand"?BV:l}},lb=W([_n,nt,ab,Wh,qh,Zt,UV],Nj);function zV(e){return e in rc}var Tj=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(Tc(r));return zV(o)?o:"point"}}},Fs=W([_n,aj,Xx],Tj);function cb(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?TT(e.scale,n,r):TT(t,n,r)}var Cj=(e,t,n)=>{var r=ob(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ki(e))return eV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ki(e))return tV(e,t.tickCount,t.allowDecimals)}},ub=W([lb,Lc,Fs],Cj),Pj=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ki(t)&&Array.isArray(n)&&n.length>0){var i,o,l=t[0],c=(i=n[0])!==null&&i!==void 0?i:0,h=t[1],f=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(l,c),Math.max(h,f)]}return t},qV=W([_n,lb,ub,Zt],Pj),FV=W(Wh,_n,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ri(e.map(g=>g.value))).sort((g,y)=>g-y),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var l=o-i;if(l===0)return 1/0;for(var c=0;c<r.length-1;c++){var h=r[c],f=r[c+1];if(!(h==null||f==null)){var m=f-h;n=Math.min(n,m)}}return n/l}}),Ij=W(FV,nt,YO,Xt,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!$e(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var l=Rr(n,e*o),c=e*o/2;return c-l-(c-l)/o*l}return 0}),HV=(e,t,n)=>{var r=Hi(e,t);return r==null||typeof r.padding!="string"?0:Ij(e,"xAxis",t,n,r.padding)},GV=(e,t,n)=>{var r=Gi(e,t);return r==null||typeof r.padding!="string"?0:Ij(e,"yAxis",t,n,r.padding)},VV=W(Hi,HV,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),$V=W(Gi,GV,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),KV=W([Xt,VV,Th,Nh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),YV=W([Xt,nt,$V,Th,Nh,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),zc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return KV(e,n,r);case"yAxis":return YV(e,n,r);case"zAxis":return(i=ib(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return ZO(e);case"radiusAxis":return ej(e,n);default:return}},Mj=W([_n,zc],Fh),JV=W([Fs,qV],fV),Xh=W([_n,Fs,JV,Mj],cb);W([Uc,sb,Zt],_V);function Oj(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Qh=(e,t)=>t,Zh=(e,t,n)=>n,WV=W(Eh,Qh,Zh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Oj)),XV=W(_h,Qh,Zh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Oj)),jj=(e,t)=>({width:e.width,height:t.height}),QV=(e,t)=>{var n=typeof t.width=="number"?t.width:Ic;return{width:n,height:e.height}},kj=W(Xt,Hi,jj),ZV=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},e$=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},t$=W(zi,Xt,WV,Qh,Zh,(e,t,n,r,i)=>{var o={},l;return n.forEach(c=>{var h=jj(t,c);l==null&&(l=ZV(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;o[c.id]=l-Number(f)*h.height,l+=(f?-1:1)*h.height}),o}),n$=W(Bi,Xt,XV,Qh,Zh,(e,t,n,r,i)=>{var o={},l;return n.forEach(c=>{var h=QV(t,c);l==null&&(l=e$(t,r,e));var f=r==="left"&&!i||r==="right"&&i;o[c.id]=l-Number(f)*h.width,l+=(f?-1:1)*h.width}),o}),r$=(e,t)=>{var n=Hi(e,t);if(n!=null)return t$(e,n.orientation,n.mirror)},i$=W([Xt,Hi,r$,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),a$=(e,t)=>{var n=Gi(e,t);if(n!=null)return n$(e,n.orientation,n.mirror)},o$=W([Xt,Gi,a$,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Rj=W(Xt,Gi,(e,t)=>{var n=typeof t.width=="number"?t.width:Ic;return{width:n,height:e.height}}),IT=(e,t,n)=>{switch(t){case"xAxis":return kj(e,n).width;case"yAxis":return Rj(e,n).height;default:return}},Dj=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,c=Ui(e,r),h=t.map(f=>f.value);if(l&&c&&o==="category"&&i&&kI(h))return h}},db=W([nt,Wh,_n,Zt],Dj),Lj=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=Ui(e,r);if(l&&(i==="number"||o!=="auto"))return t.map(c=>c.value)}},fb=W([nt,Wh,Lc,Zt],Lj),MT=W([nt,vV,Fs,Xh,db,fb,zc,ub,Zt],(e,t,n,r,i,o,l,c,h)=>{if(t!=null){var f=Ui(e,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:c,range:l,realScaleType:n,scale:r}}}),s$=(e,t,n,r,i,o,l,c,h)=>{if(!(t==null||r==null)){var f=Ui(e,h),{type:m,ticks:g,tickCount:y}=t,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,N=m==="category"&&r.bandwidth?r.bandwidth()/w:0;N=h==="angleAxis"&&o!=null&&o.length>=2?Rn(o[0]-o[1])*2*N:N;var A=g||i;return A?A.map((E,C)=>{var P=l?l.indexOf(E):E,O=r.map(P);return $e(O)?{index:C,coordinate:O+N,value:E,offset:N}:null}).filter(Dn):f&&c?c.map((E,C)=>{var P=r.map(E);return $e(P)?{coordinate:P+N,value:E,index:C,offset:N}:null}).filter(Dn):r.ticks?r.ticks(y).map((E,C)=>{var P=r.map(E);return $e(P)?{coordinate:P+N,value:E,index:C,offset:N}:null}).filter(Dn):r.domain().map((E,C)=>{var P=r.map(E);return $e(P)?{coordinate:P+N,value:l?l[E]:E,index:C,offset:N}:null}).filter(Dn)}},Uj=W([nt,Lc,Fs,Xh,ub,zc,db,fb,Zt],s$),l$=(e,t,n,r,i,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=Ui(e,l),{tickCount:h}=t,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Rn(r[0]-r[1])*2*f:f,c&&o?o.map((m,g)=>{var y=n.map(m);return $e(y)?{coordinate:y+f,value:m,index:g,offset:f}:null}).filter(Dn):n.ticks?n.ticks(h).map((m,g)=>{var y=n.map(m);return $e(y)?{coordinate:y+f,value:m,index:g,offset:f}:null}).filter(Dn):n.domain().map((m,g)=>{var y=n.map(m);return $e(y)?{coordinate:y+f,value:i?i[m]:m,index:g,offset:f}:null}).filter(Dn)}},Pa=W([nt,Lc,Xh,zc,db,fb,Zt],l$),Ia=W(_n,Xh,(e,t)=>{if(!(e==null||t==null))return Lf(Lf({},e),{},{scale:t})}),c$=W([_n,Fs,lb,Mj],cb);W((e,t,n)=>ib(e,n),c$,(e,t)=>{if(!(e==null||t==null))return Lf(Lf({},e),{},{scale:t})});var u$=W([nt,Eh,_h],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Bj=e=>e.options.defaultTooltipEventType,zj=e=>e.options.validateTooltipEventTypes;function qj(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function hb(e,t){var n=Bj(e),r=zj(e);return qj(t,n,r)}function d$(e){return Te(t=>hb(t,e))}var Fj=(e,t)=>{var n,r=Number(t);if(!(Zr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},f$=e=>e.tooltip.settings,Sa={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},h$={itemInteraction:{click:Sa,hover:Sa},axisInteraction:{click:Sa,hover:Sa},keyboardInteraction:Sa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Hj=Un({name:"tooltip",initialState:h$,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:xt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Mr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:xt()},removeTooltipEntrySettings:{reducer(e,t){var n=Mr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:xt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:m$,replaceTooltipEntrySettings:p$,removeTooltipEntrySettings:g$,setTooltipSettingsState:v$,setActiveMouseOverItemIndex:Gj,mouseLeaveItem:y$,mouseLeaveChart:Vj,setActiveClickItemIndex:x$,setMouseOverAxisIndex:$j,setMouseClickAxisIndex:b$,setSyncInteraction:hy,setKeyboardInteraction:my}=Hj.actions,S$=Hj.reducer;function OT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(n),!0).forEach(function(r){w$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w$(e,t,n){return(t=A$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A$(e){var t=E$(e,"string");return typeof t=="symbol"?t:t+""}function E$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _$(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function N$(e){return e.index!=null}var Kj=(e,t,n,r)=>{if(t==null)return Sa;var i=_$(e,t,n);if(i==null)return Sa;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(N$(i)){if(o)return wd(wd({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return wd(wd({},Sa),{},{coordinate:i.coordinate})};function T$(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function C$(e,t){var n=T$(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),l=Math.max(r,i);return n>=o&&n<=l}function P$(e,t,n){if(n==null||t==null)return!0;var r=Ut(e,t);return r==null||!ki(n)?!0:C$(r,n)}var mb=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var o=Number(i);if(!$e(o))return i;var l=0,c=1/0;t.length>0&&(c=t.length-1);var h=Math.max(l,Math.min(o,c)),f=t[h];return f==null||P$(f,n,r)?String(h):null},Yj=(e,t,n,r,i,o,l)=>{if(o!=null){var c=l[0],h=c==null?void 0:c.getPosition(o);if(h!=null)return h;var f=i==null?void 0:i[Number(o)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:f.coordinate}}}},Jj=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===i})},Wj=e=>e.options.tooltipPayloadSearcher,Hs=e=>e.tooltip;function jT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(n),!0).forEach(function(r){I$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I$(e,t,n){return(t=M$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M$(e){var t=O$(e,"string");return typeof t=="symbol"?t:t+""}function O$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j$(e,t){return e??t}var Xj=(e,t,n,r,i,o,l)=>{if(!(t==null||o==null)){var{chartData:c,computedData:h,dataStartIndex:f,dataEndIndex:m}=n,g=[];return e.reduce((y,w)=>{var N,{dataDefinedOnItem:A,settings:E}=w,C=j$(A,c),P=Array.isArray(C)?TM(C,f,m):C,O=(N=E==null?void 0:E.dataKey)!==null&&N!==void 0?N:r,M=E==null?void 0:E.nameKey,k;if(r&&Array.isArray(P)&&!Array.isArray(P[0])&&l==="axis"?k=RI(P,r,i):k=o(P,t,h,M),Array.isArray(k))k.forEach(R=>{var D=kT(kT({},E),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});y.push(O_({tooltipEntrySettings:D,dataKey:R.dataKey,payload:R.payload,value:Ut(R.payload,R.dataKey),name:R.name}))});else{var I;y.push(O_({tooltipEntrySettings:E,dataKey:O,payload:k,value:Ut(k,O),name:(I=Ut(k,M))!==null&&I!==void 0?I:E==null?void 0:E.name}))}return y},g)}},pb=W([Ht,aj,Xx],Tj),k$=W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),R$=W([en,zs],oj),Gs=W([k$,Ht,R$],sj,{memoizeOptions:{resultEqualityCheck:Yh}}),D$=W([Gs],e=>e.filter($h)),L$=W([Gs],uj,{memoizeOptions:{resultEqualityCheck:Yh}}),Vs=W([L$,Fi],dj),U$=W([D$,Fi,Ht],nj),gb=W([Vs,Ht,Gs],fj),Qj=W([Ht],ob),B$=W([Ht],e=>e.allowDataOverflow),Zj=W([Qj,B$],DO),z$=W([Gs],e=>e.filter($h)),q$=W([U$,z$,qh,JO],mj),F$=W([q$,Fi,en,Zj],pj),H$=W([Gs],cj),G$=W([Vs,Ht,H$,sb,en],yj,{memoizeOptions:{resultEqualityCheck:Kh}}),V$=W([xj,en,zs],qs),$$=W([V$,en],wj),K$=W([bj,en,zs],qs),Y$=W([K$,en],Aj),J$=W([Sj,en,zs],qs),W$=W([J$,en],Ej),X$=W([$$,W$,Y$],Uf),Q$=W([Ht,Qj,Zj,F$,G$,X$,nt,en],_j),qc=W([Ht,nt,Vs,gb,qh,en,Q$],Nj),Z$=W([qc,Ht,pb],Cj),e9=W([Ht,qc,Z$,en],Pj),ek=e=>{var t=en(e),n=zs(e),r=!1;return zc(e,t,n,r)},tk=W([Ht,ek],Fh),nk=W([Ht,pb,e9,tk],cb),t9=W([nt,gb,Ht,en],Dj),n9=W([nt,gb,Ht,en],Lj),r9=(e,t,n,r,i,o,l,c)=>{if(t){var{type:h}=t,f=Ui(e,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=h==="category"&&r.bandwidth?r.bandwidth()/m:0;return g=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Rn(i[0]-i[1])*2*g:g,f&&l?l.map((y,w)=>{var N=r.map(y);return $e(N)?{coordinate:N+g,value:y,index:w,offset:g}:null}).filter(Dn):r.domain().map((y,w)=>{var N=r.map(y);return $e(N)?{coordinate:N+g,value:o?o[y]:y,index:w,offset:g}:null}).filter(Dn)}}},Vi=W([nt,Ht,pb,nk,ek,t9,n9,en],r9),vb=W([Bj,zj,f$],(e,t,n)=>qj(n.shared,e,t)),rk=e=>e.tooltip.settings.trigger,yb=e=>e.tooltip.settings.defaultIndex,Fc=W([Hs,vb,rk,yb],Kj),yo=W([Fc,Vs,Bc,qc],mb),ik=W([Vi,yo],Fj),ak=W([Fc],e=>{if(e)return e.dataKey});W([Fc],e=>{if(e)return e.graphicalItemId});var ok=W([Hs,vb,rk,yb],Jj),i9=W([Bi,zi,nt,Xt,Vi,yb,ok],Yj),a9=W([Fc,i9],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),o9=W([Fc],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),s9=W([ok,yo,Fi,Bc,ik,Wj,vb],Xj),l9=W([s9],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function RT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(n),!0).forEach(function(r){c9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c9(e,t,n){return(t=u9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u9(e){var t=d9(e,"string");return typeof t=="symbol"?t:t+""}function d9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f9=()=>Te(Ht),h9=()=>{var e=f9(),t=Te(Vi),n=Te(nk);return Ps(!e||!n?void 0:DT(DT({},e),{},{scale:n}),t)};function LT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(n),!0).forEach(function(r){m9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m9(e,t,n){return(t=p9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p9(e){var t=g9(e,"string");return typeof t=="symbol"?t:t+""}function g9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v9=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},y9=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:l}=r;return ps(ps(ps({},r),dn(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,{angle:h}=r;return ps(ps(ps({},r),dn(r.cx,r.cy,c,h)),{},{angle:h,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function x9(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var sk=(e,t,n,r,i)=>{var o,l=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var h,f,m,g,y,w=c>0?(h=n[c-1])===null||h===void 0?void 0:h.coordinate:(f=n[l-1])===null||f===void 0?void 0:f.coordinate,N=(m=n[c])===null||m===void 0?void 0:m.coordinate,A=c>=l-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(y=n[c+1])===null||y===void 0?void 0:y.coordinate,E=void 0;if(!(w==null||N==null||A==null))if(Rn(N-w)!==Rn(A-N)){var C=[];if(Rn(A-N)===Rn(i[1]-i[0])){E=A;var P=N+i[1]-i[0];C[0]=Math.min(P,(P+w)/2),C[1]=Math.max(P,(P+w)/2)}else{E=w;var O=A+i[1]-i[0];C[0]=Math.min(N,(O+N)/2),C[1]=Math.max(N,(O+N)/2)}var M=[Math.min(N,(E+N)/2),Math.max(N,(E+N)/2)];if(e>M[0]&&e<=M[1]||e>=C[0]&&e<=C[1]){var k;return(k=n[c])===null||k===void 0?void 0:k.index}}else{var I=Math.min(w,A),R=Math.max(w,A);if(e>(I+N)/2&&e<=(R+N)/2){var D;return(D=n[c])===null||D===void 0?void 0:D.index}}}else if(t)for(var z=0;z<l;z++){var X=t[z];if(X!=null){var Q=t[z+1],H=t[z-1];if(z===0&&Q!=null&&e<=(X.coordinate+Q.coordinate)/2||z===l-1&&H!=null&&e>(X.coordinate+H.coordinate)/2||z>0&&z<l-1&&H!=null&&Q!=null&&e>(X.coordinate+H.coordinate)/2&&e<=(X.coordinate+Q.coordinate)/2)return X.index}}return-1},b9=()=>Te(Xx),xb=(e,t)=>t,lk=(e,t,n)=>n,bb=(e,t,n,r)=>r,S9=W(Vi,e=>hh(e,t=>t.coordinate)),Sb=W([Hs,xb,lk,bb],Kj),wb=W([Sb,Vs,Bc,qc],mb),w9=(e,t,n)=>{if(t!=null){var r=Hs(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},ck=W([Hs,xb,lk,bb],Jj),Bf=W([Bi,zi,nt,Xt,Vi,bb,ck],Yj),A9=W([Sb,Bf],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),uk=W([Vi,wb],Fj),E9=W([ck,wb,Fi,Bc,uk,Wj,xb],Xj),_9=W([Sb,wb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),N9=(e,t,n,r,i,o,l)=>{if(!(!e||!n||!r||!i)&&x9(e,l)){var c=qz(e,t),h=sk(c,o,i,n,r),f=v9(t,i,h,e);return{activeIndex:String(h),activeCoordinate:f}}},T9=(e,t,n,r,i,o,l)=>{if(!(!e||!r||!i||!o||!n)){var c=uF(e,n);if(c){var h=Fz(c,t),f=sk(h,l,o,r,i),m=y9(t,o,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},C9=(e,t,n,r,i,o,l,c)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?N9(e,t,r,i,o,l,c):T9(e,t,n,r,i,o,l)},P9=W(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),I9=W(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Jt)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:uV}});function UT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(n),!0).forEach(function(r){M9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M9(e,t,n){return(t=O9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O9(e){var t=j9(e,"string");return typeof t=="symbol"?t:t+""}function j9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k9={},R9={zIndexMap:Object.values(Jt).reduce((e,t)=>BT(BT({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),k9)},D9=new Set(Object.values(Jt));function L9(e){return D9.has(e)}var dk=Un({name:"zIndex",initialState:R9,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:xt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!L9(n)&&delete e.zIndexMap[n])},prepare:xt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:xt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:xt()}}}),{registerZIndexPortal:U9,unregisterZIndexPortal:B9,registerZIndexPortalElement:z9,unregisterZIndexPortalElement:q9}=dk.actions,F9=dk.reducer;function wr(e){var{zIndex:t,children:n}=e,r=Sq(),i=r&&t!==void 0&&t!==0,o=gn(),l=At();_.useLayoutEffect(()=>i?(l(U9({zIndex:t})),()=>{l(B9({zIndex:t}))}):bo,[l,t,i]);var c=Te(h=>P9(h,t,o));return i?c?ex.createPortal(n,c):null:n}function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},py.apply(null,arguments)}function zT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(n),!0).forEach(function(r){H9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H9(e,t,n){return(t=G9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G9(e){var t=V9(e,"string");return typeof t=="symbol"?t:t+""}function V9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $9(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return _.isValidElement(t)?_.cloneElement(t,r):_.createElement(n,r)}function K9(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:l,layout:c,cursor:h,tooltipEventType:f,chartName:m}=e,g=n,y=r,w=i;if(!h||!g||m!=="ScatterChart"&&f!=="axis")return null;var N,A,E;if(m==="ScatterChart")N=g,A=A8,E=Jt.cursorLine;else if(m==="BarChart")N=E8(c,g,o,l),A=XM,E=Jt.cursorRectangle;else if(c==="radial"&&LI(g)){var{cx:C,cy:P,radius:O,startAngle:M,endAngle:k}=QM(g);N={cx:C,cy:P,startAngle:M,endAngle:k,innerRadius:O,outerRadius:O},A=eO,E=Jt.cursorLine}else N={points:mF(c,g,o)},A=$M,E=Jt.cursorLine;var I=typeof h=="object"&&"className"in h?h.className:void 0,R=Ad(Ad(Ad(Ad({stroke:"#ccc",pointerEvents:"none"},o),N),Nc(h)),{},{payload:y,payloadIndex:w,className:tt("recharts-tooltip-cursor",I)});return _.createElement(wr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},_.createElement($9,{cursor:h,cursorComp:A,cursorProps:R}))}function Y9(e){var t=h9(),n=kM(),r=So(),i=b9();return t==null||n==null||r==null||i==null?null:_.createElement(K9,py({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var fk=_.createContext(null),J9=()=>_.useContext(fk),Yv={exports:{}},qT;function W9(){return qT||(qT=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(h,f,m){this.fn=h,this.context=f,this.once=m||!1}function o(h,f,m,g,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var w=new i(m,g||h,y),N=n?n+f:f;return h._events[N]?h._events[N].fn?h._events[N]=[h._events[N],w]:h._events[N].push(w):(h._events[N]=w,h._eventsCount++),h}function l(h,f){--h._eventsCount===0?h._events=new r:delete h._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,g;if(this._eventsCount===0)return f;for(g in m=this._events)t.call(m,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,w=g.length,N=new Array(w);y<w;y++)N[y]=g[y].fn;return N},c.prototype.listenerCount=function(f){var m=n?n+f:f,g=this._events[m];return g?g.fn?1:g.length:0},c.prototype.emit=function(f,m,g,y,w,N){var A=n?n+f:f;if(!this._events[A])return!1;var E=this._events[A],C=arguments.length,P,O;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),C){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,m),!0;case 3:return E.fn.call(E.context,m,g),!0;case 4:return E.fn.call(E.context,m,g,y),!0;case 5:return E.fn.call(E.context,m,g,y,w),!0;case 6:return E.fn.call(E.context,m,g,y,w,N),!0}for(O=1,P=new Array(C-1);O<C;O++)P[O-1]=arguments[O];E.fn.apply(E.context,P)}else{var M=E.length,k;for(O=0;O<M;O++)switch(E[O].once&&this.removeListener(f,E[O].fn,void 0,!0),C){case 1:E[O].fn.call(E[O].context);break;case 2:E[O].fn.call(E[O].context,m);break;case 3:E[O].fn.call(E[O].context,m,g);break;case 4:E[O].fn.call(E[O].context,m,g,y);break;default:if(!P)for(k=1,P=new Array(C-1);k<C;k++)P[k-1]=arguments[k];E[O].fn.apply(E[O].context,P)}}return!0},c.prototype.on=function(f,m,g){return o(this,f,m,g,!1)},c.prototype.once=function(f,m,g){return o(this,f,m,g,!0)},c.prototype.removeListener=function(f,m,g,y){var w=n?n+f:f;if(!this._events[w])return this;if(!m)return l(this,w),this;var N=this._events[w];if(N.fn)N.fn===m&&(!y||N.once)&&(!g||N.context===g)&&l(this,w);else{for(var A=0,E=[],C=N.length;A<C;A++)(N[A].fn!==m||y&&!N[A].once||g&&N[A].context!==g)&&E.push(N[A]);E.length?this._events[w]=E.length===1?E[0]:E:l(this,w)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(Yv)),Yv.exports}var X9=W9();const Q9=Lr(X9);var wc=new Q9,gy="recharts.syncEvent.tooltip",FT="recharts.syncEvent.brush",hk=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!Zr(n))return e[n]}},Z9={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},mk=Un({name:"options",initialState:Z9,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),e7=mk.reducer,{createEventEmitter:t7}=mk.actions;function n7(e){return e.tooltip.syncInteraction}var r7={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},pk=Un({name:"chartData",initialState:r7,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:HT,setDataStartEndIndexes:i7,setComputedData:Bse}=pk.actions,a7=pk.reducer,o7=["x","y"];function GT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(n),!0).forEach(function(r){s7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s7(e,t,n){return(t=l7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l7(e){var t=c7(e,"string");return typeof t=="symbol"?t:t+""}function c7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u7(e,t){if(e==null)return{};var n,r,i=d7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function f7(){var e=Te(Qx),t=Te(Zx),n=At(),r=Te(WO),i=Te(Vi),o=So(),l=Ch(),c=Te(h=>h.rootProps.className);_.useEffect(()=>{if(e==null)return bo;var h=(f,m,g)=>{if(t!==g&&e===f){if(r==="index"){var y;if(l&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate&&m.payload.sourceViewBox){var w=m.payload.coordinate,{x:N,y:A}=w,E=u7(w,o7),{x:C,y:P,width:O,height:M}=m.payload.sourceViewBox,k=gs(gs({},E),{},{x:l.x+(O?(N-C)/O:0)*l.width,y:l.y+(M?(A-P)/M:0)*l.height});n(gs(gs({},m),{},{payload:gs(gs({},m.payload),{},{coordinate:k})}))}else n(m);return}if(i!=null){var I;if(typeof r=="function"){var R={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},D=r(i,R);I=i[D]}else r==="value"&&(I=i.find(q=>String(q.value)===m.payload.label));var{coordinate:z}=m.payload;if(I==null||m.payload.active===!1||z==null||l==null){n(hy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:X,y:Q}=z,H=Math.min(X,l.x+l.width),fe=Math.min(Q,l.y+l.height),ae={x:o==="horizontal"?I.coordinate:H,y:o==="horizontal"?fe:I.coordinate},$=hy({active:m.payload.active,coordinate:ae,dataKey:m.payload.dataKey,index:String(I.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n($)}}};return wc.on(gy,h),()=>{wc.off(gy,h)}},[c,n,t,e,r,i,o,l])}function h7(){var e=Te(Qx),t=Te(Zx),n=At();_.useEffect(()=>{if(e==null)return bo;var r=(i,o,l)=>{t!==l&&e===i&&n(i7(o))};return wc.on(FT,r),()=>{wc.off(FT,r)}},[n,t,e])}function m7(){var e=At();_.useEffect(()=>{e(t7())},[e]),f7(),h7()}function p7(e,t,n,r,i,o){var l=Te(w=>w9(w,e,t)),c=Te(Zx),h=Te(Qx),f=Te(WO),m=Te(n7),g=m==null?void 0:m.active,y=Ch();_.useEffect(()=>{if(!g&&h!=null&&c!=null){var w=hy({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});wc.emit(gy,h,w,c)}},[g,n,l,i,r,c,h,f,o,y])}function VT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $T(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(n),!0).forEach(function(r){g7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g7(e,t,n){return(t=v7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v7(e){var t=y7(e,"string");return typeof t=="symbol"?t:t+""}function y7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x7(e){return e.dataKey}function b7(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(n8,t)}var KT=[],S7={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function vy(e){var t,n,r=fn(e,S7),{active:i,allowEscapeViewBox:o,animationDuration:l,animationEasing:c,content:h,filterNull:f,isAnimationActive:m,offset:g,payloadUniqBy:y,position:w,reverseDirection:N,useTranslate3d:A,wrapperStyle:E,cursor:C,shared:P,trigger:O,defaultIndex:M,portal:k,axisId:I}=r,R=At(),D=typeof M=="number"?String(M):M;_.useEffect(()=>{R(v$({shared:P,trigger:O,axisId:I,active:i,defaultIndex:D}))},[R,P,O,I,i,D]);var z=Ch(),X=VM(),Q=d$(P),{activeIndex:H,isActive:fe}=(t=Te(me=>_9(me,Q,O,D)))!==null&&t!==void 0?t:{},ae=Te(me=>E9(me,Q,O,D)),$=Te(me=>uk(me,Q,O,D)),q=Te(me=>A9(me,Q,O,D)),V=ae,ne=J9(),re=(n=i??fe)!==null&&n!==void 0?n:!1,[he,L]=XI([V,re]),U=Q==="axis"?$:void 0;p7(Q,O,q,U,H,re);var se=k??ne;if(se==null||z==null||Q==null)return null;var te=V??KT;re||(te=KT),f&&te.length&&(te=$I(te.filter(me=>me.value!=null&&(me.hide!==!0||r.includeHidden)),y,x7));var Ae=te.length>0,_e=_.createElement(c8,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:re,coordinate:q,hasPayload:Ae,offset:g,position:w,reverseDirection:N,useTranslate3d:A,viewBox:z,wrapperStyle:E,lastBoundingBox:he,innerRef:L,hasPortalFromProps:!!k},b7(h,$T($T({},r),{},{payload:te,label:U,active:re,activeIndex:H,coordinate:q,accessibilityLayer:X})));return _.createElement(_.Fragment,null,ex.createPortal(_e,se),re&&_.createElement(Y9,{cursor:C,tooltipEventType:Q,coordinate:q,payload:te,index:H}))}var gk=e=>null;gk.displayName="Cell";function w7(e,t,n){return(t=A7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A7(e){var t=E7(e,"string");return typeof t=="symbol"?t:t+""}function E7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _7{constructor(t){w7(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(n),!0).forEach(function(r){T7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T7(e,t,n){return(t=C7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I7={cacheSize:2e3,enableCache:!0},vk=N7({},I7),JT=new _7(vk.cacheSize),M7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WT="recharts_measurement_span";function O7(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(c)}var XT=(e,t)=>{try{var n=document.getElementById(WT);n||(n=document.createElement("span"),n.setAttribute("id",WT),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,M7,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},sc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Oh.isSsr)return{width:0,height:0};if(!vk.enableCache)return XT(t,n);var r=O7(t,n),i=JT.get(r);if(i)return i;var o=XT(t,n);return JT.set(r,o),o},yk;function j7(e,t,n){return(t=k7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k7(e){var t=R7(e,"string");return typeof t=="symbol"?t:t+""}function R7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,D7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,L7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,U7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},B7=["cm","mm","pt","pc","in","Q","px"];function z7(e){return B7.includes(e)}var bs="NaN";function q7(e,t){return e*U7[t]}class un{static parse(t){var n,[,r,i]=(n=L7.exec(t))!==null&&n!==void 0?n:[];return r==null?un.NaN:new un(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Zr(t)&&(this.unit=""),n!==""&&!D7.test(n)&&(this.num=NaN,this.unit=""),z7(n)&&(this.num=q7(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new un(NaN,""):new un(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new un(NaN,""):new un(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new un(NaN,""):new un(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new un(NaN,""):new un(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Zr(this.num)}}yk=un;j7(un,"NaN",new yk(NaN,""));function xk(e){if(e==null||e.includes(bs))return bs;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=QT.exec(t))!==null&&n!==void 0?n:[],l=un.parse(r??""),c=un.parse(o??""),h=i==="*"?l.multiply(c):l.divide(c);if(h.isNaN())return bs;t=t.replace(QT,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,g,y]=(f=ZT.exec(t))!==null&&f!==void 0?f:[],w=un.parse(m??""),N=un.parse(y??""),A=g==="+"?w.add(N):w.subtract(N);if(A.isNaN())return bs;t=t.replace(ZT,A.toString())}return t}var eC=/\(([^()]*)\)/;function F7(e){for(var t=e,n;(n=eC.exec(t))!=null;){var[,r]=n;t=t.replace(eC,xk(r))}return t}function H7(e){var t=e.replace(/\s+/g,"");return t=F7(t),t=xk(t),t}function G7(e){try{return H7(e)}catch{return bs}}function Jv(e){var t=G7(e.slice(5,-1));return t===bs?"":t}var V7=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],$7=["dx","dy","angle","className","breakAll"];function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yy.apply(null,arguments)}function tC(e,t){if(e==null)return{};var n,r,i=K7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function K7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bk=/[ \f\n\r\t\v\u2028\u2029]+/,Sk=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];wt(t)||(n?i=t.toString().split(""):i=t.toString().split(bk));var o=i.map(c=>({word:c,width:sc(c,r).width})),l=n?0:sc("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function Y7(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var wk=(e,t,n,r)=>e.reduce((i,o)=>{var{word:l,width:c}=o,h=i[i.length-1];if(h&&c!=null&&(t==null||r||h.width+c+n<Number(t)))h.words.push(l),h.width+=c+n;else{var f={words:[l],width:c};i.push(f)}return i},[]),Ak=e=>e.reduce((t,n)=>t.width>n.width?t:n),J7="",nC=(e,t,n,r,i,o,l,c)=>{var h=e.slice(0,t),f=Sk({breakAll:n,style:r,children:h+J7});if(!f)return[!1,[]];var m=wk(f.wordsWithComputedWidth,o,l,c),g=m.length>i||Ak(m).width>Number(o);return[g,m]},W7=(e,t,n,r,i)=>{var{maxLines:o,children:l,style:c,breakAll:h}=e,f=Se(o),m=String(l),g=wk(t,r,n,i);if(!f||i)return g;var y=g.length>o||Ak(g).width>Number(r);if(!y)return g;for(var w=0,N=m.length-1,A=0,E;w<=N&&A<=m.length-1;){var C=Math.floor((w+N)/2),P=C-1,[O,M]=nC(m,P,h,c,o,r,n,i),[k]=nC(m,C,h,c,o,r,n,i);if(!O&&!k&&(w=C+1),O&&k&&(N=C-1),!O&&k){E=M;break}A++}return E||g},rC=e=>{var t=wt(e)?[]:e.toString().split(bk);return[{words:t,width:void 0}]},X7=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=e;if((t||n)&&!Oh.isSsr){var c,h,f=Sk({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:g}=f;c=m,h=g}else return rC(r);return W7({breakAll:o,children:r,maxLines:l,style:i},c,h,t,!!n)}return rC(r)},Ek="#808080",Q7={angle:0,breakAll:!1,capHeight:"0.71em",fill:Ek,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ab=_.forwardRef((e,t)=>{var n=fn(e,Q7),{x:r,y:i,lineHeight:o,capHeight:l,fill:c,scaleToFit:h,textAnchor:f,verticalAnchor:m}=n,g=tC(n,V7),y=_.useMemo(()=>X7({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:h,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,h,g.style,g.width]),{dx:w,dy:N,angle:A,className:E,breakAll:C}=g,P=tC(g,$7);if(!ei(r)||!ei(i)||y.length===0)return null;var O=Number(r)+(Se(w)?w:0),M=Number(i)+(Se(N)?N:0);if(!$e(O)||!$e(M))return null;var k;switch(m){case"start":k=Jv("calc(".concat(l,")"));break;case"middle":k=Jv("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:k=Jv("calc(".concat(y.length-1," * -").concat(o,")"));break}var I=[],R=y[0];if(h&&R!=null){var D=R.width,{width:z}=g;I.push("scale(".concat(Se(z)&&Se(D)?z/D:1,")"))}return A&&I.push("rotate(".concat(A,", ").concat(O,", ").concat(M,")")),I.length&&(P.transform=I.join(" ")),_.createElement("text",yy({},wn(P),{ref:t,x:O,y:M,className:tt("recharts-text",E),textAnchor:f,fill:c.includes("url")?Ek:c}),y.map((X,Q)=>{var H=X.words.join(C?"":" ");return _.createElement("tspan",{x:O,dy:Q===0?k:o,key:"".concat(H,"-").concat(Q)},H)}))});Ab.displayName="Text";function iC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(n),!0).forEach(function(r){Z7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z7(e,t,n){return(t=eK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eK(e){var t=tK(e,"string");return typeof t=="symbol"?t:t+""}function tK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nK=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:o,y:l,height:c,upperWidth:h,lowerWidth:f}=bx(t),m=o,g=o+(h-f)/2,y=(m+g)/2,w=(h+f)/2,N=m+h/2,A=c>=0?1:-1,E=A*r,C=A>0?"end":"start",P=A>0?"start":"end",O=h>=0?1:-1,M=O*r,k=O>0?"end":"start",I=O>0?"start":"end",R=i;if(n==="top"){var D={x:m+h/2,y:l-E,horizontalAnchor:"middle",verticalAnchor:C};return R&&(D.height=Math.max(l-R.y,0),D.width=h),D}if(n==="bottom"){var z={x:g+f/2,y:l+c+E,horizontalAnchor:"middle",verticalAnchor:P};return R&&(z.height=Math.max(R.y+R.height-(l+c),0),z.width=f),z}if(n==="left"){var X={x:y-M,y:l+c/2,horizontalAnchor:k,verticalAnchor:"middle"};return R&&(X.width=Math.max(X.x-R.x,0),X.height=c),X}if(n==="right"){var Q={x:y+w+M,y:l+c/2,horizontalAnchor:I,verticalAnchor:"middle"};return R&&(Q.width=Math.max(R.x+R.width-Q.x,0),Q.height=c),Q}var H=R?{width:w,height:c}:{};return n==="insideLeft"?$r({x:y+M,y:l+c/2,horizontalAnchor:I,verticalAnchor:"middle"},H):n==="insideRight"?$r({x:y+w-M,y:l+c/2,horizontalAnchor:k,verticalAnchor:"middle"},H):n==="insideTop"?$r({x:m+h/2,y:l+E,horizontalAnchor:"middle",verticalAnchor:P},H):n==="insideBottom"?$r({x:g+f/2,y:l+c-E,horizontalAnchor:"middle",verticalAnchor:C},H):n==="insideTopLeft"?$r({x:m+M,y:l+E,horizontalAnchor:I,verticalAnchor:P},H):n==="insideTopRight"?$r({x:m+h-M,y:l+E,horizontalAnchor:k,verticalAnchor:P},H):n==="insideBottomLeft"?$r({x:g+M,y:l+c-E,horizontalAnchor:I,verticalAnchor:C},H):n==="insideBottomRight"?$r({x:g+f-M,y:l+c-E,horizontalAnchor:k,verticalAnchor:C},H):n&&typeof n=="object"&&(Se(n.x)||ho(n.x))&&(Se(n.y)||ho(n.y))?$r({x:o+Rr(n.x,w),y:l+Rr(n.y,c),horizontalAnchor:"end",verticalAnchor:"end"},H):$r({x:N,y:l+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},H)},rK=["labelRef"],iK=["content"];function aC(e,t){if(e==null)return{};var n,r,i=aK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ic(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(n),!0).forEach(function(r){oK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oK(e,t,n){return(t=sK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sK(e){var t=lK(e,"string");return typeof t=="symbol"?t:t+""}function lK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ei.apply(null,arguments)}var _k=_.createContext(null),cK=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l,children:c}=e,h=_.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l}),[t,n,r,i,o,l]);return _.createElement(_k.Provider,{value:h},c)},Nk=()=>{var e=_.useContext(_k),t=Ch();return e||(t?bx(t):void 0)},uK=_.createContext(null),dK=()=>{var e=_.useContext(uK),t=Te(tj);return e||t},fK=e=>{var{value:t,formatter:n}=e,r=wt(e.children)?t:e.children;return typeof n=="function"?n(r):r},Eb=e=>e!=null&&typeof e=="function",hK=(e,t)=>{var n=Rn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},mK=(e,t,n,r,i)=>{var{offset:o,className:l}=e,{cx:c,cy:h,innerRadius:f,outerRadius:m,startAngle:g,endAngle:y,clockWise:w}=i,N=(f+m)/2,A=hK(g,y),E=A>=0?1:-1,C,P;switch(t){case"insideStart":C=g+E*o,P=w;break;case"insideEnd":C=y-E*o,P=!w;break;case"end":C=y+E*o,P=w;break;default:throw new Error("Unsupported position ".concat(t))}P=A<=0?P:!P;var O=dn(c,h,N,C),M=dn(c,h,N,C+(P?1:-1)*359),k="M".concat(O.x,",").concat(O.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(P?0:1,`,
    `).concat(M.x,",").concat(M.y),I=wt(e.id)?cc("recharts-radial-line-"):e.id;return _.createElement("text",Ei({},r,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",l)}),_.createElement("defs",null,_.createElement("path",{id:I,d:k})),_.createElement("textPath",{xlinkHref:"#".concat(I)},n))},pK=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:c,endAngle:h}=e,f=(c+h)/2;if(n==="outside"){var{x:m,y:g}=dn(r,i,l+t,f);return{x:m,y:g,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(o+l)/2,{x:w,y:N}=dn(r,i,y,f);return{x:w,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Ud=e=>e!=null&&"cx"in e&&Se(e.cx),gK={angle:0,offset:5,zIndex:Jt.label,position:"middle",textBreakAll:!1};function vK(e){if(!Ud(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function ba(e){var t=fn(e,gK),{viewBox:n,parentViewBox:r,position:i,value:o,children:l,content:c,className:h="",textBreakAll:f,labelRef:m}=t,g=dK(),y=Nk(),w=i==="center"?y:g??y,N,A,E;n==null?N=w:Ud(n)?N=n:N=bx(n);var C=vK(N);if(!N||wt(o)&&wt(l)&&!_.isValidElement(c)&&typeof c!="function")return null;var P=ic(ic({},t),{},{viewBox:N});if(_.isValidElement(c)){var{labelRef:O}=P,M=aC(P,rK);return _.cloneElement(c,M)}if(typeof c=="function"){var{content:k}=P,I=aC(P,iK);if(A=_.createElement(c,I),_.isValidElement(A))return A}else A=fK(t);var R=wn(t);if(Ud(N)){if(i==="insideStart"||i==="insideEnd"||i==="end")return mK(t,i,A,R,N);E=pK(N,t.offset,t.position)}else{if(!C)return null;var D=nK({viewBox:C,position:i,offset:t.offset,parentViewBox:Ud(r)?void 0:r});E=ic(ic({x:D.x,y:D.y,textAnchor:D.horizontalAnchor,verticalAnchor:D.verticalAnchor},D.width!==void 0?{width:D.width}:{}),D.height!==void 0?{height:D.height}:{})}return _.createElement(wr,{zIndex:t.zIndex},_.createElement(Ab,Ei({ref:m,className:tt("recharts-label",h)},R,E,{textAnchor:Y7(R.textAnchor)?R.textAnchor:E.textAnchor,breakAll:f}),A))}ba.displayName="Label";var yK=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?_.createElement(ba,Ei({key:"label-implicit"},r)):ei(e)?_.createElement(ba,Ei({key:"label-implicit",value:e},r)):_.isValidElement(e)?e.type===ba?_.cloneElement(e,ic({key:"label-implicit"},r)):_.createElement(ba,Ei({key:"label-implicit",content:e},r)):Eb(e)?_.createElement(ba,Ei({key:"label-implicit",content:e},r)):e&&typeof e=="object"?_.createElement(ba,Ei({},e,{key:"label-implicit"},r)):null};function xK(e){var{label:t,labelRef:n}=e,r=Nk();return yK(t,r,n)||null}var Wv={},Xv={},sC;function bK(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Xv)),Xv}var Qv={},lC;function SK(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Qv)),Qv}var cC;function wK(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bK(),n=SK(),r=cx();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(Wv)),Wv}var Zv,uC;function AK(){return uC||(uC=1,Zv=wK().last),Zv}var EK=AK();const _K=Lr(EK);var NK=["valueAccessor"],TK=["dataKey","clockWise","id","textBreakAll","zIndex"];function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zf.apply(null,arguments)}function dC(e,t){if(e==null)return{};var n,r,i=CK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var PK=e=>Array.isArray(e.value)?_K(e.value):e.value,Tk=_.createContext(void 0),Ck=Tk.Provider,Pk=_.createContext(void 0);Pk.Provider;function IK(){return _.useContext(Tk)}function MK(){return _.useContext(Pk)}function Bd(e){var{valueAccessor:t=PK}=e,n=dC(e,NK),{dataKey:r,clockWise:i,id:o,textBreakAll:l,zIndex:c}=n,h=dC(n,TK),f=IK(),m=MK(),g=f||m;return!g||!g.length?null:_.createElement(wr,{zIndex:c??Jt.label},_.createElement(vr,{className:"recharts-label-list"},g.map((y,w)=>{var N,A=wt(r)?t(y,w):Ut(y.payload,r),E=wt(o)?{}:{id:"".concat(o,"-").concat(w)};return _.createElement(ba,zf({key:"label-".concat(w)},wn(y),h,E,{fill:(N=n.fill)!==null&&N!==void 0?N:y.fill,parentViewBox:y.parentViewBox,value:A,textBreakAll:l,viewBox:y.viewBox,index:w,zIndex:0}))})))}Bd.displayName="LabelList";function Ik(e){var{label:t}=e;return t?t===!0?_.createElement(Bd,{key:"labelList-implicit"}):_.isValidElement(t)||Eb(t)?_.createElement(Bd,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(Bd,zf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xy.apply(null,arguments)}var Mk=e=>{var{cx:t,cy:n,r,className:i}=e,o=tt("recharts-dot",i);return Se(t)&&Se(n)&&Se(r)?_.createElement("circle",xy({},kr(e),lx(e),{className:o,cx:t,cy:n,r})):null},OK={radiusAxis:{},angleAxis:{}},Ok=Un({name:"polarAxis",initialState:OK,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:zse,removeRadiusAxis:qse,addAngleAxis:Fse,removeAngleAxis:Hse}=Ok.actions,jK=Ok.reducer;function kK(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var e0={exports:{}},ot={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC;function RK(){if(fC)return ot;fC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function N(A){if(typeof A=="object"&&A!==null){var E=A.$$typeof;switch(E){case e:switch(A=A.type,A){case n:case i:case r:case h:case f:case y:return A;default:switch(A=A&&A.$$typeof,A){case l:case c:case g:case m:return A;case o:return A;default:return E}}case t:return E}}}return ot.ContextConsumer=o,ot.ContextProvider=l,ot.Element=e,ot.ForwardRef=c,ot.Fragment=n,ot.Lazy=g,ot.Memo=m,ot.Portal=t,ot.Profiler=i,ot.StrictMode=r,ot.Suspense=h,ot.SuspenseList=f,ot.isContextConsumer=function(A){return N(A)===o},ot.isContextProvider=function(A){return N(A)===l},ot.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},ot.isForwardRef=function(A){return N(A)===c},ot.isFragment=function(A){return N(A)===n},ot.isLazy=function(A){return N(A)===g},ot.isMemo=function(A){return N(A)===m},ot.isPortal=function(A){return N(A)===t},ot.isProfiler=function(A){return N(A)===i},ot.isStrictMode=function(A){return N(A)===r},ot.isSuspense=function(A){return N(A)===h},ot.isSuspenseList=function(A){return N(A)===f},ot.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===i||A===r||A===h||A===f||typeof A=="object"&&A!==null&&(A.$$typeof===g||A.$$typeof===m||A.$$typeof===l||A.$$typeof===o||A.$$typeof===c||A.$$typeof===w||A.getModuleId!==void 0)},ot.typeOf=N,ot}var hC;function DK(){return hC||(hC=1,e0.exports=RK()),e0.exports}var LK=DK(),mC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",pC=null,t0=null,jk=e=>{if(e===pC&&Array.isArray(t0))return t0;var t=[];return _.Children.forEach(e,n=>{wt(n)||(LK.isFragment(n)?t=t.concat(jk(n.props.children)):t.push(n))}),t0=t,pC=e,t};function UK(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>mC(i)):r=[mC(t)],jk(e).forEach(i=>{var o=Ts(i,"type.displayName")||Ts(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var kk=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,n0={},gC;function BK(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(n0)),n0}var r0,vC;function zK(){return vC||(vC=1,r0=BK().isPlainObject),r0}var qK=zK();const FK=Lr(qK);var yC,xC,bC,SC,wC;function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(n),!0).forEach(function(r){HK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HK(e,t,n){return(t=GK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GK(e){var t=VK(e,"string");return typeof t=="symbol"?t:t+""}function VK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qf.apply(null,arguments)}function Xl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _C=(e,t,n,r,i)=>{var o=n-r,l;return l=Tt(yC||(yC=Xl(["M ",",",""])),e,t),l+=Tt(xC||(xC=Xl(["L ",",",""])),e+n,t),l+=Tt(bC||(bC=Xl(["L ",",",""])),e+n-o/2,t+i),l+=Tt(SC||(SC=Xl(["L ",",",""])),e+n-o/2-r,t+i),l+=Tt(wC||(wC=Xl(["L ",","," Z"])),e,t),l},$K={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KK=e=>{var t=fn(e,$K),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:c}=t,{animationEasing:h,animationDuration:f,animationBegin:m,isUpdateAnimationActive:g}=t,y=_.useRef(null),[w,N]=_.useState(-1),A=_.useRef(i),E=_.useRef(o),C=_.useRef(l),P=_.useRef(n),O=_.useRef(r),M=kh(e,"trapezoid-");if(_.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var ae=y.current.getTotalLength();ae&&N(ae)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var k=tt("recharts-trapezoid",c);if(!g)return _.createElement("g",null,_.createElement("path",qf({},wn(t),{className:k,d:_C(n,r,i,o,l)})));var I=A.current,R=E.current,D=C.current,z=P.current,X=O.current,Q="0px ".concat(w===-1?1:w,"px"),H="".concat(w,"px 0px"),fe=KM(["strokeDasharray"],f,h);return _.createElement(jh,{animationId:M,key:M,canBegin:w>0,duration:f,easing:h,isActive:g,begin:m},ae=>{var $=Ct(I,i,ae),q=Ct(R,o,ae),V=Ct(D,l,ae),ne=Ct(z,n,ae),re=Ct(X,r,ae);y.current&&(A.current=$,E.current=q,C.current=V,P.current=ne,O.current=re);var he=ae>0?{transition:fe,strokeDasharray:H}:{strokeDasharray:Q};return _.createElement("path",qf({},wn(t),{className:k,d:_C(ne,re,$,q,V),ref:y,style:EC(EC({},he),t.style)}))})},YK=["option","shapeType","activeClassName"];function JK(e,t){if(e==null)return{};var n,r,i=WK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function NC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ff(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(n),!0).forEach(function(r){XK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XK(e,t,n){return(t=QK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eY(e,t){return Ff(Ff({},t),e)}function tY(e,t){return e==="symbols"}function TC(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return _.createElement(XM,n);case"trapezoid":return _.createElement(KK,n);case"sector":return _.createElement(eO,n);case"symbols":if(tY(t))return _.createElement(sx,n);break;case"curve":return _.createElement($M,n);default:return null}}function nY(e){return _.isValidElement(e)?e.props:e}function Rk(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=JK(e,YK),o;if(_.isValidElement(t))o=_.cloneElement(t,Ff(Ff({},i),nY(t)));else if(typeof t=="function")o=t(i,i.index);else if(FK(t)&&typeof t!="boolean"){var l=eY(t,i);o=_.createElement(TC,{shapeType:n,elementProps:l})}else{var c=i;o=_.createElement(TC,{shapeType:n,elementProps:c})}return i.isActive?_.createElement(vr,{className:r},o):o}var Dk=(e,t,n)=>{var r=At();return(i,o)=>l=>{e==null||e(i,o,l),r(Gj({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Lk=e=>{var t=At();return(n,r)=>i=>{e==null||e(n,r,i),t(y$())}},Uk=(e,t,n)=>{var r=At();return(i,o)=>l=>{e==null||e(i,o,l),r(x$({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Bk(e){var{tooltipEntrySettings:t}=e,n=At(),r=gn(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(m$(t)):i.current!==t&&n(p$({prev:i.current,next:t})),i.current=t)},[t,n,r]),_.useLayoutEffect(()=>()=>{i.current&&(n(g$(i.current)),i.current=null)},[n]),null}function zk(e){var{legendPayload:t}=e,n=At(),r=gn(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(Rq(t)):i.current!==t&&n(Dq({prev:i.current,next:t})),i.current=t)},[n,r,t]),_.useLayoutEffect(()=>()=>{i.current&&(n(Lq(i.current)),i.current=null)},[n]),null}var i0,rY=()=>{var[e]=_.useState(()=>cc("uid-"));return e},iY=(i0=QL.useId)!==null&&i0!==void 0?i0:rY;function aY(e,t){var n=iY();return t||(e?"".concat(e,"-").concat(n):n)}var oY=_.createContext(void 0),qk=e=>{var{id:t,type:n,children:r}=e,i=aY("recharts-".concat(n),t);return _.createElement(oY.Provider,{value:i},r(i))},sY={cartesianItems:[],polarItems:[]},Fk=Un({name:"graphicalItems",initialState:sY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:xt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Mr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:xt()},removeCartesianGraphicalItem:{reducer(e,t){var n=Mr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:xt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:xt()},removePolarGraphicalItem:{reducer(e,t){var n=Mr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:xt()}}}),{addCartesianGraphicalItem:lY,replaceCartesianGraphicalItem:cY,removeCartesianGraphicalItem:uY,addPolarGraphicalItem:Gse,removePolarGraphicalItem:Vse}=Fk.actions,dY=Fk.reducer,fY=e=>{var t=At(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(lY(e)):n.current!==e&&t(cY({prev:n.current,next:e})),n.current=e},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(t(uY(n.current)),n.current=null)},[t]),null},Hk=_.memo(fY),hY=["points"];function CC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(n),!0).forEach(function(r){mY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mY(e,t,n){return(t=pY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pY(e){var t=gY(e,"string");return typeof t=="symbol"?t:t+""}function gY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hf.apply(null,arguments)}function vY(e,t){if(e==null)return{};var n,r,i=yY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xY(e){var{option:t,dotProps:n,className:r}=e;if(_.isValidElement(t))return _.cloneElement(t,n);if(typeof t=="function")return t(n);var i=tt(r,typeof t!="boolean"?t.className:""),o=n??{},{points:l}=o,c=vY(o,hY);return _.createElement(Mk,Hf({},c,{className:i}))}function bY(e,t){return e==null?!1:t?!0:e.length===1}function SY(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:l,needClip:c,clipPathId:h,zIndex:f=Jt.scatter}=e;if(!bY(t,n))return null;var m=kk(n),g=g6(n),y=t.map((N,A)=>{var E,C,P=a0(a0(a0({r:3},l),g),{},{index:A,cx:(E=N.x)!==null&&E!==void 0?E:void 0,cy:(C=N.y)!==null&&C!==void 0?C:void 0,dataKey:o,value:N.value,payload:N.payload,points:t});return _.createElement(xY,{key:"dot-".concat(A),option:n,dotProps:P,className:i})}),w={};return c&&h!=null&&(w.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(h,")")),_.createElement(wr,{zIndex:f},_.createElement(vr,Hf({className:r},w),y))}function PC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(n),!0).forEach(function(r){wY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wY(e,t,n){return(t=AY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AY(e){var t=EY(e,"string");return typeof t=="symbol"?t:t+""}function EY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gk=0,_Y={xAxis:{},yAxis:{},zAxis:{}},Vk=Un({name:"cartesianAxis",initialState:_Y,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:xt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:xt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:xt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:xt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:xt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:xt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:xt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:xt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:xt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==i.width&&Math.abs(r-((o=l[0])!==null&&o!==void 0?o:0))<=1)return;var c=[...l,r].slice(-3);e.yAxis[n]=IC(IC({},i),{},{width:r,widthHistory:c})}}}}),{addXAxis:NY,replaceXAxis:TY,removeXAxis:CY,addYAxis:PY,replaceYAxis:IY,removeYAxis:MY,addZAxis:$se,replaceZAxis:Kse,removeZAxis:Yse,updateYAxisWidth:OY}=Vk.actions,jY=Vk.reducer,kY=W([Xt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),RY=W([kY,Bi,zi],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),_b=()=>Te(RY),DY=()=>Te(l9);function MC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function o0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(n),!0).forEach(function(r){LY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LY(e,t,n){return(t=UY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UY(e){var t=BY(e,"string");return typeof t=="symbol"?t:t+""}function BY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zY=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var c={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},h=o0(o0(o0({},c),Nc(i)),lx(i)),f;return _.isValidElement(i)?f=_.cloneElement(i,h):typeof i=="function"?f=i(h):f=_.createElement(Mk,h),_.createElement(vr,{className:"recharts-active-dot",clipPath:l},f)};function qY(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:l=Jt.activeDot}=e,c=Te(yo),h=DY();if(t==null||h==null)return null;var f=t.find(m=>h.includes(m.payload));return wt(f)?null:_.createElement(wr,{zIndex:l},_.createElement(zY,{point:f,childIndex:Number(c),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var OC=(e,t,n)=>{var r=n??e;if(!wt(r))return Rr(r,t,0)},FY=(e,t,n)=>{var r={},i=e.filter($h),o=e.filter(f=>f.stackId==null),l=i.reduce((f,m)=>{var g=f[m.stackId];return g==null&&(g=[]),g.push(m),f[m.stackId]=g,f},r),c=Object.entries(l).map(f=>{var m,[g,y]=f,w=y.map(A=>A.dataKey),N=OC(t,n,(m=y[0])===null||m===void 0?void 0:m.barSize);return{stackId:g,dataKeys:w,barSize:N}}),h=o.map(f=>{var m=[f.dataKey].filter(y=>y!=null),g=OC(t,n,f.barSize);return{stackId:void 0,dataKeys:m,barSize:g}});return[...c,...h]};function jC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ed(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(n),!0).forEach(function(r){HY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HY(e,t,n){return(t=GY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GY(e){var t=VY(e,"string");return typeof t=="symbol"?t:t+""}function VY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Y(e,t,n,r,i){var o,l=r.length;if(!(l<1)){var c=Rr(e,n,0,!0),h,f=[];if($e((o=r[0])===null||o===void 0?void 0:o.barSize)){var m=!1,g=n/l,y=r.reduce((P,O)=>P+(O.barSize||0),0);y+=(l-1)*c,y>=n&&(y-=(l-1)*c,c=0),y>=n&&g>0&&(m=!0,g*=.9,y=l*g);var w=(n-y)/2>>0,N={offset:w-c,size:0};h=r.reduce((P,O)=>{var M,k={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:N.offset+N.size+c,size:m?g:(M=O.barSize)!==null&&M!==void 0?M:0}},I=[...P,k];return N=k.position,I},f)}else{var A=Rr(t,n,0,!0);n-2*A-(l-1)*c<=0&&(c=0);var E=(n-2*A-(l-1)*c)/l;E>1&&(E>>=0);var C=$e(i)?Math.min(E,i):E;h=r.reduce((P,O,M)=>[...P,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:A+(E+c)*M+(E-C)/2,size:C}}],f)}return h}}var KY=(e,t,n,r,i,o,l)=>{var c=wt(l)?t:l,h=$Y(n,r,i!==o?i:o,e,c);return i!==o&&h!=null&&(h=h.map(f=>Ed(Ed({},f),{},{position:Ed(Ed({},f.position),{},{offset:f.position.offset-i/2})}))),h},YY=(e,t)=>{var n=rb(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(l=>l.key===n)}}}},JY=(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}};function WY(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&$e(e.zIndex)?e.zIndex:t}var XY=e=>{var{chartData:t}=e,n=At(),r=gn();return _.useEffect(()=>r?()=>{}:(n(HT(t)),()=>{n(HT(void 0))}),[t,n,r]),null},kC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},$k=Un({name:"brush",initialState:kC,reducers:{setBrushSettings(e,t){return t.payload==null?kC:t.payload}}}),{setBrushSettings:Jse}=$k.actions,QY=$k.reducer;function ZY(e){return(e%180+180)%180}var eJ=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=ZY(i),l=o*Math.PI/180,c=Math.atan(r/n),h=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(h)},tJ={dots:[],areas:[],lines:[]},Kk=Un({name:"referenceElements",initialState:tJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Mr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Mr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Mr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Wse,removeDot:Xse,addArea:Qse,removeArea:Zse,addLine:ele,removeLine:tle}=Kk.actions,nJ=Kk.reducer,rJ=_.createContext(void 0),iJ=e=>{var{children:t}=e,[n]=_.useState("".concat(cc("recharts"),"-clip")),r=_b();if(r==null)return null;var{x:i,y:o,width:l,height:c}=r;return _.createElement(rJ.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:o,height:c,width:l}))),t)};function Yk(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function aJ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return eJ(r,n)}function oJ(e,t,n){var r=n==="width",{x:i,y:o,width:l,height:c}=e;return t===1?{start:r?i:o,end:r?i+l:o+c}:{start:r?i+l:o+c,end:r?i:o}}function Ac(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function sJ(e,t){return Yk(e,t+1)}function lJ(e,t,n,r,i){for(var o=(r||[]).slice(),{start:l,end:c}=t,h=0,f=1,m=l,g=function(){var N=r==null?void 0:r[h];if(N===void 0)return{v:Yk(r,f)};var A=h,E,C=()=>(E===void 0&&(E=n(N,A)),E),P=N.coordinate,O=h===0||Ac(e,P,C,m,c);O||(h=0,m=l,f+=1),O&&(m=P+e*(C()/2+i),h+=f)},y;f<=o.length;)if(y=g(),y)return y.v;return[]}function cJ(e,t,n,r,i){var o=(r||[]).slice(),l=o.length;if(l===0)return[];for(var{start:c,end:h}=t,f=1;f<=l;f++){for(var m=(l-1)%f,g=c,y=!0,w=function(){var M=r[A];if(M==null)return 0;var k=A,I,R=()=>(I===void 0&&(I=n(M,k)),I),D=M.coordinate,z=A===m||Ac(e,D,R,g,h);if(!z)return y=!1,1;z&&(g=D+e*(R()/2+i))},N,A=m;A<l&&(N=w(),!(N!==0&&N===1));A+=f);if(y){for(var E=[],C=m;C<l;C+=f){var P=r[C];P!=null&&E.push(P)}return E}}return[]}function RC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(n),!0).forEach(function(r){uJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uJ(e,t,n){return(t=dJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dJ(e){var t=fJ(e,"string");return typeof t=="symbol"?t:t+""}function fJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hJ(e,t,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:c}=t,{end:h}=t,f=function(y){var w=o[y];if(w==null)return 1;var N=w,A,E=()=>(A===void 0&&(A=n(w,y)),A);if(y===l-1){var C=e*(N.coordinate+e*E()/2-h);o[y]=N=mn(mn({},N),{},{tickCoord:C>0?N.coordinate-C*e:N.coordinate})}else o[y]=N=mn(mn({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var P=Ac(e,N.tickCoord,E,c,h);P&&(h=N.tickCoord-e*(E()/2+i),o[y]=mn(mn({},N),{},{isShow:!0}))}},m=l-1;m>=0;m--)f(m);return o}function mJ(e,t,n,r,i,o){var l=(r||[]).slice(),c=l.length,{start:h,end:f}=t;if(o){var m=r[c-1];if(m!=null){var g=n(m,c-1),y=e*(m.coordinate+e*g/2-f);if(l[c-1]=m=mn(mn({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate}),m.tickCoord!=null){var w=Ac(e,m.tickCoord,()=>g,h,f);w&&(f=m.tickCoord-e*(g/2+i),l[c-1]=mn(mn({},m),{},{isShow:!0}))}}}for(var N=o?c-1:c,A=function(P){var O=l[P];if(O==null)return 1;var M=O,k,I=()=>(k===void 0&&(k=n(O,P)),k);if(P===0){var R=e*(M.coordinate-e*I()/2-h);l[P]=M=mn(mn({},M),{},{tickCoord:R<0?M.coordinate-R*e:M.coordinate})}else l[P]=M=mn(mn({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var D=Ac(e,M.tickCoord,I,h,f);D&&(h=M.tickCoord+e*(I()/2+i),l[P]=mn(mn({},M),{},{isShow:!0}))}},E=0;E<N;E++)A(E);return l}function Nb(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:c,interval:h,tickFormatter:f,unit:m,angle:g}=e;if(!i||!i.length||!r)return[];if(Se(h)||Oh.isSsr){var y;return(y=sJ(i,Se(h)?h:0))!==null&&y!==void 0?y:[]}var w=[],N=c==="top"||c==="bottom"?"width":"height",A=m&&N==="width"?sc(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(k,I)=>{var R=typeof f=="function"?f(k.value,I):k.value;return N==="width"?aJ(sc(R,{fontSize:t,letterSpacing:n}),A,g):sc(R,{fontSize:t,letterSpacing:n})[N]},C=i[0],P=i[1],O=i.length>=2&&C!=null&&P!=null?Rn(P.coordinate-C.coordinate):1,M=oJ(o,O,N);return h==="equidistantPreserveStart"?lJ(O,M,E,i,l):h==="equidistantPreserveEnd"?cJ(O,M,E,i,l):(h==="preserveStart"||h==="preserveStartEnd"?w=mJ(O,M,E,i,l,h==="preserveStartEnd"):w=hJ(O,M,E,i,l),w.filter(k=>k.isShow))}var pJ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,l=0;if(t){Array.from(t).forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>l&&(l=g.width)}});var c=n?n.getBoundingClientRect().width:0,h=i+o,f=l+h+c+(n?r:0);return Math.round(f)}return 0},gJ=["axisLine","width","height","className","hide","ticks","axisType"];function vJ(e,t){if(e==null)return{};var n,r,i=yJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xo.apply(null,arguments)}function DC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(n),!0).forEach(function(r){xJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xJ(e,t,n){return(t=bJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bJ(e){var t=SJ(e,"string");return typeof t=="symbol"?t:t+""}function SJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ci={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Jt.axis};function wJ(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:c,otherSvgProps:h}=e;if(!c)return null;var f=Nt(Nt(Nt({},h),kr(c)),{},{fill:"none"});if(o==="top"||o==="bottom"){var m=+(o==="top"&&!l||o==="bottom"&&l);f=Nt(Nt({},f),{},{x1:t,y1:n+m*i,x2:t+r,y2:n+m*i})}else{var g=+(o==="left"&&!l||o==="right"&&l);f=Nt(Nt({},f),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+i})}return _.createElement("line",xo({},f,{className:tt("recharts-cartesian-axis-line",Ts(c,"className"))}))}function AJ(e,t,n,r,i,o,l,c,h){var f,m,g,y,w,N,A=c?-1:1,E=e.tickSize||l,C=Se(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":f=m=e.coordinate,y=n+ +!c*i,g=y-A*E,N=g-A*h,w=C;break;case"left":g=y=e.coordinate,m=t+ +!c*r,f=m-A*E,w=f-A*h,N=C;break;case"right":g=y=e.coordinate,m=t+ +c*r,f=m+A*E,w=f+A*h,N=C;break;default:f=m=e.coordinate,y=n+ +c*i,g=y+A*E,N=g+A*h,w=C;break}return{line:{x1:f,y1:g,x2:m,y2:y},tick:{x:w,y:N}}}function EJ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function _J(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function NJ(e){var{option:t,tickProps:n,value:r}=e,i,o=tt(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))i=_.cloneElement(t,Nt(Nt({},n),{},{className:o}));else if(typeof t=="function")i=t(Nt(Nt({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=tt(l,kK(t))),i=_.createElement(Ab,xo({},n,{className:l}),r)}return i}var TJ=_.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:l,unit:c,padding:h,tickTextProps:f,orientation:m,mirror:g,x:y,y:w,width:N,height:A,tickSize:E,tickMargin:C,fontSize:P,letterSpacing:O,getTicksConfig:M,events:k,axisType:I}=e,R=Nb(Nt(Nt({},M),{},{ticks:n}),P,O),D=EJ(m,g),z=_J(m,g),X=kr(M),Q=Nc(r),H={};typeof i=="object"&&(H=i);var fe=Nt(Nt({},X),{},{fill:"none"},H),ae=R.map(V=>Nt({entry:V},AJ(V,y,w,N,A,m,E,g,C))),$=ae.map(V=>{var{entry:ne,line:re}=V;return _.createElement(vr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},i&&_.createElement("line",xo({},fe,re,{className:tt("recharts-cartesian-axis-tick-line",Ts(i,"className"))})))}),q=ae.map((V,ne)=>{var re,he,{entry:L,tick:U}=V,se=Nt(Nt(Nt(Nt({verticalAnchor:z},X),{},{textAnchor:D,stroke:"none",fill:o},U),{},{index:ne,payload:L,visibleTicksCount:R.length,tickFormatter:l,padding:h},f),{},{angle:(re=(he=f==null?void 0:f.angle)!==null&&he!==void 0?he:X.angle)!==null&&re!==void 0?re:0}),te=Nt(Nt({},se),Q);return _.createElement(vr,xo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},fh(k,L,ne)),r&&_.createElement(NJ,{option:r,tickProps:te,value:"".concat(typeof l=="function"?l(L.value,ne):L.value).concat(c||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(I,"-ticks")},q.length>0&&_.createElement(wr,{zIndex:Jt.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(I,"-tick-labels"),ref:t},q)),$.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(I,"-tick-lines")},$))}),CJ=_.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:c,axisType:h}=e,f=vJ(e,gJ),[m,g]=_.useState(""),[y,w]=_.useState(""),N=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return pJ({ticks:N.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var A=_.useCallback(E=>{if(E){var C=E.getElementsByClassName("recharts-cartesian-axis-tick-value");N.current=C;var P=C[0];if(P){var O=window.getComputedStyle(P),M=O.fontSize,k=O.letterSpacing;(M!==m||k!==y)&&(g(M),w(k))}}},[m,y]);return l||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(wr,{zIndex:e.zIndex},_.createElement(vr,{className:tt("recharts-cartesian-axis",o)},_.createElement(wJ,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:kr(e)}),_.createElement(TJ,{ref:A,axisType:h,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(cK,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(xK,{label:e.label,labelRef:e.labelRef}),e.children)))}),Tb=_.forwardRef((e,t)=>{var n=fn(e,Ci);return _.createElement(CJ,xo({},n,{ref:t}))});Tb.displayName="CartesianAxis";var PJ=["x1","y1","x2","y2","key"],IJ=["offset"],MJ=["xAxisId","yAxisId"],OJ=["xAxisId","yAxisId"];function LC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(n),!0).forEach(function(r){jJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jJ(e,t,n){return(t=kJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kJ(e){var t=RJ(e,"string");return typeof t=="symbol"?t:t+""}function RJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oo.apply(null,arguments)}function Gf(e,t){if(e==null)return{};var n,r,i=DJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var LJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:c}=e;return _.createElement("rect",{x:r,y:i,ry:c,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Jk(e){var{option:t,lineItemProps:n}=e,r;if(_.isValidElement(t))r=_.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:l,x2:c,y2:h,key:f}=n,m=Gf(n,PJ),g=(i=kr(m))!==null&&i!==void 0?i:{},{offset:y}=g,w=Gf(g,IJ);r=_.createElement("line",oo({},w,{x1:o,y1:l,x2:c,y2:h,fill:"none",key:f}))}return r}function UJ(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,c=Gf(e,MJ),h=i.map((f,m)=>{var g=pn(pn({},c),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(m),index:m});return _.createElement(Jk,{key:"line-".concat(m),option:r,lineItemProps:g})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function BJ(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,c=Gf(e,OJ),h=i.map((f,m)=>{var g=pn(pn({},c),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(m),index:m});return _.createElement(Jk,{option:r,lineItemProps:g,key:"line-".concat(m)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function zJ(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:c,horizontal:h=!0}=e;if(!h||!t||!t.length||c==null)return null;var f=c.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==f[0]&&f.unshift(0);var m=f.map((g,y)=>{var w=f[y+1],N=w==null,A=N?i+l-g:w-g;if(A<=0)return null;var E=y%t.length;return _.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:A,width:o,stroke:"none",fill:t[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function qJ(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:c,verticalPoints:h}=e;if(!t||!n||!n.length)return null;var f=h.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==f[0]&&f.unshift(0);var m=f.map((g,y)=>{var w=f[y+1],N=w==null,A=N?i+l-g:w-g;if(A<=0)return null;var E=y%n.length;return _.createElement("rect",{key:"react-".concat(y),x:g,y:o,width:A,height:c,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var FJ=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return CM(Nb(pn(pn(pn({},Ci),n),{},{ticks:PM(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},HJ=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return CM(Nb(pn(pn(pn({},Ci),n),{},{ticks:PM(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},GJ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Jt.grid};function Vf(e){var t=Sx(),n=wx(),r=kM(),i=pn(pn({},fn(e,GJ)),{},{x:Se(e.x)?e.x:r.left,y:Se(e.y)?e.y:r.top,width:Se(e.width)?e.width:r.width,height:Se(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:c,y:h,width:f,height:m,syncWithTicks:g,horizontalValues:y,verticalValues:w}=i,N=gn(),A=Te(z=>MT(z,"xAxis",o,N)),E=Te(z=>MT(z,"yAxis",l,N));if(!ti(f)||!ti(m)||!Se(c)||!Se(h))return null;var C=i.verticalCoordinatesGenerator||FJ,P=i.horizontalCoordinatesGenerator||HJ,{horizontalPoints:O,verticalPoints:M}=i;if((!O||!O.length)&&typeof P=="function"){var k=y&&y.length,I=P({yAxis:E?pn(pn({},E),{},{ticks:k?y:E.ticks}):void 0,width:t??f,height:n??m,offset:r},k?!0:g);gf(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(O=I)}if((!M||!M.length)&&typeof C=="function"){var R=w&&w.length,D=C({xAxis:A?pn(pn({},A),{},{ticks:R?w:A.ticks}):void 0,width:t??f,height:n??m,offset:r},R?!0:g);gf(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(M=D)}return _.createElement(wr,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(LJ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(zJ,oo({},i,{horizontalPoints:O})),_.createElement(qJ,oo({},i,{verticalPoints:M})),_.createElement(UJ,oo({},i,{offset:r,horizontalPoints:O,xAxis:A,yAxis:E})),_.createElement(BJ,oo({},i,{offset:r,verticalPoints:M,xAxis:A,yAxis:E}))))}Vf.displayName="CartesianGrid";var VJ={},Wk=Un({name:"errorBars",initialState:VJ,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:nle,replaceErrorBar:rle,removeErrorBar:ile}=Wk.actions,$J=Wk.reducer,KJ=["children"];function YJ(e,t){if(e==null)return{};var n,r,i=JJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var WJ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},XJ=_.createContext(WJ);function Xk(e){var{children:t}=e,n=YJ(e,KJ);return _.createElement(XJ.Provider,{value:n},t)}function Cb(e,t){var n,r,i=Te(f=>Hi(f,e)),o=Te(f=>Gi(f,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:$t.allowDataOverflow,c=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Kt.allowDataOverflow,h=l||c;return{needClip:h,needClipX:l,needClipY:c}}function Qk(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=_b(),{needClipX:o,needClipY:l,needClip:c}=Cb(t,n);if(!c||!i)return null;var{x:h,y:f,width:m,height:g}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:o?h:h-m/2,y:l?f:f-g/2,width:o?m:m*2,height:l?g:g*2}))}var Zk=(e,t,n,r)=>Ia(e,"xAxis",t,r),eR=(e,t,n,r)=>Pa(e,"xAxis",t,r),tR=(e,t,n,r)=>Ia(e,"yAxis",n,r),nR=(e,t,n,r)=>Pa(e,"yAxis",n,r),QJ=W([nt,Zk,tR,eR,nR],(e,t,n,r,i)=>Ui(e,"xAxis")?Ps(t,r,!1):Ps(n,i,!1)),ZJ=(e,t,n,r,i)=>i;function eW(e){return e.type==="line"}var tW=W([Jh,ZJ],(e,t)=>e.filter(eW).find(n=>n.id===t)),nW=W([nt,Zk,tR,eR,nR,tW,QJ,Yx],(e,t,n,r,i,o,l,c)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:m}=c;if(!(o==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:y}=o,w;if(y!=null&&y.length>0?w=y:w=h==null?void 0:h.slice(f,m+1),w!=null)return qW({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:w})}});function rW(e){var t=Nc(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,l=Number(i),c=Number(o);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(c)||c<0)&&(c=r),{r:l,strokeWidth:c}}return{r:n,strokeWidth:r}}var s0={exports:{}},l0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC;function iW(){if(UC)return l0;UC=1;var e=Rs();function t(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return l0.useSyncExternalStoreWithSelector=function(h,f,m,g,y){var w=i(null);if(w.current===null){var N={hasValue:!1,value:null};w.current=N}else N=w.current;w=l(function(){function E(k){if(!C){if(C=!0,P=k,k=g(k),y!==void 0&&N.hasValue){var I=N.value;if(y(I,k))return O=I}return O=k}if(I=O,n(P,k))return I;var R=g(k);return y!==void 0&&y(I,R)?(P=k,I):(P=k,O=R)}var C=!1,P,O,M=m===void 0?null:m;return[function(){return E(f())},M===null?void 0:function(){return E(M())}]},[f,m,g,y]);var A=r(h,w[0],w[1]);return o(function(){N.hasValue=!0,N.value=A},[A]),c(A),A},l0}var BC;function aW(){return BC||(BC=1,s0.exports=iW()),s0.exports}aW();function oW(e){e()}function sW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){oW(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var zC={notify(){},get:()=>[]};function lW(e,t){let n,r=zC,i=0,o=!1;function l(A){m();const E=r.subscribe(A);let C=!1;return()=>{C||(C=!0,E(),g())}}function c(){r.notify()}function h(){N.onStateChange&&N.onStateChange()}function f(){return o}function m(){i++,n||(n=e.subscribe(h),r=sW())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=zC)}function y(){o||(o=!0,m())}function w(){o&&(o=!1,g())}const N={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:h,isSubscribed:f,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>r};return N}var cW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uW=cW(),dW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fW=dW(),hW=()=>uW||fW?_.useLayoutEffect:_.useEffect,mW=hW();function qC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function pW(e,t){if(qC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!qC(e[n[i]],t[n[i]]))return!1;return!0}var c0=Symbol.for("react-redux-context"),u0=typeof globalThis<"u"?globalThis:{};function gW(){if(!_.createContext)return{};const e=u0[c0]??(u0[c0]=new Map);let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var vW=gW();function yW(e){const{children:t,context:n,serverState:r,store:i}=e,o=_.useMemo(()=>{const h=lW(i);return{store:i,subscription:h,getServerState:r?()=>r:void 0}},[i,r]),l=_.useMemo(()=>i.getState(),[i]);mW(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==i.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,l]);const c=n||vW;return _.createElement(c.Provider,{value:o},t)}var xW=yW,bW=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function SW(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function em(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(bW.has(r)){if(e[r]==null&&t[r]==null)continue;if(!pW(e[r],t[r]))return!1}else if(!SW(e[r],t[r]))return!1;return!0}var wW=["id"],AW=["type","layout","connectNulls","needClip","shape"],EW=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ec.apply(null,arguments)}function FC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(n),!0).forEach(function(r){_W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _W(e,t,n){return(t=NW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NW(e){var t=TW(e,"string");return typeof t=="symbol"?t:t+""}function TW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pb(e,t){if(e==null)return{};var n,r,i=CW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var PW=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:Ah(n,t),payload:e}]},IW=_.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:l,hide:c,unit:h,tooltipType:f,id:m}=e,g={dataDefinedOnItem:n,getPosition:bo,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:Ah(l,t),hide:c,type:f,color:r,unit:h,graphicalItemId:m}};return _.createElement(Bk,{tooltipEntrySettings:g})}),rR=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function MW(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var OW=(e,t,n)=>{var r=n.reduce((w,N)=>w+N);if(!r)return rR(t,e);for(var i=Math.floor(e/r),o=e%r,l=t-e,c=[],h=0,f=0;h<n.length;f+=(m=n[h])!==null&&m!==void 0?m:0,++h){var m,g=n[h];if(g!=null&&f+g>o){c=[...n.slice(0,h),o-f];break}}var y=c.length%2===0?[0,l]:[l];return[...MW(n,i),...c,...y].map(w=>"".concat(w,"px")).join(", ")};function jW(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:o,needClip:l}=r,{id:c}=r,h=Pb(r,wW),f=kr(h);return _.createElement(SY,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:f,needClip:l,clipPathId:t})}function kW(e){var{showLabels:t,children:n,points:r}=e,i=_.useMemo(()=>r==null?void 0:r.map(o=>{var l,c,h={x:(l=o.x)!==null&&l!==void 0?l:0,y:(c=o.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Kr(Kr({},h),{},{value:o.value,payload:o.payload,viewBox:h,parentViewBox:void 0,fill:void 0})}),[r]);return _.createElement(Ck,{value:t?i:void 0},n)}function HC(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:o}=e,{type:l,layout:c,connectNulls:h,needClip:f,shape:m}=o,g=Pb(o,AW),y=Kr(Kr({},wn(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:r,type:l,layout:c,connectNulls:h,strokeDasharray:i??o.strokeDasharray});return _.createElement(_.Fragment,null,(r==null?void 0:r.length)>1&&_.createElement(Rk,Ec({shapeType:"curve",option:m},y,{pathRef:n})),_.createElement(jW,{points:r,clipPathId:t,props:o}))}function RW(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function DW(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=e,{points:l,strokeDasharray:c,isAnimationActive:h,animationBegin:f,animationDuration:m,animationEasing:g,animateNewValues:y,width:w,height:N,onAnimationEnd:A,onAnimationStart:E}=n,C=i.current,P=kh(l,"recharts-line-"),O=_.useRef(P),[M,k]=_.useState(!1),I=!M,R=_.useCallback(()=>{typeof A=="function"&&A(),k(!1)},[A]),D=_.useCallback(()=>{typeof E=="function"&&E(),k(!0)},[E]),z=RW(r.current),X=_.useRef(0);O.current!==P&&(X.current=o.current,O.current=P);var Q=X.current;return _.createElement(kW,{points:l,showLabels:I},n.children,_.createElement(jh,{animationId:P,begin:f,duration:m,isActive:h,easing:g,onAnimationEnd:R,onAnimationStart:D,key:P},H=>{var fe=Ct(Q,z+Q,H),ae=Math.min(fe,z),$;if(h)if(c){var q="".concat(c).split(/[,\s]+/gim).map(re=>parseFloat(re));$=OW(ae,z,q)}else $=rR(z,ae);else $=c==null?void 0:String(c);if(H>0&&z>0&&(i.current=l,o.current=Math.max(o.current,ae)),C){var V=C.length/l.length,ne=H===1?l:l.map((re,he)=>{var L=Math.floor(he*V);if(C[L]){var U=C[L];return Kr(Kr({},re),{},{x:Ct(U.x,re.x,H),y:Ct(U.y,re.y,H)})}return y?Kr(Kr({},re),{},{x:Ct(w*2,re.x,H),y:Ct(N/2,re.y,H)}):Kr(Kr({},re),{},{x:re.x,y:re.y})});return i.current=ne,_.createElement(HC,{props:n,points:ne,clipPathId:t,pathRef:r,strokeDasharray:$})}return _.createElement(HC,{props:n,points:l,clipPathId:t,pathRef:r,strokeDasharray:$})}),_.createElement(Ik,{label:n.label}))}function LW(e){var{clipPathId:t,props:n}=e,r=_.useRef(null),i=_.useRef(0),o=_.useRef(null);return _.createElement(DW,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:o})}var UW=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Ut(e.payload,t)}};class BW extends _.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:o,yAxisId:l,top:c,left:h,width:f,height:m,id:g,needClip:y,zIndex:w}=this.props;if(t)return null;var N=tt("recharts-line",i),A=g,{r:E,strokeWidth:C}=rW(n),P=kk(n),O=E*2+C,M=y?"url(#clipPath-".concat(P?"":"dots-").concat(A,")"):void 0;return _.createElement(wr,{zIndex:w},_.createElement(vr,{className:N},y&&_.createElement("defs",null,_.createElement(Qk,{clipPathId:A,xAxisId:o,yAxisId:l}),!P&&_.createElement("clipPath",{id:"clipPath-dots-".concat(A)},_.createElement("rect",{x:h-O/2,y:c-O/2,width:f+O,height:m+O}))),_.createElement(Xk,{xAxisId:o,yAxisId:l,data:r,dataPointFormatter:UW,errorBarOffset:0},_.createElement(LW,{props:this.props,clipPathId:A}))),_.createElement(qY,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:M}))}}var iR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Jt.line,type:"linear"};function zW(e){var t=fn(e,iR),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:l,connectNulls:c,dot:h,hide:f,isAnimationActive:m,label:g,legendType:y,xAxisId:w,yAxisId:N,id:A}=t,E=Pb(t,EW),{needClip:C}=Cb(w,N),P=_b(),O=So(),M=gn(),k=Te(X=>nW(X,w,N,M,A));if(O!=="horizontal"&&O!=="vertical"||k==null||P==null)return null;var{height:I,width:R,x:D,y:z}=P;return _.createElement(BW,Ec({},E,{id:A,connectNulls:c,dot:h,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:l,isAnimationActive:m,hide:f,label:g,legendType:y,xAxisId:w,yAxisId:N,points:k,layout:O,height:I,width:R,left:D,top:z,needClip:C}))}function qW(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:l,bandSize:c,displayedData:h}=e;return h.map((f,m)=>{var g=Ut(f,l);if(t==="horizontal"){var y=C_({axis:n,ticks:i,bandSize:c,entry:f,index:m}),w=wt(g)?null:r.scale.map(g);return{x:y,y:w??null,value:g,payload:f}}var N=wt(g)?null:n.scale.map(g),A=C_({axis:r,ticks:o,bandSize:c,entry:f,index:m});return N==null||A==null?null:{x:N,y:A,value:g,payload:f}}).filter(Boolean)}function FW(e){var t=fn(e,iR),n=gn();return _.createElement(qk,{id:t.id,type:"line"},r=>_.createElement(_.Fragment,null,_.createElement(zk,{legendPayload:PW(t)}),_.createElement(IW,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),_.createElement(Hk,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),_.createElement(zW,Ec({},t,{id:r}))))}var aR=_.memo(FW,em);aR.displayName="Line";function Eo(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:Gk}function _o(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:Gk}var HW="Invariant failed";function GW(e,t){throw new Error(HW)}function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},by.apply(null,arguments)}function $f(e){return _.createElement(Rk,by({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var VW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Se(t))return t;var o=Se(r)||wt(r);return o?t(r,i):(o||GW(),n)}},$W=(e,t,n)=>n,KW=(e,t)=>t,Hc=W([Jh,KW],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),YW=W([Hc],e=>e==null?void 0:e.maxBarSize),JW=(e,t,n,r)=>r,WW=W([nt,Jh,Eo,_o,$W],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),XW=(e,t,n)=>{var r=nt(e),i=Eo(e,t),o=_o(e,t);if(!(i==null||o==null))return r==="horizontal"?fy(e,"yAxis",o,n):fy(e,"xAxis",i,n)},QW=(e,t)=>{var n=nt(e),r=Eo(e,t),i=_o(e,t);if(!(r==null||i==null))return n==="horizontal"?IT(e,"xAxis",r):IT(e,"yAxis",i)},ZW=W([WW,rV,QW],FY),eX=(e,t,n)=>{var r,i,o=Hc(e,t);if(o==null)return 0;var l=Eo(e,t),c=_o(e,t);if(l==null||c==null)return 0;var h=nt(e),f=KO(e),{maxBarSize:m}=o,g=wt(m)?f:m,y,w;return h==="horizontal"?(y=Ia(e,"xAxis",l,n),w=Pa(e,"xAxis",l,n)):(y=Ia(e,"yAxis",c,n),w=Pa(e,"yAxis",c,n)),(r=(i=Ps(y,w,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0},oR=(e,t,n)=>{var r=nt(e),i=Eo(e,t),o=_o(e,t);if(!(i==null||o==null)){var l,c;return r==="horizontal"?(l=Ia(e,"xAxis",i,n),c=Pa(e,"xAxis",i,n)):(l=Ia(e,"yAxis",o,n),c=Pa(e,"yAxis",o,n)),Ps(l,c)}},tX=W([ZW,KO,nV,YO,eX,oR,YW],KY),nX=(e,t,n)=>{var r=Eo(e,t);if(r!=null)return Ia(e,"xAxis",r,n)},rX=(e,t,n)=>{var r=_o(e,t);if(r!=null)return Ia(e,"yAxis",r,n)},iX=(e,t,n)=>{var r=Eo(e,t);if(r!=null)return Pa(e,"xAxis",r,n)},aX=(e,t,n)=>{var r=_o(e,t);if(r!=null)return Pa(e,"yAxis",r,n)},oX=W([tX,Hc],JY),sX=W([XW,Hc],YY),lX=W([Xt,yx,nX,rX,iX,aX,oX,nt,YG,oR,sX,Hc,JW],(e,t,n,r,i,o,l,c,h,f,m,g,y)=>{var{chartData:w,dataStartIndex:N,dataEndIndex:A}=h;if(!(g==null||l==null||t==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||o==null||f==null)){var{data:E}=g,C;if(E!=null&&E.length>0?C=E:C=w==null?void 0:w.slice(N,A+1),C!=null)return DX({layout:c,barSettings:g,pos:l,parentViewBox:t,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:m,displayedData:C,offset:e,cells:y,dataStartIndex:N})}}),cX=["index"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sy.apply(null,arguments)}function uX(e,t){if(e==null)return{};var n,r,i=dX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sR=_.createContext(void 0),fX=e=>{var t=_.useContext(sR);if(t!=null)return t.stackId;if(e!=null)return Dz(e)},hX=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),mX=e=>{var t=_.useContext(sR);if(t!=null){var{stackId:n}=t;return"url(#".concat(hX(n,e),")")}},lR=e=>{var{index:t}=e,n=uX(e,cX),r=mX(t);return _.createElement(vr,Sy({className:"recharts-bar-stack-layer",clipPath:r},n))},pX=["onMouseEnter","onMouseLeave","onClick"],gX=["value","background","tooltipPosition"],vX=["id"],yX=["onMouseEnter","onClick","onMouseLeave"];function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Di.apply(null,arguments)}function GC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(n),!0).forEach(function(r){xX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xX(e,t,n){return(t=bX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bX(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kf(e,t){if(e==null)return{};var n,r,i=wX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var AX=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:Ah(n,t),payload:e}]},EX=_.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,unit:c,tooltipType:h,id:f}=e,m={dataDefinedOnItem:void 0,getPosition:bo,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Ah(o,t),hide:l,type:h,color:i,unit:c,graphicalItemId:f}};return _.createElement(Bk,{tooltipEntrySettings:m})});function _X(e){var t=Te(yo),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:l,onMouseLeave:c,onClick:h}=o,f=Kf(o,pX),m=Dk(l,r,o.id),g=Lk(c),y=Uk(h,r,o.id);if(!i||n==null)return null;var w=Nc(i);return _.createElement(wr,{zIndex:WY(i,Jt.barBackground)},n.map((N,A)=>{var{value:E,background:C,tooltipPosition:P}=N,O=Kf(N,gX);if(!C)return null;var M=m(N,A),k=g(N,A),I=y(N,A),R=xn(xn(xn(xn(xn({option:i,isActive:String(A)===t},O),{},{fill:"#eee"},C),w),fh(f,N,A)),{},{onMouseEnter:M,onMouseLeave:k,onClick:I,dataKey:r,index:A,className:"recharts-bar-background-rectangle"});return _.createElement($f,Di({key:"background-bar-".concat(A)},R))}))}function NX(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return xn(xn({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return _.createElement(Ck,{value:t?i:void 0},n)}function TX(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:l}=e,c=Te(yo),h=Te(ak),f=n&&String(o)===c&&(h==null||l===h),m=f?n:t;return f?_.createElement(wr,{zIndex:Jt.activeBar},_.createElement(lR,{index:o},_.createElement($f,Di({},r,{name:String(r.name)},i,{isActive:f,option:m,index:o,dataKey:l})))):_.createElement($f,Di({},r,{name:String(r.name)},i,{isActive:f,option:m,index:o,dataKey:l}))}function CX(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return _.createElement($f,Di({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:o}))}function PX(e){var t,{data:n,props:r}=e,i=(t=kr(r))!==null&&t!==void 0?t:{},{id:o}=i,l=Kf(i,vX),{shape:c,dataKey:h,activeBar:f}=r,{onMouseEnter:m,onClick:g,onMouseLeave:y}=r,w=Kf(r,yX),N=Dk(m,h,o),A=Lk(y),E=Uk(g,h,o);return n?_.createElement(_.Fragment,null,n.map((C,P)=>_.createElement(lR,Di({index:P,key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(P),className:"recharts-bar-rectangle"},fh(w,C,P),{onMouseEnter:N(C,P),onMouseLeave:A(C,P),onClick:E(C,P)}),f?_.createElement(TX,{shape:c,activeBar:f,baseProps:l,entry:C,index:P,dataKey:h}):_.createElement(CX,{shape:c,baseProps:l,entry:C,index:P,dataKey:h})))):null}function IX(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:c,animationEasing:h,onAnimationEnd:f,onAnimationStart:m}=t,g=n.current,y=kh(t,"recharts-bar-"),[w,N]=_.useState(!1),A=!w,E=_.useCallback(()=>{typeof f=="function"&&f(),N(!1)},[f]),C=_.useCallback(()=>{typeof m=="function"&&m(),N(!0)},[m]);return _.createElement(NX,{showLabels:A,rects:r},_.createElement(jh,{animationId:y,begin:l,duration:c,isActive:o,easing:h,onAnimationEnd:E,onAnimationStart:C,key:y},P=>{var O=P===1?r:r==null?void 0:r.map((M,k)=>{var I=g&&g[k];if(I)return xn(xn({},M),{},{x:Ct(I.x,M.x,P),y:Ct(I.y,M.y,P),width:Ct(I.width,M.width,P),height:Ct(I.height,M.height,P)});if(i==="horizontal"){var R=Ct(0,M.height,P),D=Ct(M.stackedBarStart,M.y,P);return xn(xn({},M),{},{y:D,height:R})}var z=Ct(0,M.width,P),X=Ct(M.stackedBarStart,M.x,P);return xn(xn({},M),{},{width:z,x:X})});return P>0&&(n.current=O??null),O==null?null:_.createElement(vr,null,_.createElement(PX,{props:t,data:O}))}),_.createElement(Ik,{label:t.label}),t.children)}function MX(e){var t=_.useRef(null);return _.createElement(IX,{previousRectanglesRef:t,props:e})}var cR=0,OX=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ut(e,t)}};class jX extends _.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:l,needClip:c,background:h,id:f}=this.props;if(t||n==null)return null;var m=tt("recharts-bar",i),g=f;return _.createElement(vr,{className:m,id:f},c&&_.createElement("defs",null,_.createElement(Qk,{clipPathId:g,xAxisId:o,yAxisId:l})),_.createElement(vr,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(g,")"):void 0},_.createElement(_X,{data:n,dataKey:r,background:h,allOtherBarProps:this.props}),_.createElement(MX,this.props)))}}var kX={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:cR,xAxisId:0,yAxisId:0,zIndex:Jt.bar};function RX(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:h,animationEasing:f,isAnimationActive:m}=e,{needClip:g}=Cb(t,n),y=So(),w=gn(),N=UK(e.children,gk),A=Te(P=>lX(P,e.id,w,N));if(y!=="vertical"&&y!=="horizontal")return null;var E,C=A==null?void 0:A[0];return C==null||C.height==null||C.width==null?E=0:E=y==="vertical"?C.height/2:C.width/2,_.createElement(Xk,{xAxisId:t,yAxisId:n,data:A,dataPointFormatter:OX,errorBarOffset:E},_.createElement(jX,Di({},e,{layout:y,needClip:g,data:A,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:h,animationEasing:f,isAnimationActive:m})))}function DX(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:l,yAxis:c,xAxisTicks:h,yAxisTicks:f,stackedData:m,displayedData:g,offset:y,cells:w,parentViewBox:N,dataStartIndex:A}=e,E=t==="horizontal"?c:l,C=m?E.scale.domain():null,P=Lz({numericAxis:E}),O=E.scale.map(P);return g.map((M,k)=>{var I,R,D,z,X,Q;if(m){var H=m[k+A];if(H==null)return null;I=Mz(H,C)}else I=Ut(M,n),Array.isArray(I)||(I=[P,I]);var fe=VW(r,cR)(I[1],k);if(t==="horizontal"){var ae,$=c.scale.map(I[0]),q=c.scale.map(I[1]);if($==null||q==null)return null;R=P_({axis:l,ticks:h,bandSize:o,offset:i.offset,entry:M,index:k}),D=(ae=q??$)!==null&&ae!==void 0?ae:void 0,z=i.size;var V=$-q;if(X=Zr(V)?0:V,Q={x:R,y:y.top,width:z,height:y.height},Math.abs(fe)>0&&Math.abs(X)<Math.abs(fe)){var ne=Rn(X||fe)*(Math.abs(fe)-Math.abs(X));D-=ne,X+=ne}}else{var re=l.scale.map(I[0]),he=l.scale.map(I[1]);if(re==null||he==null)return null;if(R=re,D=P_({axis:c,ticks:f,bandSize:o,offset:i.offset,entry:M,index:k}),z=he-re,X=i.size,Q={x:y.left,y:D,width:y.width,height:X},Math.abs(fe)>0&&Math.abs(z)<Math.abs(fe)){var L=Rn(z||fe)*(Math.abs(fe)-Math.abs(z));z+=L}}if(R==null||D==null||z==null||X==null)return null;var U=xn(xn({},M),{},{stackedBarStart:O,x:R,y:D,width:z,height:X,value:m?I:I[1],payload:M,background:Q,tooltipPosition:{x:R+z/2,y:D+X/2},parentViewBox:N},w&&w[k]&&w[k].props);return U}).filter(Boolean)}function LX(e){var t=fn(e,kX),n=fX(t.stackId),r=gn();return _.createElement(qk,{id:t.id,type:"bar"},i=>_.createElement(_.Fragment,null,_.createElement(zk,{legendPayload:AX(t)}),_.createElement(EX,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),_.createElement(Hk,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),_.createElement(wr,{zIndex:t.zIndex},_.createElement(RX,Di({},t,{id:i})))))}var Ib=_.memo(LX,em);Ib.displayName="Bar";var UX=["domain","range"],BX=["domain","range"];function VC(e,t){if(e==null)return{};var n,r,i=zX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $C(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function uR(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=VC(e,UX),{domain:o,range:l}=t,c=VC(t,BX);return!$C(n,o)||!$C(r,l)?!1:em(i,c)}var qX=["type"],FX=["dangerouslySetInnerHTML","ticks","scale"],HX=["id","scale"];function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wy.apply(null,arguments)}function KC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(n),!0).forEach(function(r){GX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GX(e,t,n){return(t=VX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VX(e){var t=$X(e,"string");return typeof t=="symbol"?t:t+""}function $X(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ay(e,t){if(e==null)return{};var n,r,i=KX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function YX(e){var t=At(),n=_.useRef(null),r=RM(),{type:i}=e,o=Ay(e,qX),l=Hh(r,"xAxis",i),c=_.useMemo(()=>{if(l!=null)return YC(YC({},o),{},{type:l})},[o,l]);return _.useLayoutEffect(()=>{c!=null&&(n.current===null?t(NY(c)):n.current!==c&&t(TY({prev:n.current,next:c})),n.current=c)},[c,t]),_.useLayoutEffect(()=>()=>{n.current&&(t(CY(n.current)),n.current=null)},[t]),null}var JX=e=>{var{xAxisId:t,className:n}=e,r=Te(yx),i=gn(),o="xAxis",l=Te(C=>Uj(C,o,t,i)),c=Te(C=>kj(C,t)),h=Te(C=>i$(C,t)),f=Te(C=>rj(C,t));if(c==null||h==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:g,scale:y}=e,w=Ay(e,FX),{id:N,scale:A}=f,E=Ay(f,HX);return _.createElement(Tb,wy({},w,E,{x:h.x,y:h.y,width:c.width,height:c.height,className:tt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:l,axisType:o}))},WX={allowDataOverflow:$t.allowDataOverflow,allowDecimals:$t.allowDecimals,allowDuplicatedCategory:$t.allowDuplicatedCategory,angle:$t.angle,axisLine:Ci.axisLine,height:$t.height,hide:!1,includeHidden:$t.includeHidden,interval:$t.interval,label:!1,minTickGap:$t.minTickGap,mirror:$t.mirror,orientation:$t.orientation,padding:$t.padding,reversed:$t.reversed,scale:$t.scale,tick:$t.tick,tickCount:$t.tickCount,tickLine:Ci.tickLine,tickSize:Ci.tickSize,type:$t.type,xAxisId:0},XX=e=>{var t=fn(e,WX);return _.createElement(_.Fragment,null,_.createElement(YX,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(JX,t))},Yf=_.memo(XX,uR);Yf.displayName="XAxis";var QX=["type"],ZX=["dangerouslySetInnerHTML","ticks","scale"],eQ=["id","scale"];function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ey.apply(null,arguments)}function JC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(n),!0).forEach(function(r){tQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tQ(e,t,n){return(t=nQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nQ(e){var t=rQ(e,"string");return typeof t=="symbol"?t:t+""}function rQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _y(e,t){if(e==null)return{};var n,r,i=iQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aQ(e){var t=At(),n=_.useRef(null),r=RM(),{type:i}=e,o=_y(e,QX),l=Hh(r,"yAxis",i),c=_.useMemo(()=>{if(l!=null)return WC(WC({},o),{},{type:l})},[l,o]);return _.useLayoutEffect(()=>{c!=null&&(n.current===null?t(PY(c)):n.current!==c&&t(IY({prev:n.current,next:c})),n.current=c)},[c,t]),_.useLayoutEffect(()=>()=>{n.current&&(t(MY(n.current)),n.current=null)},[t]),null}function oQ(e){var{yAxisId:t,className:n,width:r,label:i}=e,o=_.useRef(null),l=_.useRef(null),c=Te(yx),h=gn(),f=At(),m="yAxis",g=Te(I=>Rj(I,t)),y=Te(I=>o$(I,t)),w=Te(I=>Uj(I,m,t,h)),N=Te(I=>ij(I,t));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!g||Eb(i)||_.isValidElement(i)||N==null)){var I=o.current;if(I){var R=I.getCalculatedWidth();Math.round(g.width)!==Math.round(R)&&f(OY({id:t,width:R}))}}},[w,g,f,i,t,r,N]),g==null||y==null||N==null)return null;var{dangerouslySetInnerHTML:A,ticks:E,scale:C}=e,P=_y(e,ZX),{id:O,scale:M}=N,k=_y(N,eQ);return _.createElement(Tb,Ey({},P,k,{ref:o,labelRef:l,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:tt("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:w,axisType:m}))}var sQ={allowDataOverflow:Kt.allowDataOverflow,allowDecimals:Kt.allowDecimals,allowDuplicatedCategory:Kt.allowDuplicatedCategory,angle:Kt.angle,axisLine:Ci.axisLine,hide:!1,includeHidden:Kt.includeHidden,interval:Kt.interval,label:!1,minTickGap:Kt.minTickGap,mirror:Kt.mirror,orientation:Kt.orientation,padding:Kt.padding,reversed:Kt.reversed,scale:Kt.scale,tick:Kt.tick,tickCount:Kt.tickCount,tickLine:Ci.tickLine,tickSize:Ci.tickSize,type:Kt.type,width:Kt.width,yAxisId:0},lQ=e=>{var t=fn(e,sQ);return _.createElement(_.Fragment,null,_.createElement(aQ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(oQ,t))},Jf=_.memo(lQ,uR);Jf.displayName="YAxis";var cQ=(e,t)=>t,Mb=W([cQ,nt,tj,en,tk,Vi,S9,Xt],C9),Ob=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},dR=yr("mouseClick"),fR=Pc();fR.startListening({actionCreator:dR,effect:(e,t)=>{var n=e.payload,r=Mb(t.getState(),Ob(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(b$({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Ny=yr("mouseMove"),hR=Pc(),_d=null;hR.startListening({actionCreator:Ny,effect:(e,t)=>{var n=e.payload;_d!==null&&cancelAnimationFrame(_d);var r=Ob(n);_d=requestAnimationFrame(()=>{var i=t.getState(),o=hb(i,i.tooltip.settings.shared);if(o==="axis"){var l=Mb(i,r);(l==null?void 0:l.activeIndex)!=null?t.dispatch($j({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(Vj())}_d=null})}});function uQ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var XC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},mR=Un({name:"rootProps",initialState:XC,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:XC.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),dQ=mR.reducer,{updateOptions:fQ}=mR.actions,hQ=null,mQ={updatePolarOptions:(e,t)=>t.payload},pR=Un({name:"polarOptions",initialState:hQ,reducers:mQ}),{updatePolarOptions:ale}=pR.actions,pQ=pR.reducer,gR=yr("keyDown"),vR=yr("focus"),jb=Pc();jb.startListening({actionCreator:gR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=mb(i,Vs(n),Bc(n),qc(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var h=Vi(n);if(o==="Enter"){var f=Bf(n,"axis","hover",String(i.index));t.dispatch(my({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var m=u$(n),g=m==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,w=c+y*g;if(!(h==null||w>=h.length||w<0)){var N=Bf(n,"axis","hover",String(w));t.dispatch(my({active:!0,activeIndex:w.toString(),activeCoordinate:N}))}}}}}});jb.startListening({actionCreator:vR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=Bf(n,"axis","hover",String(o));t.dispatch(my({active:!0,activeIndex:o,activeCoordinate:l}))}}}});var fr=yr("externalEvent"),yR=Pc(),d0=new Map;yR.startListening({actionCreator:fr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=d0.get(i);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var c=t.getState(),h={activeCoordinate:a9(c),activeDataKey:ak(c),activeIndex:yo(c),activeLabel:ik(c),activeTooltipIndex:yo(c),isTooltipActive:o9(c)};n(h,r)}finally{d0.delete(i)}});d0.set(i,l)}}});var gQ=W([Hs],e=>e.tooltipItemPayloads),vQ=W([gQ,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),xR=yr("touchMove"),bR=Pc();bR.startListening({actionCreator:xR,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=hb(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var l=Mb(r,Ob({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch($j({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var c,h=n.touches[0];if(document.elementFromPoint==null||h==null)return;var f=document.elementFromPoint(h.clientX,h.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(Gz),g=(c=f.getAttribute(Vz))!==null&&c!==void 0?c:void 0,y=Gs(r).find(A=>A.id===g);if(m==null||y==null||g==null)return;var{dataKey:w}=y,N=vQ(r,m,g);t.dispatch(Gj({activeDataKey:w,activeIndex:m,activeCoordinate:N,activeGraphicalItemId:g}))}}}});var yQ=ZI({brush:QY,cartesianAxis:jY,chartData:a7,errorBars:$J,graphicalItems:dY,layout:Nz,legend:Uq,options:e7,polarAxis:jK,polarOptions:pQ,referenceElements:nJ,rootProps:dQ,tooltip:S$,zIndex:F9}),xQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return XB({reducer:yQ,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([fR.middleware,hR.middleware,jb.middleware,yR.middleware,bR.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(mM({type:"raf"}))},devTools:{serialize:{replacer:uQ},name:"recharts-".concat(n)}})};function bQ(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=gn(),o=_.useRef(null);if(i)return n;o.current==null&&(o.current=xQ(t,r));var l=dx;return _.createElement(xW,{context:l,store:o.current},n)}function SQ(e){var{layout:t,margin:n}=e,r=At(),i=gn();return _.useEffect(()=>{i||(r(Az(t)),r(wz(n)))},[r,i,t,n]),null}var wQ=_.memo(SQ,em);function AQ(e){var t=At();return _.useEffect(()=>{t(fQ(e))},[t,e]),null}function QC(e){var{zIndex:t,isPanorama:n}=e,r=_.useRef(null),i=At();return _.useLayoutEffect(()=>(r.current&&i(z9({zIndex:t,element:r.current,isPanorama:n})),()=>{i(q9({zIndex:t,isPanorama:n}))}),[i,t,n]),_.createElement("g",{tabIndex:-1,ref:r})}function ZC(e){var{children:t,isPanorama:n}=e,r=Te(I9);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),o=r.filter(l=>l>0);return _.createElement(_.Fragment,null,i.map(l=>_.createElement(QC,{key:l,zIndex:l,isPanorama:n})),t,o.map(l=>_.createElement(QC,{key:l,zIndex:l,isPanorama:n})))}var EQ=["children"];function _Q(e,t){if(e==null)return{};var n,r,i=NQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wf.apply(null,arguments)}var TQ={width:"100%",height:"100%",display:"block"},CQ=_.forwardRef((e,t)=>{var n=Sx(),r=wx(),i=VM();if(!ti(n)||!ti(r))return null;var{children:o,otherAttributes:l,title:c,desc:h}=e,f,m;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0),_.createElement(Zy,Wf({},l,{title:c,desc:h,role:m,tabIndex:f,width:n,height:r,style:TQ,ref:t}),o)}),PQ=e=>{var{children:t}=e,n=Te(Th);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return _.createElement(Zy,{width:r,height:i,x:l,y:o},t)},e2=_.forwardRef((e,t)=>{var{children:n}=e,r=_Q(e,EQ),i=gn();return i?_.createElement(PQ,null,_.createElement(ZC,{isPanorama:!0},n)):_.createElement(CQ,Wf({ref:t},r),_.createElement(ZC,{isPanorama:!1},n))});function IQ(){var e=At(),[t,n]=_.useState(null),r=Te(Hz);return _.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;$e(o)&&o!==r&&e(_z(o))}},[t,e,r]),n}function t2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(n),!0).forEach(function(r){OQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OQ(e,t,n){return(t=jQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jQ(e){var t=kQ(e,"string");return typeof t=="symbol"?t:t+""}function kQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_a.apply(null,arguments)}var RQ=()=>(m7(),null);function Xf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var DQ=_.forwardRef((e,t)=>{var n,r,i=_.useRef(null),[o,l]=_.useState({containerWidth:Xf((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Xf((r=e.style)===null||r===void 0?void 0:r.height)}),c=_.useCallback((f,m)=>{l(g=>{var y=Math.round(f),w=Math.round(m);return g.containerWidth===y&&g.containerHeight===w?g:{containerWidth:y,containerHeight:w}})},[]),h=_.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:g}=f.getBoundingClientRect();c(m,g);var y=N=>{var A=N[0];if(A!=null){var{width:E,height:C}=A.contentRect;c(E,C)}},w=new ResizeObserver(y);w.observe(f),i.current=w}},[t,c]);return _.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[c]),_.createElement(_.Fragment,null,_.createElement(Mc,{width:o.containerWidth,height:o.containerHeight}),_.createElement("div",_a({ref:h},e)))}),LQ=_.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=_.useState({containerWidth:Xf(n),containerHeight:Xf(r)}),l=_.useCallback((h,f)=>{o(m=>{var g=Math.round(h),y=Math.round(f);return m.containerWidth===g&&m.containerHeight===y?m:{containerWidth:g,containerHeight:y}})},[]),c=_.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:f,height:m}=h.getBoundingClientRect();l(f,m)}},[t,l]);return _.createElement(_.Fragment,null,_.createElement(Mc,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",_a({ref:c},e)))}),UQ=_.forwardRef((e,t)=>{var{width:n,height:r}=e;return _.createElement(_.Fragment,null,_.createElement(Mc,{width:n,height:r}),_.createElement("div",_a({ref:t},e)))}),BQ=_.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?_.createElement(LQ,_a({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?_.createElement(UQ,_a({},e,{width:n,height:r,ref:t})):_.createElement(_.Fragment,null,_.createElement(Mc,{width:n,height:r}),_.createElement("div",_a({ref:t},e)))});function zQ(e){return e?DQ:BQ}var qQ=_.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:c,onMouseDown:h,onMouseEnter:f,onMouseLeave:m,onMouseMove:g,onMouseUp:y,onTouchEnd:w,onTouchMove:N,onTouchStart:A,style:E,width:C,responsive:P,dispatchTouchEvents:O=!0}=e,M=_.useRef(null),k=At(),[I,R]=_.useState(null),[D,z]=_.useState(null),X=IQ(),Q=xx(),H=(Q==null?void 0:Q.width)>0?Q.width:C,fe=(Q==null?void 0:Q.height)>0?Q.height:i,ae=_.useCallback(ie=>{X(ie),typeof t=="function"&&t(ie),R(ie),z(ie),ie!=null&&(M.current=ie)},[X,t,R,z]),$=_.useCallback(ie=>{k(dR(ie)),k(fr({handler:o,reactEvent:ie}))},[k,o]),q=_.useCallback(ie=>{k(Ny(ie)),k(fr({handler:f,reactEvent:ie}))},[k,f]),V=_.useCallback(ie=>{k(Vj()),k(fr({handler:m,reactEvent:ie}))},[k,m]),ne=_.useCallback(ie=>{k(Ny(ie)),k(fr({handler:g,reactEvent:ie}))},[k,g]),re=_.useCallback(()=>{k(vR())},[k]),he=_.useCallback(ie=>{k(gR(ie.key))},[k]),L=_.useCallback(ie=>{k(fr({handler:l,reactEvent:ie}))},[k,l]),U=_.useCallback(ie=>{k(fr({handler:c,reactEvent:ie}))},[k,c]),se=_.useCallback(ie=>{k(fr({handler:h,reactEvent:ie}))},[k,h]),te=_.useCallback(ie=>{k(fr({handler:y,reactEvent:ie}))},[k,y]),Ae=_.useCallback(ie=>{k(fr({handler:A,reactEvent:ie}))},[k,A]),_e=_.useCallback(ie=>{O&&k(xR(ie)),k(fr({handler:N,reactEvent:ie}))},[k,O,N]),me=_.useCallback(ie=>{k(fr({handler:w,reactEvent:ie}))},[k,w]),Be=zQ(P);return _.createElement(fk.Provider,{value:I},_.createElement(gI.Provider,{value:D},_.createElement(Be,{width:H??(E==null?void 0:E.width),height:fe??(E==null?void 0:E.height),className:tt("recharts-wrapper",r),style:MQ({position:"relative",cursor:"default",width:H,height:fe},E),onClick:$,onContextMenu:L,onDoubleClick:U,onFocus:re,onKeyDown:he,onMouseDown:se,onMouseEnter:q,onMouseLeave:V,onMouseMove:ne,onMouseUp:te,onTouchEnd:me,onTouchMove:_e,onTouchStart:Ae,ref:ae},_.createElement(RQ,null),n)))}),FQ=["width","height","responsive","children","className","style","compact","title","desc"];function HQ(e,t){if(e==null)return{};var n,r,i=GQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var VQ=_.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:c,compact:h,title:f,desc:m}=e,g=HQ(e,FQ),y=kr(g);return h?_.createElement(_.Fragment,null,_.createElement(Mc,{width:n,height:r}),_.createElement(e2,{otherAttributes:y,title:f,desc:m},o)):_.createElement(qQ,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(e2,{otherAttributes:y,title:f,desc:m,ref:t},_.createElement(iJ,null,o)))});function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ty.apply(null,arguments)}var $Q={top:5,right:5,bottom:5,left:5},KQ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:$Q,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},SR=_.forwardRef(function(t,n){var r,i=fn(t.categoricalChartProps,KQ),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:h,categoricalChartProps:f}=t,m={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:h,eventEmitter:void 0};return _.createElement(bQ,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:o},_.createElement(XY,{chartData:f.data}),_.createElement(wQ,{layout:i.layout,margin:i.margin}),_.createElement(AQ,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(VQ,Ty({},i,{ref:n})))}),YQ=["axis"],JQ=_.forwardRef((e,t)=>_.createElement(SR,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:YQ,tooltipPayloadSearcher:hk,categoricalChartProps:e,ref:t})),WQ=["axis","item"],wR=_.forwardRef((e,t)=>_.createElement(SR,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:WQ,tooltipPayloadSearcher:hk,categoricalChartProps:e,ref:t}));const n2=({logs:e,leadCount:t})=>{const[n,r]=_.useState(null),[i,o]=_.useState(!0),[l,c]=_.useState(null),[h,f]=_.useState(e);_.useEffect(()=>{m()},[]),_.useEffect(()=>{f(e)},[e]);const m=async()=>{var N;o(!0),c(null);try{const[A,E,C,P,O]=await Promise.all([Ds().catch(z=>(console.error(" getAgents failed:",z),[])),Xy().catch(z=>(console.error(" getCurrentUsage failed:",z),{voiceMinutes:0,agentCount:0,limits:{agents:1},plan:"Starter"})),Qd().catch(z=>(console.error(" getVoipNumbers failed:",z),{numbers:[]})),Y4().catch(z=>(console.error(" getCalls failed:",z),[])),K4().catch(z=>(console.error(" getContacts failed:",z),[]))]),M=Array.isArray(A)?A:(A==null?void 0:A.agents)||[],k=Array.isArray(C)?C:(C==null?void 0:C.numbers)||[],I=Array.isArray(P)?P:[],R=Array.isArray(O)?O:(O==null?void 0:O.contacts)||[],D=I.filter(z=>z.outcome==="meeting_booked").length;I.length>0&&f(I),r({agentCount:Array.isArray(M)?M.length:E.agentCount||0,totalCalls:I.length||e.length,meetingsBooked:D||e.filter(z=>z.outcome==="meeting_booked").length,leadCount:R.length,voipNumberCount:k.length,currentPlan:E.plan||"Starter",voiceMinutesUsed:E.voiceMinutes||0,agentLimit:((N=E.limits)==null?void 0:N.agents)||1})}catch(A){console.error(" Dashboard data loading error:",A.message),c("Some data couldn't be loaded. Showing available data."),r({agentCount:e.length>0?1:0,totalCalls:e.length,meetingsBooked:e.filter(E=>E.outcome==="meeting_booked").length,leadCount:0,voipNumberCount:0,currentPlan:"Starter",voiceMinutesUsed:0,agentLimit:1})}finally{o(!1)}},y=(N=>{const A={},E=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],C=new Date;for(let O=6;O>=0;O--){const M=new Date;M.setDate(C.getDate()-O);const k=M.toISOString().split("T")[0],I=E[M.getDay()];A[k]={name:I,calls:0,meetings:0}}const P=new Date;return P.setDate(C.getDate()-6),P.setHours(0,0,0,0),N.forEach(O=>{const M=new Date(O.startedAt);if(M>=P){const k=M.toISOString().split("T")[0];A[k]&&(A[k].calls+=1,O.outcome==="meeting_booked"&&(A[k].meetings+=1))}}),Object.values(A)})(h),w=[{name:"Active Agents",value:n?`${n.agentCount}/${n.agentLimit}`:"0/1",icon:sh,color:"bg-blue-500",subtitle:n!=null&&n.currentPlan?`${n.currentPlan} Plan`:"Starter Plan"},{name:"Total Calls",value:(n==null?void 0:n.totalCalls.toString())||"0",icon:rE,color:"bg-indigo-500",subtitle:`${(n==null?void 0:n.voiceMinutesUsed)||0} mins used`},{name:"Meetings Booked",value:(n==null?void 0:n.meetingsBooked.toString())||"0",icon:y3,color:"bg-emerald-500",subtitle:"From calls"},{name:"Total Leads",value:(n==null?void 0:n.leadCount.toString())||"0",icon:w0,color:"bg-amber-500",subtitle:"In database"}];return i?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Dashboard"}),d.jsx("p",{className:"text-slate-500",children:"Welcome back, here's what's happening today."})]}),d.jsxs("div",{className:"flex items-center justify-center h-64",children:[d.jsx(st,{className:"w-8 h-8 animate-spin text-blue-600"}),d.jsx("span",{className:"ml-3 text-slate-600",children:"Loading dashboard data..."})]})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Dashboard"}),d.jsx("p",{className:"text-slate-500",children:"Welcome back, here's what's happening today."})]}),d.jsxs("button",{onClick:m,className:"flex items-center px-3 py-2 text-sm text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:[d.jsx(aI,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),l&&d.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start space-x-3",children:[d.jsx(Pi,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),d.jsx("div",{children:d.jsx("p",{className:"text-sm text-yellow-800",children:"Some data couldn't be loaded. Showing available data."})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:w.map(N=>d.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-500",children:N.name}),d.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:N.value}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:N.subtitle})]}),d.jsx("div",{className:`p-3 rounded-lg ${N.color} bg-opacity-10`,children:d.jsx(N.icon,{className:`w-6 h-6 ${N.color.replace("bg-","text-")}`})})]})},N.name))}),n&&n.voipNumberCount>0&&d.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:d.jsx(kn,{className:"w-5 h-5 text-green-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-900",children:"VOIP Numbers Connected"}),d.jsxs("p",{className:"text-xs text-slate-500",children:[n.voipNumberCount," phone number(s) active"]})]})]}),d.jsx("span",{className:"text-lg font-bold text-green-600",children:n.voipNumberCount})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Weekly Call Volume"}),d.jsx("div",{className:"h-64",children:d.jsx(G0,{width:"100%",height:"100%",children:d.jsxs(wR,{data:y,children:[d.jsx(Vf,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),d.jsx(Yf,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b"}}),d.jsx(Jf,{axisLine:!1,tickLine:!1,tick:{fill:"#64748b"}}),d.jsx(vy,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),d.jsx(Ib,{dataKey:"calls",fill:"#6366f1",radius:[4,4,0,0],barSize:32,name:"Calls"})]})})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Meetings Booked Trend"}),d.jsx("div",{className:"h-64",children:d.jsx(G0,{width:"100%",height:"100%",children:d.jsxs(JQ,{data:y,children:[d.jsx(Vf,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),d.jsx(Yf,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b"}}),d.jsx(Jf,{axisLine:!1,tickLine:!1,tick:{fill:"#64748b"}}),d.jsx(vy,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),d.jsx(aR,{type:"monotone",dataKey:"meetings",stroke:"#10b981",strokeWidth:3,dot:{r:4,fill:"#10b981"},activeDot:{r:6},name:"Meetings"})]})})})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quick Overview"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[d.jsx(ah,{className:"w-5 h-5 text-blue-600"}),d.jsx("span",{className:"font-medium text-slate-900",children:"Current Plan"})]}),d.jsx("p",{className:"text-2xl font-bold text-slate-900",children:(n==null?void 0:n.currentPlan)||"Starter"}),d.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[(n==null?void 0:n.agentCount)||0," of ",(n==null?void 0:n.agentLimit)||1," agents used"]})]}),d.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[d.jsx(rE,{className:"w-5 h-5 text-indigo-600"}),d.jsx("span",{className:"font-medium text-slate-900",children:"Voice Usage"})]}),d.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[(n==null?void 0:n.voiceMinutesUsed)||0," mins"]}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This month"})]}),d.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[d.jsx(w0,{className:"w-5 h-5 text-emerald-600"}),d.jsx("span",{className:"font-medium text-slate-900",children:"Conversion Rate"})]}),d.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n&&n.totalCalls>0?`${Math.round(n.meetingsBooked/n.totalCalls*100)}%`:"0%"}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Calls to meetings"})]})]})]})]})};var Ql={exports:{}},f0={},h0,r2;function XQ(){if(r2)return h0;r2=1;function e(t,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return h0=e,e.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},e.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},e.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var n=new Date().getTime();if(t&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},r),this._options.unref&&this._timer.unref(),!0},e.prototype.attempt=function(t,n){this._fn=t,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},e.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},e.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},e.prototype.start=e.prototype.try,e.prototype.errors=function(){return this._errors},e.prototype.attempts=function(){return this._attempts},e.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},n=null,r=0,i=0;i<this._errors.length;i++){var o=this._errors[i],l=o.message,c=(t[l]||0)+1;t[l]=c,c>=r&&(n=o,r=c)}return n},h0}var i2;function QQ(){return i2||(i2=1,(function(e){var t=XQ();e.operation=function(n){var r=e.timeouts(n);return new t(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],l=0;l<r.retries;l++)o.push(this.createTimeout(l,r));return n&&n.forever&&!o.length&&o.push(this.createTimeout(l,r)),o.sort(function(c,h){return c-h}),o},e.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,o=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return o=Math.min(o,r.maxTimeout),o},e.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var o in n)typeof n[o]=="function"&&i.push(o)}for(var l=0;l<i.length;l++){var c=i[l],h=n[c];n[c]=(function(m){var g=e.operation(r),y=Array.prototype.slice.call(arguments,1),w=y.pop();y.push(function(N){g.retry(N)||(N&&(arguments[0]=g.mainError()),w.apply(this,arguments))}),g.attempt(function(){m.apply(n,y)})}).bind(n,h),n[c].options=r}}})(f0)),f0}var m0,a2;function ZQ(){return a2||(a2=1,m0=QQ()),m0}var o2;function eZ(){if(o2)return Ql.exports;o2=1;const e=ZQ(),t=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class n extends Error{constructor(c){super(),c instanceof Error?(this.originalError=c,{message:c}=c):(this.originalError=new Error(c),this.originalError.stack=this.stack),this.name="AbortError",this.message=c}}const r=(l,c,h)=>{const f=h.retries-(c-1);return l.attemptNumber=c,l.retriesLeft=f,l},i=l=>t.includes(l),o=(l,c)=>new Promise((h,f)=>{c={onFailedAttempt:()=>{},retries:10,...c};const m=e.operation(c);m.attempt(async g=>{try{h(await l(g))}catch(y){if(!(y instanceof Error)){f(new TypeError(`Non-error was thrown: "${y}". You should only throw errors.`));return}if(y instanceof n)m.stop(),f(y.originalError);else if(y instanceof TypeError&&!i(y.message))m.stop(),f(y);else{r(y,g,c);try{await c.onFailedAttempt(y)}catch(w){f(w);return}m.retry(y)||f(m.mainError())}}})});return Ql.exports=o,Ql.exports.default=o,Ql.exports.AbortError=n,Ql.exports}var AR=eZ();const tZ=Lr(AR);var nZ={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let rZ,iZ;function aZ(){return{geminiUrl:rZ,vertexUrl:iZ}}function oZ(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const l=aZ();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $i{}function ye(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(e,t,n){for(let o=0;o<t.length-1;o++){const l=t[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in e))if(Array.isArray(n))e[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[c])){const h=e[c];if(Array.isArray(n))for(let f=0;f<h.length;f++){const m=h[f];x(m,t.slice(o+1),n[f])}else for(const f of h)x(f,t.slice(o+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in e||(e[c]=[{}]);const h=e[c];x(h[0],t.slice(o+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function v(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(c=>v(c,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function sZ(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),l=new Set;let c=-1;for(let h=0;h<i.length;h++)if(i[h]==="*"){c=h;break}if(c!==-1&&o.length>c)for(let h=c;h<o.length;h++){const f=o[h];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}Cy(e,i,o,0,l)}}function Cy(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const l=o.slice(0,-2),c=e;if(l in c&&Array.isArray(c[l]))for(const h of c[l])Cy(h,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,c=Object.keys(l).filter(f=>!f.startsWith("_")&&!i.has(f)),h={};for(const f of c)h[f]=l[f];for(const[f,m]of Object.entries(h)){const g=[];for(const y of n.slice(r))y==="*"?g.push(f):g.push(y);x(l,g,m)}for(const f of c)delete l[f]}}else{const l=e;o in l&&Cy(l[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kb(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lZ(e){const t={},n=v(e,["operationName"]);n!=null&&x(t,["operationName"],n);const r=v(e,["resourceName"]);return r!=null&&x(t,["_url","resourceName"],r),t}function cZ(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=v(e,["done"]);i!=null&&x(t,["done"],i);const o=v(e,["error"]);o!=null&&x(t,["error"],o);const l=v(e,["response","generateVideoResponse"]);return l!=null&&x(t,["response"],dZ(l)),t}function uZ(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=v(e,["done"]);i!=null&&x(t,["done"],i);const o=v(e,["error"]);o!=null&&x(t,["error"],o);const l=v(e,["response"]);return l!=null&&x(t,["response"],fZ(l)),t}function dZ(e){const t={},n=v(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>hZ(l))),x(t,["generatedVideos"],o)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function fZ(e){const t={},n=v(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>mZ(l))),x(t,["generatedVideos"],o)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function hZ(e){const t={},n=v(e,["video"]);return n!=null&&x(t,["video"],bZ(n)),t}function mZ(e){const t={},n=v(e,["_self"]);return n!=null&&x(t,["video"],SZ(n)),t}function pZ(e){const t={},n=v(e,["operationName"]);return n!=null&&x(t,["_url","operationName"],n),t}function gZ(e){const t={},n=v(e,["operationName"]);return n!=null&&x(t,["_url","operationName"],n),t}function vZ(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=v(e,["done"]);i!=null&&x(t,["done"],i);const o=v(e,["error"]);o!=null&&x(t,["error"],o);const l=v(e,["response"]);return l!=null&&x(t,["response"],yZ(l)),t}function yZ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&x(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&x(t,["documentName"],i),t}function ER(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=v(e,["done"]);i!=null&&x(t,["done"],i);const o=v(e,["error"]);o!=null&&x(t,["error"],o);const l=v(e,["response"]);return l!=null&&x(t,["response"],xZ(l)),t}function xZ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&x(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&x(t,["documentName"],i),t}function bZ(e){const t={},n=v(e,["uri"]);n!=null&&x(t,["uri"],n);const r=v(e,["encodedVideo"]);r!=null&&x(t,["videoBytes"],kb(r));const i=v(e,["encoding"]);return i!=null&&x(t,["mimeType"],i),t}function SZ(e){const t={},n=v(e,["gcsUri"]);n!=null&&x(t,["uri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&x(t,["videoBytes"],kb(r));const i=v(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var s2;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(s2||(s2={}));var l2;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(l2||(l2={}));var c2;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(c2||(c2={}));var Aa;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Aa||(Aa={}));var u2;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(u2||(u2={}));var d2;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(d2||(d2={}));var f2;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(f2||(f2={}));var h2;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(h2||(h2={}));var m2;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(m2||(m2={}));var p2;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(p2||(p2={}));var g2;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(g2||(g2={}));var v2;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(v2||(v2={}));var y2;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(y2||(y2={}));var x2;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(x2||(x2={}));var b2;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(b2||(b2={}));var S2;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(S2||(S2={}));var w2;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(w2||(w2={}));var A2;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(A2||(A2={}));var E2;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(E2||(E2={}));var _2;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(_2||(_2={}));var N2;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(N2||(N2={}));var Qf;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Qf||(Qf={}));var T2;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(T2||(T2={}));var C2;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(C2||(C2={}));var P2;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(P2||(P2={}));var Py;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Py||(Py={}));var I2;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(I2||(I2={}));var M2;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(M2||(M2={}));var Iy;(function(e){e.COLLECTION="COLLECTION"})(Iy||(Iy={}));var O2;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(O2||(O2={}));var j2;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(j2||(j2={}));var k2;(function(e){e.PROMINENT_PEOPLE_UNSPECIFIED="PROMINENT_PEOPLE_UNSPECIFIED",e.ALLOW_PROMINENT_PEOPLE="ALLOW_PROMINENT_PEOPLE",e.BLOCK_PROMINENT_PEOPLE="BLOCK_PROMINENT_PEOPLE"})(k2||(k2={}));var Zf;(function(e){e.PREDICT="PREDICT",e.EMBED_CONTENT="EMBED_CONTENT"})(Zf||(Zf={}));var R2;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(R2||(R2={}));var D2;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(D2||(D2={}));var L2;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(L2||(L2={}));var U2;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(U2||(U2={}));var B2;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(B2||(B2={}));var z2;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(z2||(z2={}));var q2;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(q2||(q2={}));var F2;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(F2||(F2={}));var H2;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(H2||(H2={}));var G2;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(G2||(G2={}));var V2;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(V2||(V2={}));var $2;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})($2||($2={}));var K2;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(K2||(K2={}));var Y2;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Y2||(Y2={}));var J2;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(J2||(J2={}));var W2;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(W2||(W2={}));var X2;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(X2||(X2={}));var Q2;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Q2||(Q2={}));var Z2;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(Z2||(Z2={}));var eP;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(eP||(eP={}));var tP;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(tP||(tP={}));var nP;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(nP||(nP={}));var rP;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(rP||(rP={}));var iP;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(iP||(iP={}));var aP;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(aP||(aP={}));var Ss;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Ss||(Ss={}));class My{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Zl{get text(){var t,n,r,i,o,l,c,h;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",m=!1;const g=[];for(const y of(h=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[w,N]of Object.entries(y))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(N!==null||N!==void 0)&&g.push(w);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;m=!0,f+=y.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?f:void 0}get data(){var t,n,r,i,o,l,c,h;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const m=[];for(const g of(h=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[y,w]of Object.entries(g))y!=="inlineData"&&(w!==null||w!==void 0)&&m.push(y);g.inlineData&&typeof g.inlineData.data=="string"&&(f+=atob(g.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,i,o,l,c,h;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(h=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,i,o,l,c,h,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(h=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((m==null?void 0:m.length)!==0)return(f=m==null?void 0:m[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,i,o,l,c,h,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(h=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((m==null?void 0:m.length)!==0)return(f=m==null?void 0:m[0])===null||f===void 0?void 0:f.output}}class oP{}class sP{}class wZ{}class AZ{}class EZ{}class _Z{}class lP{}class cP{}class uP{}class NZ{}class eh{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new eh;let i;const o=t;return n?i=uZ(o):i=cZ(o),Object.assign(r,i),r}}class dP{}class fP{}class hP{}class mP{}class TZ{}class CZ{}class PZ{}class Rb{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Rb,o=vZ(t);return Object.assign(r,o),r}}class IZ{}class MZ{}class OZ{}class jZ{}class pP{}class kZ{get text(){var t,n,r;let i="",o=!1;const l=[];for(const c of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[h,f]of Object.entries(c))h!=="text"&&h!=="thought"&&f!==null&&l.push(h);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;o=!0,i+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,h]of Object.entries(l))c!=="inlineData"&&h!==null&&o.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class RZ{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Db{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Db,o=ER(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function We(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function _R(e,t){const n=We(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function NR(e){return Array.isArray(e)?e.map(t=>th(t)):[th(e)]}function th(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function TR(e){const t=th(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function CR(e){const t=th(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function gP(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function PR(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>gP(t)):[gP(e)]}function Oy(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function vP(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function yP(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Wt(e){if(e==null)throw new Error("ContentUnion is required");return Oy(e)?e:{role:"user",parts:PR(e)}}function Lb(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Wt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Wt(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Wt(n)):[Wt(t)]}function Xn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(vP(e)||yP(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Wt(e)]}const t=[],n=[],r=Oy(e[0]);for(const i of e){const o=Oy(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(vP(i)||yP(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:PR(n)}),t}function DZ(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Aa).includes(n[0].toUpperCase())?n[0].toUpperCase():Aa.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Aa).includes(r.toUpperCase())?r.toUpperCase():Aa.TYPE_UNSPECIFIED})}}function _s(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&DZ(e.type,t);for(const[l,c]of Object.entries(e))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;t.type=Object.values(Aa).includes(c.toUpperCase())?c.toUpperCase():Aa.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=_s(c);else if(r.includes(l)){const h=[];for(const f of c){if(f.type=="null"){t.nullable=!0;continue}h.push(_s(f))}t[l]=h}else if(i.includes(l)){const h={};for(const[f,m]of Object.entries(c))h[f]=_s(m);t[l]=h}else{if(l==="additionalProperties")continue;t[l]=c}return t}function Ub(e){return _s(e)}function Bb(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function zb(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function $s(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=_s(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=_s(t.response));return e}function Ks(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function LZ(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Ki(e,t){if(typeof t!="string")throw new Error("name must be a string");return LZ(e,t,"cachedContents")}function IR(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ja(e){return kb(e)}function UZ(e){return e!=null&&typeof e=="object"&&"name"in e}function BZ(e){return e!=null&&typeof e=="object"&&"video"in e}function zZ(e){return e!=null&&typeof e=="object"&&"uri"in e}function MR(e){var t;let n;if(UZ(e)&&(n=e.name),!(zZ(e)&&(n=e.uri,n===void 0))&&!(BZ(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function OR(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function jR(e){for(const t of["models","tunedModels","publisherModels"])if(qZ(e,t))return e[t];return[]}function qZ(e,t){return e!==null&&typeof e=="object"&&t in e}function FZ(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function HZ(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=FZ(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function kR(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function GZ(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function RR(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const h=l.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Ys(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function DR(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function VZ(e){return e.includes("gemini")&&e!=="gemini-embedding-001"||e.includes("maas")}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $Z(e){const t={},n=v(e,["responsesFile"]);n!=null&&x(t,["fileName"],n);const r=v(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Nee(l))),x(t,["inlinedResponses"],o)}const i=v(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["inlinedEmbedContentResponses"],o)}return t}function KZ(e){const t={},n=v(e,["predictionsFormat"]);n!=null&&x(t,["format"],n);const r=v(e,["gcsDestination","outputUriPrefix"]);r!=null&&x(t,["gcsUri"],r);const i=v(e,["bigqueryDestination","outputUri"]);return i!=null&&x(t,["bigqueryUri"],i),t}function YZ(e){const t={},n=v(e,["format"]);n!=null&&x(t,["predictionsFormat"],n);const r=v(e,["gcsUri"]);r!=null&&x(t,["gcsDestination","outputUriPrefix"],r);const i=v(e,["bigqueryUri"]);if(i!=null&&x(t,["bigqueryDestination","outputUri"],i),v(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function zd(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["metadata","displayName"]);r!=null&&x(t,["displayName"],r);const i=v(e,["metadata","state"]);i!=null&&x(t,["state"],DR(i));const o=v(e,["metadata","createTime"]);o!=null&&x(t,["createTime"],o);const l=v(e,["metadata","endTime"]);l!=null&&x(t,["endTime"],l);const c=v(e,["metadata","updateTime"]);c!=null&&x(t,["updateTime"],c);const h=v(e,["metadata","model"]);h!=null&&x(t,["model"],h);const f=v(e,["metadata","output"]);return f!=null&&x(t,["dest"],$Z(RR(f))),t}function jy(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["displayName"]);r!=null&&x(t,["displayName"],r);const i=v(e,["state"]);i!=null&&x(t,["state"],DR(i));const o=v(e,["error"]);o!=null&&x(t,["error"],o);const l=v(e,["createTime"]);l!=null&&x(t,["createTime"],l);const c=v(e,["startTime"]);c!=null&&x(t,["startTime"],c);const h=v(e,["endTime"]);h!=null&&x(t,["endTime"],h);const f=v(e,["updateTime"]);f!=null&&x(t,["updateTime"],f);const m=v(e,["model"]);m!=null&&x(t,["model"],m);const g=v(e,["inputConfig"]);g!=null&&x(t,["src"],JZ(g));const y=v(e,["outputConfig"]);y!=null&&x(t,["dest"],KZ(RR(y)));const w=v(e,["completionStats"]);return w!=null&&x(t,["completionStats"],w),t}function JZ(e){const t={},n=v(e,["instancesFormat"]);n!=null&&x(t,["format"],n);const r=v(e,["gcsSource","uris"]);r!=null&&x(t,["gcsUri"],r);const i=v(e,["bigquerySource","inputUri"]);return i!=null&&x(t,["bigqueryUri"],i),t}function WZ(e,t){const n={};if(v(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(t,["fileName"]);r!=null&&x(n,["fileName"],r);const i=v(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>_ee(e,l))),x(n,["requests","requests"],o)}return n}function XZ(e){const t={},n=v(e,["format"]);n!=null&&x(t,["instancesFormat"],n);const r=v(e,["gcsUri"]);r!=null&&x(t,["gcsSource","uris"],r);const i=v(e,["bigqueryUri"]);if(i!=null&&x(t,["bigquerySource","inputUri"],i),v(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function QZ(e){const t={},n=v(e,["data"]);if(n!=null&&x(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function ZZ(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],Ys(e,r)),n}function eee(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],Ys(e,r)),n}function tee(e){const t={},n=v(e,["content"]);n!=null&&x(t,["content"],n);const r=v(e,["citationMetadata"]);r!=null&&x(t,["citationMetadata"],nee(r));const i=v(e,["tokenCount"]);i!=null&&x(t,["tokenCount"],i);const o=v(e,["finishReason"]);o!=null&&x(t,["finishReason"],o);const l=v(e,["groundingMetadata"]);l!=null&&x(t,["groundingMetadata"],l);const c=v(e,["avgLogprobs"]);c!=null&&x(t,["avgLogprobs"],c);const h=v(e,["index"]);h!=null&&x(t,["index"],h);const f=v(e,["logprobsResult"]);f!=null&&x(t,["logprobsResult"],f);const m=v(e,["safetyRatings"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(w=>w)),x(t,["safetyRatings"],y)}const g=v(e,["urlContextMetadata"]);return g!=null&&x(t,["urlContextMetadata"],g),t}function nee(e){const t={},n=v(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(t,["citations"],r)}return t}function LR(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jee(o))),x(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&x(t,["role"],r),t}function ree(e,t){const n={},r=v(e,["displayName"]);if(t!==void 0&&r!=null&&x(t,["batch","displayName"],r),v(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function iee(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&x(t,["displayName"],r);const i=v(e,["dest"]);return t!==void 0&&i!=null&&x(t,["outputConfig"],YZ(GZ(i))),n}function xP(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],We(e,r));const i=v(t,["src"]);i!=null&&x(n,["batch","inputConfig"],WZ(e,kR(e,i)));const o=v(t,["config"]);return o!=null&&ree(o,n),n}function aee(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["model"],We(e,r));const i=v(t,["src"]);i!=null&&x(n,["inputConfig"],XZ(kR(e,i)));const o=v(t,["config"]);return o!=null&&iee(o,n),n}function oee(e,t){const n={},r=v(e,["displayName"]);return t!==void 0&&r!=null&&x(t,["batch","displayName"],r),n}function see(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],We(e,r));const i=v(t,["src"]);i!=null&&x(n,["batch","inputConfig"],mee(e,i));const o=v(t,["config"]);return o!=null&&oee(o,n),n}function lee(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],Ys(e,r)),n}function cee(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],Ys(e,r)),n}function uee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["name"]);r!=null&&x(t,["name"],r);const i=v(e,["done"]);i!=null&&x(t,["done"],i);const o=v(e,["error"]);return o!=null&&x(t,["error"],o),t}function dee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["name"]);r!=null&&x(t,["name"],r);const i=v(e,["done"]);i!=null&&x(t,["done"],i);const o=v(e,["error"]);return o!=null&&x(t,["error"],o),t}function fee(e,t){const n={},r=v(t,["contents"]);if(r!=null){let o=Lb(e,r);Array.isArray(o)&&(o=o.map(l=>l)),x(n,["requests[]","request","content"],o)}const i=v(t,["config"]);return i!=null&&(x(n,["_self"],hee(i,n)),sZ(n,{"requests[].*":"requests[].request.*"})),n}function hee(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&x(t,["requests[]","taskType"],r);const i=v(e,["title"]);t!==void 0&&i!=null&&x(t,["requests[]","title"],i);const o=v(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&x(t,["requests[]","outputDimensionality"],o),v(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function mee(e,t){const n={},r=v(t,["fileName"]);r!=null&&x(n,["file_name"],r);const i=v(t,["inlinedRequests"]);return i!=null&&x(n,["requests"],fee(e,i)),n}function pee(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function gee(e){const t={},n=v(e,["id"]);n!=null&&x(t,["id"],n);const r=v(e,["args"]);r!=null&&x(t,["args"],r);const i=v(e,["name"]);if(i!=null&&x(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function vee(e){const t={},n=v(e,["allowedFunctionNames"]);n!=null&&x(t,["allowedFunctionNames"],n);const r=v(e,["mode"]);if(r!=null&&x(t,["mode"],r),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function yee(e,t,n){const r={},i=v(t,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],LR(Wt(i)));const o=v(t,["temperature"]);o!=null&&x(r,["temperature"],o);const l=v(t,["topP"]);l!=null&&x(r,["topP"],l);const c=v(t,["topK"]);c!=null&&x(r,["topK"],c);const h=v(t,["candidateCount"]);h!=null&&x(r,["candidateCount"],h);const f=v(t,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const m=v(t,["stopSequences"]);m!=null&&x(r,["stopSequences"],m);const g=v(t,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const y=v(t,["logprobs"]);y!=null&&x(r,["logprobs"],y);const w=v(t,["presencePenalty"]);w!=null&&x(r,["presencePenalty"],w);const N=v(t,["frequencyPenalty"]);N!=null&&x(r,["frequencyPenalty"],N);const A=v(t,["seed"]);A!=null&&x(r,["seed"],A);const E=v(t,["responseMimeType"]);E!=null&&x(r,["responseMimeType"],E);const C=v(t,["responseSchema"]);C!=null&&x(r,["responseSchema"],Ub(C));const P=v(t,["responseJsonSchema"]);if(P!=null&&x(r,["responseJsonSchema"],P),v(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=v(t,["safetySettings"]);if(n!==void 0&&O!=null){let fe=O;Array.isArray(fe)&&(fe=fe.map(ae=>kee(ae))),x(n,["safetySettings"],fe)}const M=v(t,["tools"]);if(n!==void 0&&M!=null){let fe=Ks(M);Array.isArray(fe)&&(fe=fe.map(ae=>Dee($s(ae)))),x(n,["tools"],fe)}const k=v(t,["toolConfig"]);if(n!==void 0&&k!=null&&x(n,["toolConfig"],Ree(k)),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=v(t,["cachedContent"]);n!==void 0&&I!=null&&x(n,["cachedContent"],Ki(e,I));const R=v(t,["responseModalities"]);R!=null&&x(r,["responseModalities"],R);const D=v(t,["mediaResolution"]);D!=null&&x(r,["mediaResolution"],D);const z=v(t,["speechConfig"]);if(z!=null&&x(r,["speechConfig"],Bb(z)),v(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=v(t,["thinkingConfig"]);X!=null&&x(r,["thinkingConfig"],X);const Q=v(t,["imageConfig"]);Q!=null&&x(r,["imageConfig"],Eee(Q));const H=v(t,["enableEnhancedCivicAnswers"]);if(H!=null&&x(r,["enableEnhancedCivicAnswers"],H),v(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function xee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(f=>tee(f))),x(t,["candidates"],h)}const i=v(e,["modelVersion"]);i!=null&&x(t,["modelVersion"],i);const o=v(e,["promptFeedback"]);o!=null&&x(t,["promptFeedback"],o);const l=v(e,["responseId"]);l!=null&&x(t,["responseId"],l);const c=v(e,["usageMetadata"]);return c!=null&&x(t,["usageMetadata"],c),t}function bee(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],Ys(e,r)),n}function See(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],Ys(e,r)),n}function wee(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function Aee(e){const t={},n=v(e,["searchTypes"]);if(n!=null&&x(t,["searchTypes"],n),v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=v(e,["timeRangeFilter"]);return r!=null&&x(t,["timeRangeFilter"],r),t}function Eee(e){const t={},n=v(e,["aspectRatio"]);n!=null&&x(t,["aspectRatio"],n);const r=v(e,["imageSize"]);if(r!=null&&x(t,["imageSize"],r),v(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(v(e,["prominentPeople"])!==void 0)throw new Error("prominentPeople parameter is not supported in Gemini API.");if(v(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function _ee(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["request","model"],We(e,r));const i=v(t,["contents"]);if(i!=null){let c=Xn(i);Array.isArray(c)&&(c=c.map(h=>LR(h))),x(n,["request","contents"],c)}const o=v(t,["metadata"]);o!=null&&x(n,["metadata"],o);const l=v(t,["config"]);return l!=null&&x(n,["request","generationConfig"],yee(e,l,v(n,["request"],{}))),n}function Nee(e){const t={},n=v(e,["response"]);n!=null&&x(t,["response"],xee(n));const r=v(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=v(e,["error"]);return i!=null&&x(t,["error"],i),t}function Tee(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);if(t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),v(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Cee(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);t!==void 0&&i!=null&&x(t,["_query","pageToken"],i);const o=v(e,["filter"]);return t!==void 0&&o!=null&&x(t,["_query","filter"],o),n}function Pee(e){const t={},n=v(e,["config"]);return n!=null&&Tee(n,t),t}function Iee(e){const t={},n=v(e,["config"]);return n!=null&&Cee(n,t),t}function Mee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=v(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>zd(l))),x(t,["batchJobs"],o)}return t}function Oee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=v(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>jy(l))),x(t,["batchJobs"],o)}return t}function jee(e){const t={},n=v(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&x(t,["fileData"],pee(o));const l=v(e,["functionCall"]);l!=null&&x(t,["functionCall"],gee(l));const c=v(e,["functionResponse"]);c!=null&&x(t,["functionResponse"],c);const h=v(e,["inlineData"]);h!=null&&x(t,["inlineData"],QZ(h));const f=v(e,["text"]);f!=null&&x(t,["text"],f);const m=v(e,["thought"]);m!=null&&x(t,["thought"],m);const g=v(e,["thoughtSignature"]);g!=null&&x(t,["thoughtSignature"],g);const y=v(e,["videoMetadata"]);return y!=null&&x(t,["videoMetadata"],y),t}function kee(e){const t={},n=v(e,["category"]);if(n!=null&&x(t,["category"],n),v(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(e,["threshold"]);return r!=null&&x(t,["threshold"],r),t}function Ree(e){const t={},n=v(e,["retrievalConfig"]);n!=null&&x(t,["retrievalConfig"],n);const r=v(e,["functionCallingConfig"]);return r!=null&&x(t,["functionCallingConfig"],vee(r)),t}function Dee(e){const t={};if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(e,["computerUse"]);n!=null&&x(t,["computerUse"],n);const r=v(e,["fileSearch"]);r!=null&&x(t,["fileSearch"],r);const i=v(e,["googleSearch"]);i!=null&&x(t,["googleSearch"],Aee(i));const o=v(e,["codeExecution"]);if(o!=null&&x(t,["codeExecution"],o),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(e,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>y)),x(t,["functionDeclarations"],g)}const c=v(e,["googleMaps"]);c!=null&&x(t,["googleMaps"],wee(c));const h=v(e,["googleSearchRetrieval"]);h!=null&&x(t,["googleSearchRetrieval"],h);const f=v(e,["urlContext"]);f!=null&&x(t,["urlContext"],f);const m=v(e,["mcpServers"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(y=>y)),x(t,["mcpServers"],g)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Li;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Li||(Li={}));class No{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lee extends $i{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new No(Li.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=xP(this.apiClient,t),r=n._url,i=ye("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,h=c.requests,f=[];for(const m of h){const g=Object.assign({},m);if(g.systemInstruction){const y=g.systemInstruction;delete g.systemInstruction;const w=g.request;w.systemInstruction=y,g.request=w}f.push(g)}return c.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),l=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=aee(this.apiClient,t);return c=ye("batchPredictionJobs",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>jy(m))}else{const f=xP(this.apiClient,t);return c=ye("{model}:batchGenerateContent",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>zd(m))}}async createEmbeddingsInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=see(this.apiClient,t);return o=ye("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>zd(h))}}async get(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=See(this.apiClient,t);return c=ye("batchPredictionJobs/{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>jy(m))}else{const f=bee(this.apiClient,t);return c=ye("batches/{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>zd(m))}}async cancel(t){var n,r,i,o;let l="",c={};if(this.apiClient.isVertexAI()){const h=eee(this.apiClient,t);l=ye("batchPredictionJobs/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const h=ZZ(this.apiClient,t);l=ye("batches/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=Iee(t);return c=ye("batchPredictionJobs",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=Oee(m),y=new pP;return Object.assign(y,g),y})}else{const f=Pee(t);return c=ye("batches",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=Mee(m),y=new pP;return Object.assign(y,g),y})}}async delete(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=cee(this.apiClient,t);return c=ye("batchPredictionJobs/{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>dee(m))}else{const f=lee(this.apiClient,t);return c=ye("batches/{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>uee(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uee(e){const t={},n=v(e,["data"]);if(n!=null&&x(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function bP(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ste(o))),x(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&x(t,["role"],r),t}function Bee(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=v(e,["expireTime"]);t!==void 0&&i!=null&&x(t,["expireTime"],i);const o=v(e,["displayName"]);t!==void 0&&o!=null&&x(t,["displayName"],o);const l=v(e,["contents"]);if(t!==void 0&&l!=null){let m=Xn(l);Array.isArray(m)&&(m=m.map(g=>bP(g))),x(t,["contents"],m)}const c=v(e,["systemInstruction"]);t!==void 0&&c!=null&&x(t,["systemInstruction"],bP(Wt(c)));const h=v(e,["tools"]);if(t!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>cte(g))),x(t,["tools"],m)}const f=v(e,["toolConfig"]);if(t!==void 0&&f!=null&&x(t,["toolConfig"],lte(f)),v(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function zee(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=v(e,["expireTime"]);t!==void 0&&i!=null&&x(t,["expireTime"],i);const o=v(e,["displayName"]);t!==void 0&&o!=null&&x(t,["displayName"],o);const l=v(e,["contents"]);if(t!==void 0&&l!=null){let g=Xn(l);Array.isArray(g)&&(g=g.map(y=>y)),x(t,["contents"],g)}const c=v(e,["systemInstruction"]);t!==void 0&&c!=null&&x(t,["systemInstruction"],Wt(c));const h=v(e,["tools"]);if(t!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(y=>ute(y))),x(t,["tools"],g)}const f=v(e,["toolConfig"]);t!==void 0&&f!=null&&x(t,["toolConfig"],f);const m=v(e,["kmsKeyName"]);return t!==void 0&&m!=null&&x(t,["encryption_spec","kmsKeyName"],m),n}function qee(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["model"],_R(e,r));const i=v(t,["config"]);return i!=null&&Bee(i,n),n}function Fee(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["model"],_R(e,r));const i=v(t,["config"]);return i!=null&&zee(i,n),n}function Hee(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],Ki(e,r)),n}function Gee(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],Ki(e,r)),n}function Vee(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function $ee(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function Kee(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function Yee(e){const t={},n=v(e,["id"]);n!=null&&x(t,["id"],n);const r=v(e,["args"]);r!=null&&x(t,["args"],r);const i=v(e,["name"]);if(i!=null&&x(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Jee(e){const t={},n=v(e,["allowedFunctionNames"]);n!=null&&x(t,["allowedFunctionNames"],n);const r=v(e,["mode"]);if(r!=null&&x(t,["mode"],r),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Wee(e){const t={},n=v(e,["description"]);n!=null&&x(t,["description"],n);const r=v(e,["name"]);r!=null&&x(t,["name"],r);const i=v(e,["parameters"]);i!=null&&x(t,["parameters"],i);const o=v(e,["parametersJsonSchema"]);o!=null&&x(t,["parametersJsonSchema"],o);const l=v(e,["response"]);l!=null&&x(t,["response"],l);const c=v(e,["responseJsonSchema"]);if(c!=null&&x(t,["responseJsonSchema"],c),v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Xee(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],Ki(e,r)),n}function Qee(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],Ki(e,r)),n}function Zee(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function ete(e){const t={},n=v(e,["searchTypes"]);if(n!=null&&x(t,["searchTypes"],n),v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=v(e,["timeRangeFilter"]);return r!=null&&x(t,["timeRangeFilter"],r),t}function tte(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function nte(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function rte(e){const t={},n=v(e,["config"]);return n!=null&&tte(n,t),t}function ite(e){const t={},n=v(e,["config"]);return n!=null&&nte(n,t),t}function ate(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=v(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["cachedContents"],o)}return t}function ote(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=v(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["cachedContents"],o)}return t}function ste(e){const t={},n=v(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&x(t,["fileData"],Kee(o));const l=v(e,["functionCall"]);l!=null&&x(t,["functionCall"],Yee(l));const c=v(e,["functionResponse"]);c!=null&&x(t,["functionResponse"],c);const h=v(e,["inlineData"]);h!=null&&x(t,["inlineData"],Uee(h));const f=v(e,["text"]);f!=null&&x(t,["text"],f);const m=v(e,["thought"]);m!=null&&x(t,["thought"],m);const g=v(e,["thoughtSignature"]);g!=null&&x(t,["thoughtSignature"],g);const y=v(e,["videoMetadata"]);return y!=null&&x(t,["videoMetadata"],y),t}function lte(e){const t={},n=v(e,["retrievalConfig"]);n!=null&&x(t,["retrievalConfig"],n);const r=v(e,["functionCallingConfig"]);return r!=null&&x(t,["functionCallingConfig"],Jee(r)),t}function cte(e){const t={};if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(e,["computerUse"]);n!=null&&x(t,["computerUse"],n);const r=v(e,["fileSearch"]);r!=null&&x(t,["fileSearch"],r);const i=v(e,["googleSearch"]);i!=null&&x(t,["googleSearch"],ete(i));const o=v(e,["codeExecution"]);if(o!=null&&x(t,["codeExecution"],o),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(e,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>y)),x(t,["functionDeclarations"],g)}const c=v(e,["googleMaps"]);c!=null&&x(t,["googleMaps"],Zee(c));const h=v(e,["googleSearchRetrieval"]);h!=null&&x(t,["googleSearchRetrieval"],h);const f=v(e,["urlContext"]);f!=null&&x(t,["urlContext"],f);const m=v(e,["mcpServers"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(y=>y)),x(t,["mcpServers"],g)}return t}function ute(e){const t={},n=v(e,["retrieval"]);n!=null&&x(t,["retrieval"],n);const r=v(e,["computerUse"]);if(r!=null&&x(t,["computerUse"],r),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=v(e,["googleSearch"]);i!=null&&x(t,["googleSearch"],i);const o=v(e,["codeExecution"]);o!=null&&x(t,["codeExecution"],o);const l=v(e,["enterpriseWebSearch"]);l!=null&&x(t,["enterpriseWebSearch"],l);const c=v(e,["functionDeclarations"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>Wee(y))),x(t,["functionDeclarations"],g)}const h=v(e,["googleMaps"]);h!=null&&x(t,["googleMaps"],h);const f=v(e,["googleSearchRetrieval"]);f!=null&&x(t,["googleSearchRetrieval"],f);const m=v(e,["urlContext"]);if(m!=null&&x(t,["urlContext"],m),v(e,["mcpServers"])!==void 0)throw new Error("mcpServers parameter is not supported in Vertex AI.");return t}function dte(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=v(e,["expireTime"]);return t!==void 0&&i!=null&&x(t,["expireTime"],i),n}function fte(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=v(e,["expireTime"]);return t!==void 0&&i!=null&&x(t,["expireTime"],i),n}function hte(e,t){const n={},r=v(t,["name"]);r!=null&&x(n,["_url","name"],Ki(e,r));const i=v(t,["config"]);return i!=null&&dte(i,n),n}function mte(e,t){const n={},r=v(t,["name"]);r!=null&&x(n,["_url","name"],Ki(e,r));const i=v(t,["config"]);return i!=null&&fte(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pte extends $i{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new No(Li.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=Fee(this.apiClient,t);return c=ye("cachedContents",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const f=qee(this.apiClient,t);return c=ye("cachedContents",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async get(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=Qee(this.apiClient,t);return c=ye("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const f=Xee(this.apiClient,t);return c=ye("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async delete(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=Gee(this.apiClient,t);return c=ye("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=$ee(m),y=new hP;return Object.assign(y,g),y})}else{const f=Hee(this.apiClient,t);return c=ye("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=Vee(m),y=new hP;return Object.assign(y,g),y})}}async update(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=mte(this.apiClient,t);return c=ye("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const f=hte(this.apiClient,t);return c=ye("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async listInternal(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=ite(t);return c=ye("cachedContents",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=ote(m),y=new mP;return Object.assign(y,g),y})}else{const f=rte(t);return c=ye("cachedContents",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=ate(m),y=new mP;return Object.assign(y,g),y})}}}function nh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function SP(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ke(e){return this instanceof ke?(this.v=e,this):new ke(e)}function Or(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(w){return function(N){return Promise.resolve(N).then(w,g)}}function c(w,N){r[w]&&(i[w]=function(A){return new Promise(function(E,C){o.push([w,A,E,C])>1||h(w,A)})},N&&(i[w]=N(i[w])))}function h(w,N){try{f(r[w](N))}catch(A){y(o[0][3],A)}}function f(w){w.value instanceof ke?Promise.resolve(w.value.v).then(m,g):y(o[0][2],w)}function m(w){h("next",w)}function g(w){h("throw",w)}function y(w,N){w(N),o.shift(),o.length&&h(o[0][0],o[0][1])}}function jr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof SP=="function"?SP(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(l){return new Promise(function(c,h){l=e[o](l),i(c,h,l.done,l.value)})}}function i(o,l,c,h){Promise.resolve(h).then(function(f){o({value:f,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gte(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:UR(n)}function UR(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function vte(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function wP(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!UR(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class yte{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new xte(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class xte{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),vte(o)}async sendMessage(t){var n;await this.sendPromise;const r=Wt(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,c;const h=await i,f=(l=(o=h.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,m=h.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let y=[];m!=null&&(y=(c=m.slice(g))!==null&&c!==void 0?c:[]);const w=f?[f]:[];this.recordHistory(r,w,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=Wt(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?wP(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Or(this,arguments,function*(){var i,o,l,c,h,f;const m=[];try{for(var g=!0,y=jr(t),w;w=yield ke(y.next()),i=w.done,!i;g=!0){c=w.value,g=!1;const N=c;if(gte(N)){const A=(f=(h=N.candidates)===null||h===void 0?void 0:h[0])===null||f===void 0?void 0:f.content;A!==void 0&&m.push(A)}yield yield ke(N)}}catch(N){o={error:N}}finally{try{!g&&!i&&(l=y.return)&&(yield ke(l.call(y)))}finally{if(o)throw o.error}}this.recordHistory(n,m)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...wP(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _c extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,_c.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bte(e){const t={},n=v(e,["file"]);return n!=null&&x(t,["file"],n),t}function Ste(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function wte(e){const t={},n=v(e,["name"]);return n!=null&&x(t,["_url","file"],MR(n)),t}function Ate(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function Ete(e){const t={},n=v(e,["name"]);return n!=null&&x(t,["_url","file"],MR(n)),t}function _te(e){const t={},n=v(e,["uris"]);return n!=null&&x(t,["uris"],n),t}function Nte(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function Tte(e){const t={},n=v(e,["config"]);return n!=null&&Nte(n,t),t}function Cte(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=v(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["files"],o)}return t}function Pte(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ite extends $i{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new No(Li.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Tte(t);return o=ye("files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:h.headers},m})),i.then(h=>{const f=Cte(h),m=new IZ;return Object.assign(m,f),m})}}async createInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=bte(t);return o=ye("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=Ste(h),m=new MZ;return Object.assign(m,f),m})}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Ete(t);return o=ye("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=wte(t);return o=ye("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:h.headers},m})),i.then(h=>{const f=Ate(h),m=new OZ;return Object.assign(m,f),m})}}async registerFilesInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=_te(t);return o=ye("files:register",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=Pte(h),m=new jZ;return Object.assign(m,f),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qd(e){const t={},n=v(e,["data"]);if(n!=null&&x(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function Mte(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Kte(o))),x(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&x(t,["role"],r),t}function Ote(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function jte(e){const t={},n=v(e,["id"]);n!=null&&x(t,["id"],n);const r=v(e,["args"]);r!=null&&x(t,["args"],r);const i=v(e,["name"]);if(i!=null&&x(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function kte(e){const t={},n=v(e,["description"]);n!=null&&x(t,["description"],n);const r=v(e,["name"]);r!=null&&x(t,["name"],r);const i=v(e,["parameters"]);i!=null&&x(t,["parameters"],i);const o=v(e,["parametersJsonSchema"]);o!=null&&x(t,["parametersJsonSchema"],o);const l=v(e,["response"]);l!=null&&x(t,["response"],l);const c=v(e,["responseJsonSchema"]);if(c!=null&&x(t,["responseJsonSchema"],c),v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Rte(e){const t={},n=v(e,["modelSelectionConfig"]);n!=null&&x(t,["modelConfig"],n);const r=v(e,["responseJsonSchema"]);r!=null&&x(t,["responseJsonSchema"],r);const i=v(e,["audioTimestamp"]);i!=null&&x(t,["audioTimestamp"],i);const o=v(e,["candidateCount"]);o!=null&&x(t,["candidateCount"],o);const l=v(e,["enableAffectiveDialog"]);l!=null&&x(t,["enableAffectiveDialog"],l);const c=v(e,["frequencyPenalty"]);c!=null&&x(t,["frequencyPenalty"],c);const h=v(e,["logprobs"]);h!=null&&x(t,["logprobs"],h);const f=v(e,["maxOutputTokens"]);f!=null&&x(t,["maxOutputTokens"],f);const m=v(e,["mediaResolution"]);m!=null&&x(t,["mediaResolution"],m);const g=v(e,["presencePenalty"]);g!=null&&x(t,["presencePenalty"],g);const y=v(e,["responseLogprobs"]);y!=null&&x(t,["responseLogprobs"],y);const w=v(e,["responseMimeType"]);w!=null&&x(t,["responseMimeType"],w);const N=v(e,["responseModalities"]);N!=null&&x(t,["responseModalities"],N);const A=v(e,["responseSchema"]);A!=null&&x(t,["responseSchema"],A);const E=v(e,["routingConfig"]);E!=null&&x(t,["routingConfig"],E);const C=v(e,["seed"]);C!=null&&x(t,["seed"],C);const P=v(e,["speechConfig"]);P!=null&&x(t,["speechConfig"],P);const O=v(e,["stopSequences"]);O!=null&&x(t,["stopSequences"],O);const M=v(e,["temperature"]);M!=null&&x(t,["temperature"],M);const k=v(e,["thinkingConfig"]);k!=null&&x(t,["thinkingConfig"],k);const I=v(e,["topK"]);I!=null&&x(t,["topK"],I);const R=v(e,["topP"]);if(R!=null&&x(t,["topP"],R),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Dte(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function Lte(e){const t={},n=v(e,["searchTypes"]);if(n!=null&&x(t,["searchTypes"],n),v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=v(e,["timeRangeFilter"]);return r!=null&&x(t,["timeRangeFilter"],r),t}function Ute(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&x(t,["setup","generationConfig"],r);const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&x(t,["setup","generationConfig","responseModalities"],i);const o=v(e,["temperature"]);t!==void 0&&o!=null&&x(t,["setup","generationConfig","temperature"],o);const l=v(e,["topP"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","topP"],l);const c=v(e,["topK"]);t!==void 0&&c!=null&&x(t,["setup","generationConfig","topK"],c);const h=v(e,["maxOutputTokens"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","maxOutputTokens"],h);const f=v(e,["mediaResolution"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","mediaResolution"],f);const m=v(e,["seed"]);t!==void 0&&m!=null&&x(t,["setup","generationConfig","seed"],m);const g=v(e,["speechConfig"]);t!==void 0&&g!=null&&x(t,["setup","generationConfig","speechConfig"],zb(g));const y=v(e,["thinkingConfig"]);t!==void 0&&y!=null&&x(t,["setup","generationConfig","thinkingConfig"],y);const w=v(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],w);const N=v(e,["systemInstruction"]);t!==void 0&&N!=null&&x(t,["setup","systemInstruction"],Mte(Wt(N)));const A=v(e,["tools"]);if(t!==void 0&&A!=null){let I=Ks(A);Array.isArray(I)&&(I=I.map(R=>Jte($s(R)))),x(t,["setup","tools"],I)}const E=v(e,["sessionResumption"]);t!==void 0&&E!=null&&x(t,["setup","sessionResumption"],Yte(E));const C=v(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&x(t,["setup","inputAudioTranscription"],C);const P=v(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&x(t,["setup","outputAudioTranscription"],P);const O=v(e,["realtimeInputConfig"]);t!==void 0&&O!=null&&x(t,["setup","realtimeInputConfig"],O);const M=v(e,["contextWindowCompression"]);t!==void 0&&M!=null&&x(t,["setup","contextWindowCompression"],M);const k=v(e,["proactivity"]);if(t!==void 0&&k!=null&&x(t,["setup","proactivity"],k),v(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Bte(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&x(t,["setup","generationConfig"],Rte(r));const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&x(t,["setup","generationConfig","responseModalities"],i);const o=v(e,["temperature"]);t!==void 0&&o!=null&&x(t,["setup","generationConfig","temperature"],o);const l=v(e,["topP"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","topP"],l);const c=v(e,["topK"]);t!==void 0&&c!=null&&x(t,["setup","generationConfig","topK"],c);const h=v(e,["maxOutputTokens"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","maxOutputTokens"],h);const f=v(e,["mediaResolution"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","mediaResolution"],f);const m=v(e,["seed"]);t!==void 0&&m!=null&&x(t,["setup","generationConfig","seed"],m);const g=v(e,["speechConfig"]);t!==void 0&&g!=null&&x(t,["setup","generationConfig","speechConfig"],zb(g));const y=v(e,["thinkingConfig"]);t!==void 0&&y!=null&&x(t,["setup","generationConfig","thinkingConfig"],y);const w=v(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],w);const N=v(e,["systemInstruction"]);t!==void 0&&N!=null&&x(t,["setup","systemInstruction"],Wt(N));const A=v(e,["tools"]);if(t!==void 0&&A!=null){let R=Ks(A);Array.isArray(R)&&(R=R.map(D=>Wte($s(D)))),x(t,["setup","tools"],R)}const E=v(e,["sessionResumption"]);t!==void 0&&E!=null&&x(t,["setup","sessionResumption"],E);const C=v(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&x(t,["setup","inputAudioTranscription"],C);const P=v(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&x(t,["setup","outputAudioTranscription"],P);const O=v(e,["realtimeInputConfig"]);t!==void 0&&O!=null&&x(t,["setup","realtimeInputConfig"],O);const M=v(e,["contextWindowCompression"]);t!==void 0&&M!=null&&x(t,["setup","contextWindowCompression"],M);const k=v(e,["proactivity"]);t!==void 0&&k!=null&&x(t,["setup","proactivity"],k);const I=v(e,["explicitVadSignal"]);return t!==void 0&&I!=null&&x(t,["setup","explicitVadSignal"],I),n}function zte(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["setup","model"],We(e,r));const i=v(t,["config"]);return i!=null&&x(n,["config"],Ute(i,n)),n}function qte(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["setup","model"],We(e,r));const i=v(t,["config"]);return i!=null&&x(n,["config"],Bte(i,n)),n}function Fte(e){const t={},n=v(e,["musicGenerationConfig"]);return n!=null&&x(t,["musicGenerationConfig"],n),t}function Hte(e){const t={},n=v(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(t,["weightedPrompts"],r)}return t}function Gte(e){const t={},n=v(e,["media"]);if(n!=null){let f=NR(n);Array.isArray(f)&&(f=f.map(m=>qd(m))),x(t,["mediaChunks"],f)}const r=v(e,["audio"]);r!=null&&x(t,["audio"],qd(CR(r)));const i=v(e,["audioStreamEnd"]);i!=null&&x(t,["audioStreamEnd"],i);const o=v(e,["video"]);o!=null&&x(t,["video"],qd(TR(o)));const l=v(e,["text"]);l!=null&&x(t,["text"],l);const c=v(e,["activityStart"]);c!=null&&x(t,["activityStart"],c);const h=v(e,["activityEnd"]);return h!=null&&x(t,["activityEnd"],h),t}function Vte(e){const t={},n=v(e,["media"]);if(n!=null){let f=NR(n);Array.isArray(f)&&(f=f.map(m=>m)),x(t,["mediaChunks"],f)}const r=v(e,["audio"]);r!=null&&x(t,["audio"],CR(r));const i=v(e,["audioStreamEnd"]);i!=null&&x(t,["audioStreamEnd"],i);const o=v(e,["video"]);o!=null&&x(t,["video"],TR(o));const l=v(e,["text"]);l!=null&&x(t,["text"],l);const c=v(e,["activityStart"]);c!=null&&x(t,["activityStart"],c);const h=v(e,["activityEnd"]);return h!=null&&x(t,["activityEnd"],h),t}function $te(e){const t={},n=v(e,["setupComplete"]);n!=null&&x(t,["setupComplete"],n);const r=v(e,["serverContent"]);r!=null&&x(t,["serverContent"],r);const i=v(e,["toolCall"]);i!=null&&x(t,["toolCall"],i);const o=v(e,["toolCallCancellation"]);o!=null&&x(t,["toolCallCancellation"],o);const l=v(e,["usageMetadata"]);l!=null&&x(t,["usageMetadata"],Xte(l));const c=v(e,["goAway"]);c!=null&&x(t,["goAway"],c);const h=v(e,["sessionResumptionUpdate"]);h!=null&&x(t,["sessionResumptionUpdate"],h);const f=v(e,["voiceActivityDetectionSignal"]);f!=null&&x(t,["voiceActivityDetectionSignal"],f);const m=v(e,["voiceActivity"]);return m!=null&&x(t,["voiceActivity"],Qte(m)),t}function Kte(e){const t={},n=v(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&x(t,["fileData"],Ote(o));const l=v(e,["functionCall"]);l!=null&&x(t,["functionCall"],jte(l));const c=v(e,["functionResponse"]);c!=null&&x(t,["functionResponse"],c);const h=v(e,["inlineData"]);h!=null&&x(t,["inlineData"],qd(h));const f=v(e,["text"]);f!=null&&x(t,["text"],f);const m=v(e,["thought"]);m!=null&&x(t,["thought"],m);const g=v(e,["thoughtSignature"]);g!=null&&x(t,["thoughtSignature"],g);const y=v(e,["videoMetadata"]);return y!=null&&x(t,["videoMetadata"],y),t}function Yte(e){const t={},n=v(e,["handle"]);if(n!=null&&x(t,["handle"],n),v(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Jte(e){const t={};if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(e,["computerUse"]);n!=null&&x(t,["computerUse"],n);const r=v(e,["fileSearch"]);r!=null&&x(t,["fileSearch"],r);const i=v(e,["googleSearch"]);i!=null&&x(t,["googleSearch"],Lte(i));const o=v(e,["codeExecution"]);if(o!=null&&x(t,["codeExecution"],o),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(e,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>y)),x(t,["functionDeclarations"],g)}const c=v(e,["googleMaps"]);c!=null&&x(t,["googleMaps"],Dte(c));const h=v(e,["googleSearchRetrieval"]);h!=null&&x(t,["googleSearchRetrieval"],h);const f=v(e,["urlContext"]);f!=null&&x(t,["urlContext"],f);const m=v(e,["mcpServers"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(y=>y)),x(t,["mcpServers"],g)}return t}function Wte(e){const t={},n=v(e,["retrieval"]);n!=null&&x(t,["retrieval"],n);const r=v(e,["computerUse"]);if(r!=null&&x(t,["computerUse"],r),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=v(e,["googleSearch"]);i!=null&&x(t,["googleSearch"],i);const o=v(e,["codeExecution"]);o!=null&&x(t,["codeExecution"],o);const l=v(e,["enterpriseWebSearch"]);l!=null&&x(t,["enterpriseWebSearch"],l);const c=v(e,["functionDeclarations"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>kte(y))),x(t,["functionDeclarations"],g)}const h=v(e,["googleMaps"]);h!=null&&x(t,["googleMaps"],h);const f=v(e,["googleSearchRetrieval"]);f!=null&&x(t,["googleSearchRetrieval"],f);const m=v(e,["urlContext"]);if(m!=null&&x(t,["urlContext"],m),v(e,["mcpServers"])!==void 0)throw new Error("mcpServers parameter is not supported in Vertex AI.");return t}function Xte(e){const t={},n=v(e,["promptTokenCount"]);n!=null&&x(t,["promptTokenCount"],n);const r=v(e,["cachedContentTokenCount"]);r!=null&&x(t,["cachedContentTokenCount"],r);const i=v(e,["candidatesTokenCount"]);i!=null&&x(t,["responseTokenCount"],i);const o=v(e,["toolUsePromptTokenCount"]);o!=null&&x(t,["toolUsePromptTokenCount"],o);const l=v(e,["thoughtsTokenCount"]);l!=null&&x(t,["thoughtsTokenCount"],l);const c=v(e,["totalTokenCount"]);c!=null&&x(t,["totalTokenCount"],c);const h=v(e,["promptTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(N=>N)),x(t,["promptTokensDetails"],w)}const f=v(e,["cacheTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(N=>N)),x(t,["cacheTokensDetails"],w)}const m=v(e,["candidatesTokensDetails"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(N=>N)),x(t,["responseTokensDetails"],w)}const g=v(e,["toolUsePromptTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(N=>N)),x(t,["toolUsePromptTokensDetails"],w)}const y=v(e,["trafficType"]);return y!=null&&x(t,["trafficType"],y),t}function Qte(e){const t={},n=v(e,["type"]);return n!=null&&x(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zte(e,t){const n={},r=v(e,["data"]);if(r!=null&&x(n,["data"],r),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=v(e,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function ene(e,t){const n={},r=v(e,["content"]);r!=null&&x(n,["content"],r);const i=v(e,["citationMetadata"]);i!=null&&x(n,["citationMetadata"],tne(i));const o=v(e,["tokenCount"]);o!=null&&x(n,["tokenCount"],o);const l=v(e,["finishReason"]);l!=null&&x(n,["finishReason"],l);const c=v(e,["groundingMetadata"]);c!=null&&x(n,["groundingMetadata"],c);const h=v(e,["avgLogprobs"]);h!=null&&x(n,["avgLogprobs"],h);const f=v(e,["index"]);f!=null&&x(n,["index"],f);const m=v(e,["logprobsResult"]);m!=null&&x(n,["logprobsResult"],m);const g=v(e,["safetyRatings"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(N=>N)),x(n,["safetyRatings"],w)}const y=v(e,["urlContextMetadata"]);return y!=null&&x(n,["urlContextMetadata"],y),n}function tne(e,t){const n={},r=v(e,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(n,["citations"],i)}return n}function nne(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","model"],We(e,i));const o=v(t,["contents"]);if(o!=null){let l=Xn(o);Array.isArray(l)&&(l=l.map(c=>c)),x(r,["contents"],l)}return r}function rne(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(n,["tokensInfo"],o)}return n}function ine(e,t){const n={},r=v(e,["values"]);r!=null&&x(n,["values"],r);const i=v(e,["statistics"]);return i!=null&&x(n,["statistics"],ane(i)),n}function ane(e,t){const n={},r=v(e,["truncated"]);r!=null&&x(n,["truncated"],r);const i=v(e,["token_count"]);return i!=null&&x(n,["tokenCount"],i),n}function Gc(e,t){const n={},r=v(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>mre(l))),x(n,["parts"],o)}const i=v(e,["role"]);return i!=null&&x(n,["role"],i),n}function one(e,t){const n={},r=v(e,["controlType"]);r!=null&&x(n,["controlType"],r);const i=v(e,["enableControlImageComputation"]);return i!=null&&x(n,["computeControl"],i),n}function sne(e,t){const n={};if(v(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function lne(e,t,n){const r={},i=v(e,["systemInstruction"]);t!==void 0&&i!=null&&x(t,["systemInstruction"],Wt(i));const o=v(e,["tools"]);if(t!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>FR(h))),x(t,["tools"],c)}const l=v(e,["generationConfig"]);return t!==void 0&&l!=null&&x(t,["generationConfig"],Zne(l)),r}function cne(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","model"],We(e,i));const o=v(t,["contents"]);if(o!=null){let c=Xn(o);Array.isArray(c)&&(c=c.map(h=>Gc(h))),x(r,["contents"],c)}const l=v(t,["config"]);return l!=null&&sne(l),r}function une(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","model"],We(e,i));const o=v(t,["contents"]);if(o!=null){let c=Xn(o);Array.isArray(c)&&(c=c.map(h=>h)),x(r,["contents"],c)}const l=v(t,["config"]);return l!=null&&lne(l,r),r}function dne(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["totalTokens"]);i!=null&&x(n,["totalTokens"],i);const o=v(e,["cachedContentTokenCount"]);return o!=null&&x(n,["cachedContentTokenCount"],o),n}function fne(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["totalTokens"]);return i!=null&&x(n,["totalTokens"],i),n}function hne(e,t,n){const r={},i=v(t,["model"]);return i!=null&&x(r,["_url","name"],We(e,i)),r}function mne(e,t,n){const r={},i=v(t,["model"]);return i!=null&&x(r,["_url","name"],We(e,i)),r}function pne(e,t){const n={},r=v(e,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function gne(e,t){const n={},r=v(e,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function vne(e,t,n){const r={},i=v(e,["outputGcsUri"]);t!==void 0&&i!=null&&x(t,["parameters","storageUri"],i);const o=v(e,["negativePrompt"]);t!==void 0&&o!=null&&x(t,["parameters","negativePrompt"],o);const l=v(e,["numberOfImages"]);t!==void 0&&l!=null&&x(t,["parameters","sampleCount"],l);const c=v(e,["aspectRatio"]);t!==void 0&&c!=null&&x(t,["parameters","aspectRatio"],c);const h=v(e,["guidanceScale"]);t!==void 0&&h!=null&&x(t,["parameters","guidanceScale"],h);const f=v(e,["seed"]);t!==void 0&&f!=null&&x(t,["parameters","seed"],f);const m=v(e,["safetyFilterLevel"]);t!==void 0&&m!=null&&x(t,["parameters","safetySetting"],m);const g=v(e,["personGeneration"]);t!==void 0&&g!=null&&x(t,["parameters","personGeneration"],g);const y=v(e,["includeSafetyAttributes"]);t!==void 0&&y!=null&&x(t,["parameters","includeSafetyAttributes"],y);const w=v(e,["includeRaiReason"]);t!==void 0&&w!=null&&x(t,["parameters","includeRaiReason"],w);const N=v(e,["language"]);t!==void 0&&N!=null&&x(t,["parameters","language"],N);const A=v(e,["outputMimeType"]);t!==void 0&&A!=null&&x(t,["parameters","outputOptions","mimeType"],A);const E=v(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&x(t,["parameters","outputOptions","compressionQuality"],E);const C=v(e,["addWatermark"]);t!==void 0&&C!=null&&x(t,["parameters","addWatermark"],C);const P=v(e,["labels"]);t!==void 0&&P!=null&&x(t,["labels"],P);const O=v(e,["editMode"]);t!==void 0&&O!=null&&x(t,["parameters","editMode"],O);const M=v(e,["baseSteps"]);return t!==void 0&&M!=null&&x(t,["parameters","editConfig","baseSteps"],M),r}function yne(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","model"],We(e,i));const o=v(t,["prompt"]);o!=null&&x(r,["instances[0]","prompt"],o);const l=v(t,["referenceImages"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(f=>bre(f))),x(r,["instances[0]","referenceImages"],h)}const c=v(t,["config"]);return c!=null&&vne(c,r),r}function xne(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>tm(l))),x(n,["generatedImages"],o)}return n}function bne(e,t,n){const r={},i=v(e,["taskType"]);t!==void 0&&i!=null&&x(t,["requests[]","taskType"],i);const o=v(e,["title"]);t!==void 0&&o!=null&&x(t,["requests[]","title"],o);const l=v(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&x(t,["requests[]","outputDimensionality"],l),v(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Sne(e,t,n){const r={};let i=v(n,["embeddingApiType"]);if(i===void 0&&(i="PREDICT"),i==="PREDICT"){const f=v(e,["taskType"]);t!==void 0&&f!=null&&x(t,["instances[]","task_type"],f)}else if(i==="EMBED_CONTENT"){const f=v(e,["taskType"]);t!==void 0&&f!=null&&x(t,["taskType"],f)}let o=v(n,["embeddingApiType"]);if(o===void 0&&(o="PREDICT"),o==="PREDICT"){const f=v(e,["title"]);t!==void 0&&f!=null&&x(t,["instances[]","title"],f)}else if(o==="EMBED_CONTENT"){const f=v(e,["title"]);t!==void 0&&f!=null&&x(t,["title"],f)}let l=v(n,["embeddingApiType"]);if(l===void 0&&(l="PREDICT"),l==="PREDICT"){const f=v(e,["outputDimensionality"]);t!==void 0&&f!=null&&x(t,["parameters","outputDimensionality"],f)}else if(l==="EMBED_CONTENT"){const f=v(e,["outputDimensionality"]);t!==void 0&&f!=null&&x(t,["outputDimensionality"],f)}let c=v(n,["embeddingApiType"]);if(c===void 0&&(c="PREDICT"),c==="PREDICT"){const f=v(e,["mimeType"]);t!==void 0&&f!=null&&x(t,["instances[]","mimeType"],f)}let h=v(n,["embeddingApiType"]);if(h===void 0&&(h="PREDICT"),h==="PREDICT"){const f=v(e,["autoTruncate"]);t!==void 0&&f!=null&&x(t,["parameters","autoTruncate"],f)}else if(h==="EMBED_CONTENT"){const f=v(e,["autoTruncate"]);t!==void 0&&f!=null&&x(t,["autoTruncate"],f)}return r}function wne(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","model"],We(e,i));const o=v(t,["contents"]);if(o!=null){let f=Lb(e,o);Array.isArray(f)&&(f=f.map(m=>m)),x(r,["requests[]","content"],f)}const l=v(t,["content"]);l!=null&&Gc(Wt(l));const c=v(t,["config"]);c!=null&&bne(c,r);const h=v(t,["model"]);return h!==void 0&&x(r,["requests[]","model"],We(e,h)),r}function Ane(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","model"],We(e,i));let o=v(n,["embeddingApiType"]);if(o===void 0&&(o="PREDICT"),o==="PREDICT"){const h=v(t,["contents"]);if(h!=null){let f=Lb(e,h);Array.isArray(f)&&(f=f.map(m=>m)),x(r,["instances[]","content"],f)}}let l=v(n,["embeddingApiType"]);if(l===void 0&&(l="PREDICT"),l==="EMBED_CONTENT"){const h=v(t,["content"]);h!=null&&x(r,["content"],Wt(h))}const c=v(t,["config"]);return c!=null&&Sne(c,r,n),r}function Ene(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),x(n,["embeddings"],l)}const o=v(e,["metadata"]);return o!=null&&x(n,["metadata"],o),n}function _ne(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>ine(c))),x(n,["embeddings"],l)}const o=v(e,["metadata"]);if(o!=null&&x(n,["metadata"],o),t&&v(t,["embeddingApiType"])==="EMBED_CONTENT"){const l=v(e,["embedding"]),c=v(e,["usageMetadata"]),h=v(e,["truncated"]);if(l){const f={};c&&c.promptTokenCount&&(f.tokenCount=c.promptTokenCount),h&&(f.truncated=h),l.statistics=f,x(n,["embeddings"],[l])}}return n}function Nne(e,t){const n={},r=v(e,["endpoint"]);r!=null&&x(n,["name"],r);const i=v(e,["deployedModelId"]);return i!=null&&x(n,["deployedModelId"],i),n}function Tne(e,t){const n={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["fileUri"]);r!=null&&x(n,["fileUri"],r);const i=v(e,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function Cne(e,t){const n={},r=v(e,["id"]);r!=null&&x(n,["id"],r);const i=v(e,["args"]);i!=null&&x(n,["args"],i);const o=v(e,["name"]);if(o!=null&&x(n,["name"],o),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Pne(e,t){const n={},r=v(e,["allowedFunctionNames"]);r!=null&&x(n,["allowedFunctionNames"],r);const i=v(e,["mode"]);if(i!=null&&x(n,["mode"],i),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function Ine(e,t){const n={},r=v(e,["description"]);r!=null&&x(n,["description"],r);const i=v(e,["name"]);i!=null&&x(n,["name"],i);const o=v(e,["parameters"]);o!=null&&x(n,["parameters"],o);const l=v(e,["parametersJsonSchema"]);l!=null&&x(n,["parametersJsonSchema"],l);const c=v(e,["response"]);c!=null&&x(n,["response"],c);const h=v(e,["responseJsonSchema"]);if(h!=null&&x(n,["responseJsonSchema"],h),v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function Mne(e,t,n,r){const i={},o=v(t,["systemInstruction"]);n!==void 0&&o!=null&&x(n,["systemInstruction"],Gc(Wt(o)));const l=v(t,["temperature"]);l!=null&&x(i,["temperature"],l);const c=v(t,["topP"]);c!=null&&x(i,["topP"],c);const h=v(t,["topK"]);h!=null&&x(i,["topK"],h);const f=v(t,["candidateCount"]);f!=null&&x(i,["candidateCount"],f);const m=v(t,["maxOutputTokens"]);m!=null&&x(i,["maxOutputTokens"],m);const g=v(t,["stopSequences"]);g!=null&&x(i,["stopSequences"],g);const y=v(t,["responseLogprobs"]);y!=null&&x(i,["responseLogprobs"],y);const w=v(t,["logprobs"]);w!=null&&x(i,["logprobs"],w);const N=v(t,["presencePenalty"]);N!=null&&x(i,["presencePenalty"],N);const A=v(t,["frequencyPenalty"]);A!=null&&x(i,["frequencyPenalty"],A);const E=v(t,["seed"]);E!=null&&x(i,["seed"],E);const C=v(t,["responseMimeType"]);C!=null&&x(i,["responseMimeType"],C);const P=v(t,["responseSchema"]);P!=null&&x(i,["responseSchema"],Ub(P));const O=v(t,["responseJsonSchema"]);if(O!=null&&x(i,["responseJsonSchema"],O),v(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=v(t,["safetySettings"]);if(n!==void 0&&M!=null){let ae=M;Array.isArray(ae)&&(ae=ae.map($=>Sre($))),x(n,["safetySettings"],ae)}const k=v(t,["tools"]);if(n!==void 0&&k!=null){let ae=Ks(k);Array.isArray(ae)&&(ae=ae.map($=>Cre($s($)))),x(n,["tools"],ae)}const I=v(t,["toolConfig"]);if(n!==void 0&&I!=null&&x(n,["toolConfig"],Tre(I)),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=v(t,["cachedContent"]);n!==void 0&&R!=null&&x(n,["cachedContent"],Ki(e,R));const D=v(t,["responseModalities"]);D!=null&&x(i,["responseModalities"],D);const z=v(t,["mediaResolution"]);z!=null&&x(i,["mediaResolution"],z);const X=v(t,["speechConfig"]);if(X!=null&&x(i,["speechConfig"],Bb(X)),v(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=v(t,["thinkingConfig"]);Q!=null&&x(i,["thinkingConfig"],Q);const H=v(t,["imageConfig"]);H!=null&&x(i,["imageConfig"],ire(H));const fe=v(t,["enableEnhancedCivicAnswers"]);if(fe!=null&&x(i,["enableEnhancedCivicAnswers"],fe),v(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function One(e,t,n,r){const i={},o=v(t,["systemInstruction"]);n!==void 0&&o!=null&&x(n,["systemInstruction"],Wt(o));const l=v(t,["temperature"]);l!=null&&x(i,["temperature"],l);const c=v(t,["topP"]);c!=null&&x(i,["topP"],c);const h=v(t,["topK"]);h!=null&&x(i,["topK"],h);const f=v(t,["candidateCount"]);f!=null&&x(i,["candidateCount"],f);const m=v(t,["maxOutputTokens"]);m!=null&&x(i,["maxOutputTokens"],m);const g=v(t,["stopSequences"]);g!=null&&x(i,["stopSequences"],g);const y=v(t,["responseLogprobs"]);y!=null&&x(i,["responseLogprobs"],y);const w=v(t,["logprobs"]);w!=null&&x(i,["logprobs"],w);const N=v(t,["presencePenalty"]);N!=null&&x(i,["presencePenalty"],N);const A=v(t,["frequencyPenalty"]);A!=null&&x(i,["frequencyPenalty"],A);const E=v(t,["seed"]);E!=null&&x(i,["seed"],E);const C=v(t,["responseMimeType"]);C!=null&&x(i,["responseMimeType"],C);const P=v(t,["responseSchema"]);P!=null&&x(i,["responseSchema"],Ub(P));const O=v(t,["responseJsonSchema"]);O!=null&&x(i,["responseJsonSchema"],O);const M=v(t,["routingConfig"]);M!=null&&x(i,["routingConfig"],M);const k=v(t,["modelSelectionConfig"]);k!=null&&x(i,["modelConfig"],k);const I=v(t,["safetySettings"]);if(n!==void 0&&I!=null){let ne=I;Array.isArray(ne)&&(ne=ne.map(re=>re)),x(n,["safetySettings"],ne)}const R=v(t,["tools"]);if(n!==void 0&&R!=null){let ne=Ks(R);Array.isArray(ne)&&(ne=ne.map(re=>FR($s(re)))),x(n,["tools"],ne)}const D=v(t,["toolConfig"]);n!==void 0&&D!=null&&x(n,["toolConfig"],D);const z=v(t,["labels"]);n!==void 0&&z!=null&&x(n,["labels"],z);const X=v(t,["cachedContent"]);n!==void 0&&X!=null&&x(n,["cachedContent"],Ki(e,X));const Q=v(t,["responseModalities"]);Q!=null&&x(i,["responseModalities"],Q);const H=v(t,["mediaResolution"]);H!=null&&x(i,["mediaResolution"],H);const fe=v(t,["speechConfig"]);fe!=null&&x(i,["speechConfig"],Bb(fe));const ae=v(t,["audioTimestamp"]);ae!=null&&x(i,["audioTimestamp"],ae);const $=v(t,["thinkingConfig"]);$!=null&&x(i,["thinkingConfig"],$);const q=v(t,["imageConfig"]);if(q!=null&&x(i,["imageConfig"],are(q)),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const V=v(t,["modelArmorConfig"]);return n!==void 0&&V!=null&&x(n,["modelArmorConfig"],V),i}function AP(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","model"],We(e,i));const o=v(t,["contents"]);if(o!=null){let c=Xn(o);Array.isArray(c)&&(c=c.map(h=>Gc(h))),x(r,["contents"],c)}const l=v(t,["config"]);return l!=null&&x(r,["generationConfig"],Mne(e,l,r)),r}function EP(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","model"],We(e,i));const o=v(t,["contents"]);if(o!=null){let c=Xn(o);Array.isArray(c)&&(c=c.map(h=>h)),x(r,["contents"],c)}const l=v(t,["config"]);return l!=null&&x(r,["generationConfig"],One(e,l,r)),r}function _P(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>ene(m))),x(n,["candidates"],f)}const o=v(e,["modelVersion"]);o!=null&&x(n,["modelVersion"],o);const l=v(e,["promptFeedback"]);l!=null&&x(n,["promptFeedback"],l);const c=v(e,["responseId"]);c!=null&&x(n,["responseId"],c);const h=v(e,["usageMetadata"]);return h!=null&&x(n,["usageMetadata"],h),n}function NP(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(g=>g)),x(n,["candidates"],m)}const o=v(e,["createTime"]);o!=null&&x(n,["createTime"],o);const l=v(e,["modelVersion"]);l!=null&&x(n,["modelVersion"],l);const c=v(e,["promptFeedback"]);c!=null&&x(n,["promptFeedback"],c);const h=v(e,["responseId"]);h!=null&&x(n,["responseId"],h);const f=v(e,["usageMetadata"]);return f!=null&&x(n,["usageMetadata"],f),n}function jne(e,t,n){const r={};if(v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=v(e,["numberOfImages"]);t!==void 0&&i!=null&&x(t,["parameters","sampleCount"],i);const o=v(e,["aspectRatio"]);t!==void 0&&o!=null&&x(t,["parameters","aspectRatio"],o);const l=v(e,["guidanceScale"]);if(t!==void 0&&l!=null&&x(t,["parameters","guidanceScale"],l),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=v(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&x(t,["parameters","safetySetting"],c);const h=v(e,["personGeneration"]);t!==void 0&&h!=null&&x(t,["parameters","personGeneration"],h);const f=v(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&x(t,["parameters","includeSafetyAttributes"],f);const m=v(e,["includeRaiReason"]);t!==void 0&&m!=null&&x(t,["parameters","includeRaiReason"],m);const g=v(e,["language"]);t!==void 0&&g!=null&&x(t,["parameters","language"],g);const y=v(e,["outputMimeType"]);t!==void 0&&y!=null&&x(t,["parameters","outputOptions","mimeType"],y);const w=v(e,["outputCompressionQuality"]);if(t!==void 0&&w!=null&&x(t,["parameters","outputOptions","compressionQuality"],w),v(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=v(e,["imageSize"]);if(t!==void 0&&N!=null&&x(t,["parameters","sampleImageSize"],N),v(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function kne(e,t,n){const r={},i=v(e,["outputGcsUri"]);t!==void 0&&i!=null&&x(t,["parameters","storageUri"],i);const o=v(e,["negativePrompt"]);t!==void 0&&o!=null&&x(t,["parameters","negativePrompt"],o);const l=v(e,["numberOfImages"]);t!==void 0&&l!=null&&x(t,["parameters","sampleCount"],l);const c=v(e,["aspectRatio"]);t!==void 0&&c!=null&&x(t,["parameters","aspectRatio"],c);const h=v(e,["guidanceScale"]);t!==void 0&&h!=null&&x(t,["parameters","guidanceScale"],h);const f=v(e,["seed"]);t!==void 0&&f!=null&&x(t,["parameters","seed"],f);const m=v(e,["safetyFilterLevel"]);t!==void 0&&m!=null&&x(t,["parameters","safetySetting"],m);const g=v(e,["personGeneration"]);t!==void 0&&g!=null&&x(t,["parameters","personGeneration"],g);const y=v(e,["includeSafetyAttributes"]);t!==void 0&&y!=null&&x(t,["parameters","includeSafetyAttributes"],y);const w=v(e,["includeRaiReason"]);t!==void 0&&w!=null&&x(t,["parameters","includeRaiReason"],w);const N=v(e,["language"]);t!==void 0&&N!=null&&x(t,["parameters","language"],N);const A=v(e,["outputMimeType"]);t!==void 0&&A!=null&&x(t,["parameters","outputOptions","mimeType"],A);const E=v(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&x(t,["parameters","outputOptions","compressionQuality"],E);const C=v(e,["addWatermark"]);t!==void 0&&C!=null&&x(t,["parameters","addWatermark"],C);const P=v(e,["labels"]);t!==void 0&&P!=null&&x(t,["labels"],P);const O=v(e,["imageSize"]);t!==void 0&&O!=null&&x(t,["parameters","sampleImageSize"],O);const M=v(e,["enhancePrompt"]);return t!==void 0&&M!=null&&x(t,["parameters","enhancePrompt"],M),r}function Rne(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","model"],We(e,i));const o=v(t,["prompt"]);o!=null&&x(r,["instances[0]","prompt"],o);const l=v(t,["config"]);return l!=null&&jne(l,r),r}function Dne(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","model"],We(e,i));const o=v(t,["prompt"]);o!=null&&x(r,["instances[0]","prompt"],o);const l=v(t,["config"]);return l!=null&&kne(l,r),r}function Lne(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Jne(c))),x(n,["generatedImages"],l)}const o=v(e,["positivePromptSafetyAttributes"]);return o!=null&&x(n,["positivePromptSafetyAttributes"],zR(o)),n}function Une(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>tm(c))),x(n,["generatedImages"],l)}const o=v(e,["positivePromptSafetyAttributes"]);return o!=null&&x(n,["positivePromptSafetyAttributes"],qR(o)),n}function Bne(e,t,n){const r={},i=v(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&x(t,["parameters","sampleCount"],i),v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=v(e,["durationSeconds"]);if(t!==void 0&&o!=null&&x(t,["parameters","durationSeconds"],o),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=v(e,["aspectRatio"]);t!==void 0&&l!=null&&x(t,["parameters","aspectRatio"],l);const c=v(e,["resolution"]);t!==void 0&&c!=null&&x(t,["parameters","resolution"],c);const h=v(e,["personGeneration"]);if(t!==void 0&&h!=null&&x(t,["parameters","personGeneration"],h),v(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=v(e,["negativePrompt"]);t!==void 0&&f!=null&&x(t,["parameters","negativePrompt"],f);const m=v(e,["enhancePrompt"]);if(t!==void 0&&m!=null&&x(t,["parameters","enhancePrompt"],m),v(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=v(e,["lastFrame"]);t!==void 0&&g!=null&&x(t,["instances[0]","lastFrame"],nm(g));const y=v(e,["referenceImages"]);if(t!==void 0&&y!=null){let w=y;Array.isArray(w)&&(w=w.map(N=>qre(N))),x(t,["instances[0]","referenceImages"],w)}if(v(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function zne(e,t,n){const r={},i=v(e,["numberOfVideos"]);t!==void 0&&i!=null&&x(t,["parameters","sampleCount"],i);const o=v(e,["outputGcsUri"]);t!==void 0&&o!=null&&x(t,["parameters","storageUri"],o);const l=v(e,["fps"]);t!==void 0&&l!=null&&x(t,["parameters","fps"],l);const c=v(e,["durationSeconds"]);t!==void 0&&c!=null&&x(t,["parameters","durationSeconds"],c);const h=v(e,["seed"]);t!==void 0&&h!=null&&x(t,["parameters","seed"],h);const f=v(e,["aspectRatio"]);t!==void 0&&f!=null&&x(t,["parameters","aspectRatio"],f);const m=v(e,["resolution"]);t!==void 0&&m!=null&&x(t,["parameters","resolution"],m);const g=v(e,["personGeneration"]);t!==void 0&&g!=null&&x(t,["parameters","personGeneration"],g);const y=v(e,["pubsubTopic"]);t!==void 0&&y!=null&&x(t,["parameters","pubsubTopic"],y);const w=v(e,["negativePrompt"]);t!==void 0&&w!=null&&x(t,["parameters","negativePrompt"],w);const N=v(e,["enhancePrompt"]);t!==void 0&&N!=null&&x(t,["parameters","enhancePrompt"],N);const A=v(e,["generateAudio"]);t!==void 0&&A!=null&&x(t,["parameters","generateAudio"],A);const E=v(e,["lastFrame"]);t!==void 0&&E!=null&&x(t,["instances[0]","lastFrame"],Br(E));const C=v(e,["referenceImages"]);if(t!==void 0&&C!=null){let M=C;Array.isArray(M)&&(M=M.map(k=>Fre(k))),x(t,["instances[0]","referenceImages"],M)}const P=v(e,["mask"]);t!==void 0&&P!=null&&x(t,["instances[0]","mask"],zre(P));const O=v(e,["compressionQuality"]);return t!==void 0&&O!=null&&x(t,["parameters","compressionQuality"],O),r}function qne(e,t){const n={},r=v(e,["name"]);r!=null&&x(n,["name"],r);const i=v(e,["metadata"]);i!=null&&x(n,["metadata"],i);const o=v(e,["done"]);o!=null&&x(n,["done"],o);const l=v(e,["error"]);l!=null&&x(n,["error"],l);const c=v(e,["response","generateVideoResponse"]);return c!=null&&x(n,["response"],Vne(c)),n}function Fne(e,t){const n={},r=v(e,["name"]);r!=null&&x(n,["name"],r);const i=v(e,["metadata"]);i!=null&&x(n,["metadata"],i);const o=v(e,["done"]);o!=null&&x(n,["done"],o);const l=v(e,["error"]);l!=null&&x(n,["error"],l);const c=v(e,["response"]);return c!=null&&x(n,["response"],$ne(c)),n}function Hne(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","model"],We(e,i));const o=v(t,["prompt"]);o!=null&&x(r,["instances[0]","prompt"],o);const l=v(t,["image"]);l!=null&&x(r,["instances[0]","image"],nm(l));const c=v(t,["video"]);c!=null&&x(r,["instances[0]","video"],HR(c));const h=v(t,["source"]);h!=null&&Kne(h,r);const f=v(t,["config"]);return f!=null&&Bne(f,r),r}function Gne(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","model"],We(e,i));const o=v(t,["prompt"]);o!=null&&x(r,["instances[0]","prompt"],o);const l=v(t,["image"]);l!=null&&x(r,["instances[0]","image"],Br(l));const c=v(t,["video"]);c!=null&&x(r,["instances[0]","video"],GR(c));const h=v(t,["source"]);h!=null&&Yne(h,r);const f=v(t,["config"]);return f!=null&&zne(f,r),r}function Vne(e,t){const n={},r=v(e,["generatedSamples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Xne(c))),x(n,["generatedVideos"],l)}const i=v(e,["raiMediaFilteredCount"]);i!=null&&x(n,["raiMediaFilteredCount"],i);const o=v(e,["raiMediaFilteredReasons"]);return o!=null&&x(n,["raiMediaFilteredReasons"],o),n}function $ne(e,t){const n={},r=v(e,["videos"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Qne(c))),x(n,["generatedVideos"],l)}const i=v(e,["raiMediaFilteredCount"]);i!=null&&x(n,["raiMediaFilteredCount"],i);const o=v(e,["raiMediaFilteredReasons"]);return o!=null&&x(n,["raiMediaFilteredReasons"],o),n}function Kne(e,t,n){const r={},i=v(e,["prompt"]);t!==void 0&&i!=null&&x(t,["instances[0]","prompt"],i);const o=v(e,["image"]);t!==void 0&&o!=null&&x(t,["instances[0]","image"],nm(o));const l=v(e,["video"]);return t!==void 0&&l!=null&&x(t,["instances[0]","video"],HR(l)),r}function Yne(e,t,n){const r={},i=v(e,["prompt"]);t!==void 0&&i!=null&&x(t,["instances[0]","prompt"],i);const o=v(e,["image"]);t!==void 0&&o!=null&&x(t,["instances[0]","image"],Br(o));const l=v(e,["video"]);return t!==void 0&&l!=null&&x(t,["instances[0]","video"],GR(l)),r}function Jne(e,t){const n={},r=v(e,["_self"]);r!=null&&x(n,["image"],ore(r));const i=v(e,["raiFilteredReason"]);i!=null&&x(n,["raiFilteredReason"],i);const o=v(e,["_self"]);return o!=null&&x(n,["safetyAttributes"],zR(o)),n}function tm(e,t){const n={},r=v(e,["_self"]);r!=null&&x(n,["image"],BR(r));const i=v(e,["raiFilteredReason"]);i!=null&&x(n,["raiFilteredReason"],i);const o=v(e,["_self"]);o!=null&&x(n,["safetyAttributes"],qR(o));const l=v(e,["prompt"]);return l!=null&&x(n,["enhancedPrompt"],l),n}function Wne(e,t){const n={},r=v(e,["_self"]);r!=null&&x(n,["mask"],BR(r));const i=v(e,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(n,["labels"],o)}return n}function Xne(e,t){const n={},r=v(e,["video"]);return r!=null&&x(n,["video"],Ure(r)),n}function Qne(e,t){const n={},r=v(e,["_self"]);return r!=null&&x(n,["video"],Bre(r)),n}function Zne(e,t){const n={},r=v(e,["modelSelectionConfig"]);r!=null&&x(n,["modelConfig"],r);const i=v(e,["responseJsonSchema"]);i!=null&&x(n,["responseJsonSchema"],i);const o=v(e,["audioTimestamp"]);o!=null&&x(n,["audioTimestamp"],o);const l=v(e,["candidateCount"]);l!=null&&x(n,["candidateCount"],l);const c=v(e,["enableAffectiveDialog"]);c!=null&&x(n,["enableAffectiveDialog"],c);const h=v(e,["frequencyPenalty"]);h!=null&&x(n,["frequencyPenalty"],h);const f=v(e,["logprobs"]);f!=null&&x(n,["logprobs"],f);const m=v(e,["maxOutputTokens"]);m!=null&&x(n,["maxOutputTokens"],m);const g=v(e,["mediaResolution"]);g!=null&&x(n,["mediaResolution"],g);const y=v(e,["presencePenalty"]);y!=null&&x(n,["presencePenalty"],y);const w=v(e,["responseLogprobs"]);w!=null&&x(n,["responseLogprobs"],w);const N=v(e,["responseMimeType"]);N!=null&&x(n,["responseMimeType"],N);const A=v(e,["responseModalities"]);A!=null&&x(n,["responseModalities"],A);const E=v(e,["responseSchema"]);E!=null&&x(n,["responseSchema"],E);const C=v(e,["routingConfig"]);C!=null&&x(n,["routingConfig"],C);const P=v(e,["seed"]);P!=null&&x(n,["seed"],P);const O=v(e,["speechConfig"]);O!=null&&x(n,["speechConfig"],O);const M=v(e,["stopSequences"]);M!=null&&x(n,["stopSequences"],M);const k=v(e,["temperature"]);k!=null&&x(n,["temperature"],k);const I=v(e,["thinkingConfig"]);I!=null&&x(n,["thinkingConfig"],I);const R=v(e,["topK"]);R!=null&&x(n,["topK"],R);const D=v(e,["topP"]);if(D!=null&&x(n,["topP"],D),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function ere(e,t,n){const r={},i=v(t,["model"]);return i!=null&&x(r,["_url","name"],We(e,i)),r}function tre(e,t,n){const r={},i=v(t,["model"]);return i!=null&&x(r,["_url","name"],We(e,i)),r}function nre(e,t){const n={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=v(e,["enableWidget"]);return r!=null&&x(n,["enableWidget"],r),n}function rre(e,t){const n={},r=v(e,["searchTypes"]);if(r!=null&&x(n,["searchTypes"],r),v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=v(e,["timeRangeFilter"]);return i!=null&&x(n,["timeRangeFilter"],i),n}function ire(e,t){const n={},r=v(e,["aspectRatio"]);r!=null&&x(n,["aspectRatio"],r);const i=v(e,["imageSize"]);if(i!=null&&x(n,["imageSize"],i),v(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(v(e,["prominentPeople"])!==void 0)throw new Error("prominentPeople parameter is not supported in Gemini API.");if(v(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function are(e,t){const n={},r=v(e,["aspectRatio"]);r!=null&&x(n,["aspectRatio"],r);const i=v(e,["imageSize"]);i!=null&&x(n,["imageSize"],i);const o=v(e,["personGeneration"]);o!=null&&x(n,["personGeneration"],o);const l=v(e,["prominentPeople"]);l!=null&&x(n,["prominentPeople"],l);const c=v(e,["outputMimeType"]);c!=null&&x(n,["imageOutputOptions","mimeType"],c);const h=v(e,["outputCompressionQuality"]);return h!=null&&x(n,["imageOutputOptions","compressionQuality"],h),n}function ore(e,t){const n={},r=v(e,["bytesBase64Encoded"]);r!=null&&x(n,["imageBytes"],ja(r));const i=v(e,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function BR(e,t){const n={},r=v(e,["gcsUri"]);r!=null&&x(n,["gcsUri"],r);const i=v(e,["bytesBase64Encoded"]);i!=null&&x(n,["imageBytes"],ja(i));const o=v(e,["mimeType"]);return o!=null&&x(n,["mimeType"],o),n}function nm(e,t){const n={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=v(e,["imageBytes"]);r!=null&&x(n,["bytesBase64Encoded"],ja(r));const i=v(e,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function Br(e,t){const n={},r=v(e,["gcsUri"]);r!=null&&x(n,["gcsUri"],r);const i=v(e,["imageBytes"]);i!=null&&x(n,["bytesBase64Encoded"],ja(i));const o=v(e,["mimeType"]);return o!=null&&x(n,["mimeType"],o),n}function sre(e,t,n,r){const i={},o=v(t,["pageSize"]);n!==void 0&&o!=null&&x(n,["_query","pageSize"],o);const l=v(t,["pageToken"]);n!==void 0&&l!=null&&x(n,["_query","pageToken"],l);const c=v(t,["filter"]);n!==void 0&&c!=null&&x(n,["_query","filter"],c);const h=v(t,["queryBase"]);return n!==void 0&&h!=null&&x(n,["_url","models_url"],OR(e,h)),i}function lre(e,t,n,r){const i={},o=v(t,["pageSize"]);n!==void 0&&o!=null&&x(n,["_query","pageSize"],o);const l=v(t,["pageToken"]);n!==void 0&&l!=null&&x(n,["_query","pageToken"],l);const c=v(t,["filter"]);n!==void 0&&c!=null&&x(n,["_query","filter"],c);const h=v(t,["queryBase"]);return n!==void 0&&h!=null&&x(n,["_url","models_url"],OR(e,h)),i}function cre(e,t,n){const r={},i=v(t,["config"]);return i!=null&&sre(e,i,r),r}function ure(e,t,n){const r={},i=v(t,["config"]);return i!=null&&lre(e,i,r),r}function dre(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const o=v(e,["_self"]);if(o!=null){let l=jR(o);Array.isArray(l)&&(l=l.map(c=>ky(c))),x(n,["models"],l)}return n}function fre(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const o=v(e,["_self"]);if(o!=null){let l=jR(o);Array.isArray(l)&&(l=l.map(c=>Ry(c))),x(n,["models"],l)}return n}function hre(e,t){const n={},r=v(e,["maskMode"]);r!=null&&x(n,["maskMode"],r);const i=v(e,["segmentationClasses"]);i!=null&&x(n,["maskClasses"],i);const o=v(e,["maskDilation"]);return o!=null&&x(n,["dilation"],o),n}function ky(e,t){const n={},r=v(e,["name"]);r!=null&&x(n,["name"],r);const i=v(e,["displayName"]);i!=null&&x(n,["displayName"],i);const o=v(e,["description"]);o!=null&&x(n,["description"],o);const l=v(e,["version"]);l!=null&&x(n,["version"],l);const c=v(e,["_self"]);c!=null&&x(n,["tunedModelInfo"],Pre(c));const h=v(e,["inputTokenLimit"]);h!=null&&x(n,["inputTokenLimit"],h);const f=v(e,["outputTokenLimit"]);f!=null&&x(n,["outputTokenLimit"],f);const m=v(e,["supportedGenerationMethods"]);m!=null&&x(n,["supportedActions"],m);const g=v(e,["temperature"]);g!=null&&x(n,["temperature"],g);const y=v(e,["maxTemperature"]);y!=null&&x(n,["maxTemperature"],y);const w=v(e,["topP"]);w!=null&&x(n,["topP"],w);const N=v(e,["topK"]);N!=null&&x(n,["topK"],N);const A=v(e,["thinking"]);return A!=null&&x(n,["thinking"],A),n}function Ry(e,t){const n={},r=v(e,["name"]);r!=null&&x(n,["name"],r);const i=v(e,["displayName"]);i!=null&&x(n,["displayName"],i);const o=v(e,["description"]);o!=null&&x(n,["description"],o);const l=v(e,["versionId"]);l!=null&&x(n,["version"],l);const c=v(e,["deployedModels"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(w=>Nne(w))),x(n,["endpoints"],y)}const h=v(e,["labels"]);h!=null&&x(n,["labels"],h);const f=v(e,["_self"]);f!=null&&x(n,["tunedModelInfo"],Ire(f));const m=v(e,["defaultCheckpointId"]);m!=null&&x(n,["defaultCheckpointId"],m);const g=v(e,["checkpoints"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(w=>w)),x(n,["checkpoints"],y)}return n}function mre(e,t){const n={},r=v(e,["mediaResolution"]);r!=null&&x(n,["mediaResolution"],r);const i=v(e,["codeExecutionResult"]);i!=null&&x(n,["codeExecutionResult"],i);const o=v(e,["executableCode"]);o!=null&&x(n,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(n,["fileData"],Tne(l));const c=v(e,["functionCall"]);c!=null&&x(n,["functionCall"],Cne(c));const h=v(e,["functionResponse"]);h!=null&&x(n,["functionResponse"],h);const f=v(e,["inlineData"]);f!=null&&x(n,["inlineData"],Zte(f));const m=v(e,["text"]);m!=null&&x(n,["text"],m);const g=v(e,["thought"]);g!=null&&x(n,["thought"],g);const y=v(e,["thoughtSignature"]);y!=null&&x(n,["thoughtSignature"],y);const w=v(e,["videoMetadata"]);return w!=null&&x(n,["videoMetadata"],w),n}function pre(e,t){const n={},r=v(e,["productImage"]);return r!=null&&x(n,["image"],Br(r)),n}function gre(e,t,n){const r={},i=v(e,["numberOfImages"]);t!==void 0&&i!=null&&x(t,["parameters","sampleCount"],i);const o=v(e,["baseSteps"]);t!==void 0&&o!=null&&x(t,["parameters","baseSteps"],o);const l=v(e,["outputGcsUri"]);t!==void 0&&l!=null&&x(t,["parameters","storageUri"],l);const c=v(e,["seed"]);t!==void 0&&c!=null&&x(t,["parameters","seed"],c);const h=v(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&x(t,["parameters","safetySetting"],h);const f=v(e,["personGeneration"]);t!==void 0&&f!=null&&x(t,["parameters","personGeneration"],f);const m=v(e,["addWatermark"]);t!==void 0&&m!=null&&x(t,["parameters","addWatermark"],m);const g=v(e,["outputMimeType"]);t!==void 0&&g!=null&&x(t,["parameters","outputOptions","mimeType"],g);const y=v(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&x(t,["parameters","outputOptions","compressionQuality"],y);const w=v(e,["enhancePrompt"]);t!==void 0&&w!=null&&x(t,["parameters","enhancePrompt"],w);const N=v(e,["labels"]);return t!==void 0&&N!=null&&x(t,["labels"],N),r}function vre(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","model"],We(e,i));const o=v(t,["source"]);o!=null&&xre(o,r);const l=v(t,["config"]);return l!=null&&gre(l,r),r}function yre(e,t){const n={},r=v(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>tm(o))),x(n,["generatedImages"],i)}return n}function xre(e,t,n){const r={},i=v(e,["prompt"]);t!==void 0&&i!=null&&x(t,["instances[0]","prompt"],i);const o=v(e,["personImage"]);t!==void 0&&o!=null&&x(t,["instances[0]","personImage","image"],Br(o));const l=v(e,["productImages"]);if(t!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>pre(h))),x(t,["instances[0]","productImages"],c)}return r}function bre(e,t){const n={},r=v(e,["referenceImage"]);r!=null&&x(n,["referenceImage"],Br(r));const i=v(e,["referenceId"]);i!=null&&x(n,["referenceId"],i);const o=v(e,["referenceType"]);o!=null&&x(n,["referenceType"],o);const l=v(e,["maskImageConfig"]);l!=null&&x(n,["maskImageConfig"],hre(l));const c=v(e,["controlImageConfig"]);c!=null&&x(n,["controlImageConfig"],one(c));const h=v(e,["styleImageConfig"]);h!=null&&x(n,["styleImageConfig"],h);const f=v(e,["subjectImageConfig"]);return f!=null&&x(n,["subjectImageConfig"],f),n}function zR(e,t){const n={},r=v(e,["safetyAttributes","categories"]);r!=null&&x(n,["categories"],r);const i=v(e,["safetyAttributes","scores"]);i!=null&&x(n,["scores"],i);const o=v(e,["contentType"]);return o!=null&&x(n,["contentType"],o),n}function qR(e,t){const n={},r=v(e,["safetyAttributes","categories"]);r!=null&&x(n,["categories"],r);const i=v(e,["safetyAttributes","scores"]);i!=null&&x(n,["scores"],i);const o=v(e,["contentType"]);return o!=null&&x(n,["contentType"],o),n}function Sre(e,t){const n={},r=v(e,["category"]);if(r!=null&&x(n,["category"],r),v(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=v(e,["threshold"]);return i!=null&&x(n,["threshold"],i),n}function wre(e,t){const n={},r=v(e,["image"]);return r!=null&&x(n,["image"],Br(r)),n}function Are(e,t,n){const r={},i=v(e,["mode"]);t!==void 0&&i!=null&&x(t,["parameters","mode"],i);const o=v(e,["maxPredictions"]);t!==void 0&&o!=null&&x(t,["parameters","maxPredictions"],o);const l=v(e,["confidenceThreshold"]);t!==void 0&&l!=null&&x(t,["parameters","confidenceThreshold"],l);const c=v(e,["maskDilation"]);t!==void 0&&c!=null&&x(t,["parameters","maskDilation"],c);const h=v(e,["binaryColorThreshold"]);t!==void 0&&h!=null&&x(t,["parameters","binaryColorThreshold"],h);const f=v(e,["labels"]);return t!==void 0&&f!=null&&x(t,["labels"],f),r}function Ere(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","model"],We(e,i));const o=v(t,["source"]);o!=null&&Nre(o,r);const l=v(t,["config"]);return l!=null&&Are(l,r),r}function _re(e,t){const n={},r=v(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Wne(o))),x(n,["generatedMasks"],i)}return n}function Nre(e,t,n){const r={},i=v(e,["prompt"]);t!==void 0&&i!=null&&x(t,["instances[0]","prompt"],i);const o=v(e,["image"]);t!==void 0&&o!=null&&x(t,["instances[0]","image"],Br(o));const l=v(e,["scribbleImage"]);return t!==void 0&&l!=null&&x(t,["instances[0]","scribble"],wre(l)),r}function Tre(e,t){const n={},r=v(e,["retrievalConfig"]);r!=null&&x(n,["retrievalConfig"],r);const i=v(e,["functionCallingConfig"]);return i!=null&&x(n,["functionCallingConfig"],Pne(i)),n}function Cre(e,t){const n={};if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["computerUse"]);r!=null&&x(n,["computerUse"],r);const i=v(e,["fileSearch"]);i!=null&&x(n,["fileSearch"],i);const o=v(e,["googleSearch"]);o!=null&&x(n,["googleSearch"],rre(o));const l=v(e,["codeExecution"]);if(l!=null&&x(n,["codeExecution"],l),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=v(e,["functionDeclarations"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(w=>w)),x(n,["functionDeclarations"],y)}const h=v(e,["googleMaps"]);h!=null&&x(n,["googleMaps"],nre(h));const f=v(e,["googleSearchRetrieval"]);f!=null&&x(n,["googleSearchRetrieval"],f);const m=v(e,["urlContext"]);m!=null&&x(n,["urlContext"],m);const g=v(e,["mcpServers"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(w=>w)),x(n,["mcpServers"],y)}return n}function FR(e,t){const n={},r=v(e,["retrieval"]);r!=null&&x(n,["retrieval"],r);const i=v(e,["computerUse"]);if(i!=null&&x(n,["computerUse"],i),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=v(e,["googleSearch"]);o!=null&&x(n,["googleSearch"],o);const l=v(e,["codeExecution"]);l!=null&&x(n,["codeExecution"],l);const c=v(e,["enterpriseWebSearch"]);c!=null&&x(n,["enterpriseWebSearch"],c);const h=v(e,["functionDeclarations"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(w=>Ine(w))),x(n,["functionDeclarations"],y)}const f=v(e,["googleMaps"]);f!=null&&x(n,["googleMaps"],f);const m=v(e,["googleSearchRetrieval"]);m!=null&&x(n,["googleSearchRetrieval"],m);const g=v(e,["urlContext"]);if(g!=null&&x(n,["urlContext"],g),v(e,["mcpServers"])!==void 0)throw new Error("mcpServers parameter is not supported in Vertex AI.");return n}function Pre(e,t){const n={},r=v(e,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=v(e,["createTime"]);i!=null&&x(n,["createTime"],i);const o=v(e,["updateTime"]);return o!=null&&x(n,["updateTime"],o),n}function Ire(e,t){const n={},r=v(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&x(n,["baseModel"],r);const i=v(e,["createTime"]);i!=null&&x(n,["createTime"],i);const o=v(e,["updateTime"]);return o!=null&&x(n,["updateTime"],o),n}function Mre(e,t,n){const r={},i=v(e,["displayName"]);t!==void 0&&i!=null&&x(t,["displayName"],i);const o=v(e,["description"]);t!==void 0&&o!=null&&x(t,["description"],o);const l=v(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&x(t,["defaultCheckpointId"],l),r}function Ore(e,t,n){const r={},i=v(e,["displayName"]);t!==void 0&&i!=null&&x(t,["displayName"],i);const o=v(e,["description"]);t!==void 0&&o!=null&&x(t,["description"],o);const l=v(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&x(t,["defaultCheckpointId"],l),r}function jre(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","name"],We(e,i));const o=v(t,["config"]);return o!=null&&Mre(o,r),r}function kre(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","model"],We(e,i));const o=v(t,["config"]);return o!=null&&Ore(o,r),r}function Rre(e,t,n){const r={},i=v(e,["outputGcsUri"]);t!==void 0&&i!=null&&x(t,["parameters","storageUri"],i);const o=v(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&x(t,["parameters","safetySetting"],o);const l=v(e,["personGeneration"]);t!==void 0&&l!=null&&x(t,["parameters","personGeneration"],l);const c=v(e,["includeRaiReason"]);t!==void 0&&c!=null&&x(t,["parameters","includeRaiReason"],c);const h=v(e,["outputMimeType"]);t!==void 0&&h!=null&&x(t,["parameters","outputOptions","mimeType"],h);const f=v(e,["outputCompressionQuality"]);t!==void 0&&f!=null&&x(t,["parameters","outputOptions","compressionQuality"],f);const m=v(e,["enhanceInputImage"]);t!==void 0&&m!=null&&x(t,["parameters","upscaleConfig","enhanceInputImage"],m);const g=v(e,["imagePreservationFactor"]);t!==void 0&&g!=null&&x(t,["parameters","upscaleConfig","imagePreservationFactor"],g);const y=v(e,["labels"]);t!==void 0&&y!=null&&x(t,["labels"],y);const w=v(e,["numberOfImages"]);t!==void 0&&w!=null&&x(t,["parameters","sampleCount"],w);const N=v(e,["mode"]);return t!==void 0&&N!=null&&x(t,["parameters","mode"],N),r}function Dre(e,t,n){const r={},i=v(t,["model"]);i!=null&&x(r,["_url","model"],We(e,i));const o=v(t,["image"]);o!=null&&x(r,["instances[0]","image"],Br(o));const l=v(t,["upscaleFactor"]);l!=null&&x(r,["parameters","upscaleConfig","upscaleFactor"],l);const c=v(t,["config"]);return c!=null&&Rre(c,r),r}function Lre(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>tm(l))),x(n,["generatedImages"],o)}return n}function Ure(e,t){const n={},r=v(e,["uri"]);r!=null&&x(n,["uri"],r);const i=v(e,["encodedVideo"]);i!=null&&x(n,["videoBytes"],ja(i));const o=v(e,["encoding"]);return o!=null&&x(n,["mimeType"],o),n}function Bre(e,t){const n={},r=v(e,["gcsUri"]);r!=null&&x(n,["uri"],r);const i=v(e,["bytesBase64Encoded"]);i!=null&&x(n,["videoBytes"],ja(i));const o=v(e,["mimeType"]);return o!=null&&x(n,["mimeType"],o),n}function zre(e,t){const n={},r=v(e,["image"]);r!=null&&x(n,["_self"],Br(r));const i=v(e,["maskMode"]);return i!=null&&x(n,["maskMode"],i),n}function qre(e,t){const n={},r=v(e,["image"]);r!=null&&x(n,["image"],nm(r));const i=v(e,["referenceType"]);return i!=null&&x(n,["referenceType"],i),n}function Fre(e,t){const n={},r=v(e,["image"]);r!=null&&x(n,["image"],Br(r));const i=v(e,["referenceType"]);return i!=null&&x(n,["referenceType"],i),n}function HR(e,t){const n={},r=v(e,["uri"]);r!=null&&x(n,["uri"],r);const i=v(e,["videoBytes"]);i!=null&&x(n,["encodedVideo"],ja(i));const o=v(e,["mimeType"]);return o!=null&&x(n,["encoding"],o),n}function GR(e,t){const n={},r=v(e,["uri"]);r!=null&&x(n,["gcsUri"],r);const i=v(e,["videoBytes"]);i!=null&&x(n,["bytesBase64Encoded"],ja(i));const o=v(e,["mimeType"]);return o!=null&&x(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hre(e,t){const n={},r=v(e,["displayName"]);return t!==void 0&&r!=null&&x(t,["displayName"],r),n}function Gre(e){const t={},n=v(e,["config"]);return n!=null&&Hre(n,t),t}function Vre(e,t){const n={},r=v(e,["force"]);return t!==void 0&&r!=null&&x(t,["_query","force"],r),n}function $re(e){const t={},n=v(e,["name"]);n!=null&&x(t,["_url","name"],n);const r=v(e,["config"]);return r!=null&&Vre(r,t),t}function Kre(e){const t={},n=v(e,["name"]);return n!=null&&x(t,["_url","name"],n),t}function Yre(e,t){const n={},r=v(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["customMetadata"],o)}const i=v(e,["chunkingConfig"]);return t!==void 0&&i!=null&&x(t,["chunkingConfig"],i),n}function Jre(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=v(e,["done"]);i!=null&&x(t,["done"],i);const o=v(e,["error"]);o!=null&&x(t,["error"],o);const l=v(e,["response"]);return l!=null&&x(t,["response"],Xre(l)),t}function Wre(e){const t={},n=v(e,["fileSearchStoreName"]);n!=null&&x(t,["_url","file_search_store_name"],n);const r=v(e,["fileName"]);r!=null&&x(t,["fileName"],r);const i=v(e,["config"]);return i!=null&&Yre(i,t),t}function Xre(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&x(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&x(t,["documentName"],i),t}function Qre(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function Zre(e){const t={},n=v(e,["config"]);return n!=null&&Qre(n,t),t}function eie(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=v(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["fileSearchStores"],o)}return t}function VR(e,t){const n={},r=v(e,["mimeType"]);t!==void 0&&r!=null&&x(t,["mimeType"],r);const i=v(e,["displayName"]);t!==void 0&&i!=null&&x(t,["displayName"],i);const o=v(e,["customMetadata"]);if(t!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>h)),x(t,["customMetadata"],c)}const l=v(e,["chunkingConfig"]);return t!==void 0&&l!=null&&x(t,["chunkingConfig"],l),n}function tie(e){const t={},n=v(e,["fileSearchStoreName"]);n!=null&&x(t,["_url","file_search_store_name"],n);const r=v(e,["config"]);return r!=null&&VR(r,t),t}function nie(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rie="Content-Type",iie="X-Server-Timeout",aie="User-Agent",Dy="x-goog-api-client",oie="1.43.0",sie=`google-genai-sdk/${oie}`,lie="v1beta1",cie="v1beta",uie=5,die=[408,429,500,502,503,504];class fie{constructor(t){var n,r,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const c=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!c?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:lie}else{if(!this.clientOptions.apiKey)throw new _c({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:cie,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===Iy.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,c]of Object.entries(t.queryParams))i.searchParams.append(l,String(c));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>o.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=l}return n&&n.extraBody!==null&&hie(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await TP(i),new My(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await TP(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Or(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const c="data:",h=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:m}=yield ke(i.read());if(f){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=o.decode(m,{stream:!0});try{const N=JSON.parse(g);if("error"in N){const A=JSON.parse(JSON.stringify(N.error)),E=A.status,C=A.code,P=`got status: ${E}. ${JSON.stringify(N)}`;if(C>=400&&C<600)throw new _c({message:P,status:C})}}catch(N){if(N.name==="ApiError")throw N}l+=g;let y=-1,w=0;for(;;){y=-1,w=0;for(const E of h){const C=l.indexOf(E);C!==-1&&(y===-1||C<y)&&(y=C,w=E.length)}if(y===-1)break;const N=l.substring(0,y);l=l.substring(y+w);const A=N.trim();if(A.startsWith(c)){const E=A.substring(c.length).trim();try{const C=new Response(E,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ke(new My(C))}catch(C){throw new Error(`exception parsing stream chunk ${E}. ${C}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,n);const i=this.clientOptions.httpOptions.retryOptions;return tZ(async()=>{const l=await fetch(t,n);if(l.ok)return l;throw die.includes(l.status)?new Error(`Retryable HTTP Error: ${l.statusText}`):new AR.AbortError(`Non-retryable exception ${l.statusText} sending request`)},{retries:((r=i.attempts)!==null&&r!==void 0?r:uie)-1})}getDefaultHeaders(){const t={},n=sie+" "+this.clientOptions.userAgentExtra;return t[aie]=n,t[Dy]=n,t[rie]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(iie,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(t);i.sizeBytes=String(l.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const h={file:i},f=this.getFileName(t),m=ye("upload/v1beta/files",h._url),g=await this.fetchUploadUrl(m,i.sizeBytes,i.mimeType,f,h,n==null?void 0:n.httpOptions);return o.upload(t,g,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),c=String(l.size),h=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,m=this.getFileName(n),g={};r!=null&&VR(r,g);const y=await this.fetchUploadUrl(f,c,h,m,g,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,y,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,l){var c;let h={};l?h=l:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:h});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(c=f==null?void 0:f.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function TP(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new _c({message:i,status:n}):new Error(i)}}function hie(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const c=Object.assign({},o);for(const h in l)if(Object.prototype.hasOwnProperty.call(l,h)){const f=l[h],m=c[h];f&&typeof f=="object"&&!Array.isArray(f)&&m&&typeof m=="object"&&!Array.isArray(m)?c[h]=r(m,f):(m&&f&&typeof m!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof m}, New type: ${typeof f}. Overwriting.`),c[h]=f)}return c}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mie="mcp_used/unknown";let pie=!1;function $R(e){for(const t of e)if(gie(t)||typeof t=="object"&&"inputSchema"in t)return!0;return pie}function KR(e){var t;const n=(t=e[Dy])!==null&&t!==void 0?t:"";e[Dy]=(n+` ${mie}`).trimStart()}function gie(e){return e!==null&&typeof e=="object"&&e instanceof qb}function vie(e){return Or(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const l=yield ke(n.listTools({cursor:i}));for(const c of l.tools)yield yield ke(c),o++;if(!l.nextCursor)break;i=l.nextCursor}})}class qb{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new qb(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const m of this.mcpClients)try{for(var c=!0,h=(n=void 0,jr(vie(m))),f;f=await h.next(),t=f.done,!t;c=!0){i=f.value,c=!1;const g=i;l.push(g);const y=g.name;if(o[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);o[y]=m}}catch(g){n={error:g}}finally{try{!c&&!t&&(r=h.return)&&await r.call(h)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),HZ(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yie(e,t,n){const r=new RZ;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class xie{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=wie(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),h=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${c}`;let f=()=>{};const m=new Promise(O=>{f=O}),g=t.callbacks,y=function(){f({})},w=this.apiClient,N={onopen:y,onmessage:O=>{yie(w,g.onmessage,O)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(O){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(O){}},A=this.webSocketFactory.create(h,Sie(l),N);A.connect(),await m;const P={setup:{model:We(this.apiClient,t.model)}};return A.send(JSON.stringify(P)),new bie(A,this.apiClient)}}class bie{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Hte(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=Fte(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ss.PLAY)}pause(){this.sendPlaybackControl(Ss.PAUSE)}stop(){this.sendPlaybackControl(Ss.STOP)}resetContext(){this.sendPlaybackControl(Ss.RESET_CONTEXT)}close(){this.conn.close()}}function Sie(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function wie(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Aie="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Eie(e,t,n){const r=new kZ;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const l=$te(o);Object.assign(r,l)}else Object.assign(r,o);t(r)}class _ie{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new xie(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,l,c;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let m;const g=this.apiClient.getHeaders();t.config&&t.config.tools&&$R(t.config.tools)&&KR(g);const y=Pie(g);if(this.apiClient.isVertexAI()){const z=this.apiClient.getProject(),X=this.apiClient.getLocation(),Q=this.apiClient.getApiKey(),H=!!z&&!!X||!!Q;this.apiClient.getCustomBaseUrl()&&!H?m=h:(m=`${h}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,m))}else{const z=this.apiClient.getApiKey();let X="BidiGenerateContent",Q="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),X="BidiGenerateContentConstrained",Q="access_token"),m=`${h}/ws/google.ai.generativelanguage.${f}.GenerativeService.${X}?${Q}=${z}`}let w=()=>{};const N=new Promise(z=>{w=z}),A=t.callbacks,E=function(){var z;(z=A==null?void 0:A.onopen)===null||z===void 0||z.call(A),w({})},C=this.apiClient,P={onopen:E,onmessage:z=>{Eie(C,A.onmessage,z)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(z){}},O=this.webSocketFactory.create(m,Cie(y),P);O.connect(),await N;let M=We(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const z=this.apiClient.getProject(),X=this.apiClient.getLocation();z&&X&&(M=`projects/${z}/locations/${X}/`+M)}let k={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Qf.AUDIO]}:t.config.responseModalities=[Qf.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(c=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],R=[];for(const z of I)if(this.isCallableTool(z)){const X=z;R.push(await X.tool())}else R.push(z);R.length>0&&(t.config.tools=R);const D={model:M,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?k=qte(this.apiClient,D):k=zte(this.apiClient,D),delete k.config,O.send(JSON.stringify(k)),new Tie(O,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const Nie={turnComplete:!0};class Tie{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Xn(n.turns),t.isVertexAI()||(r=r.map(i=>Gc(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(Aie)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},Nie),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Vte(t)}:n={realtimeInput:Gte(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Cie(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Pie(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CP=10;function PP(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Ns(l)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ns(e){return"callTool"in e&&typeof e.callTool=="function"}function Iie(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Ns(i)))!==null&&r!==void 0?r:!1}function IP(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Ns(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function MP(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mie extends $i{constructor(t){super(),this.apiClient=t,this.embedContent=async n=>{if(!this.apiClient.isVertexAI())return await this.embedContentInternal(n);if(n.model.includes("gemini")&&n.model!=="gemini-embedding-001"||n.model.includes("maas")){const i=Xn(n.contents);if(i.length>1)throw new Error("The embedContent API for this model only supports one content at a time.");const o=Object.assign(Object.assign({},n),{content:i[0],embeddingApiType:Zf.EMBED_CONTENT});return await this.embedContentInternal(o)}else{const i=Object.assign(Object.assign({},n),{embeddingApiType:Zf.PREDICT});return await this.embedContentInternal(i)}},this.generateContent=async n=>{var r,i,o,l,c;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Iie(n)||PP(n.config))return await this.generateContentInternal(h);const f=IP(n);if(f.length>0){const A=f.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let m,g;const y=Xn(h.contents),w=(o=(i=(r=h.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:CP;let N=0;for(;N<w&&(m=await this.generateContentInternal(h),!(!m.functionCalls||m.functionCalls.length===0));){const A=m.candidates[0].content,E=[];for(const C of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(Ns(C)){const O=await C.callTool(m.functionCalls);E.push(...O)}N++,g={role:"user",parts:E},h.contents=Xn(h.contents),h.contents.push(A),h.contents.push(g),MP(h.config)&&(y.push(A),y.push(g))}return MP(h.config)&&(m.automaticFunctionCallingHistory=y),m},this.generateContentStream=async n=>{var r,i,o,l,c;if(this.maybeMoveToResponseJsonSchem(n),PP(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const h=IP(n);if(h.length>0){const g=h.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,m=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(f&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const h of r.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((i=h==null?void 0:h.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=h==null?void 0:h.safetyAttributes:l.push(h);let c;return o?c={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new No(Li.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,c,h;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((h=(c=n.source)===null||c===void 0?void 0:c.video)===null||h===void 0)&&h.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const l=await Promise.all(o.map(async h=>Ns(h)?await h.tool():h)),c={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(c.config.tools=l,t.config&&t.config.tools&&$R(t.config.tools)){const h=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},h);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),KR(f),c.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return c}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ns(l)){const c=l,h=await c.tool();for(const f of(i=h.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,c)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:CP;let l=!1,c=0;const h=await this.initAfcToolsMap(t);return(function(f,m,g){return Or(this,arguments,function*(){for(var y,w,N,A,E,C;c<o;){l&&(c++,l=!1);const k=yield ke(f.processParamsMaybeAddMcpUsage(g)),I=yield ke(f.generateContentStreamInternal(k)),R=[],D=[];try{for(var P=!0,O=(w=void 0,jr(I)),M;M=yield ke(O.next()),y=M.done,!y;P=!0){A=M.value,P=!1;const z=A;if(yield yield ke(z),z.candidates&&(!((E=z.candidates[0])===null||E===void 0)&&E.content)){D.push(z.candidates[0].content);for(const X of(C=z.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(c<o&&X.functionCall){if(!X.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(X.functionCall.name)){const Q=yield ke(m.get(X.functionCall.name).callTool([X.functionCall]));R.push(...Q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${X.functionCall.name}`)}}}}catch(z){w={error:z}}finally{try{!P&&!y&&(N=O.return)&&(yield ke(N.call(O)))}finally{if(w)throw w.error}}if(R.length>0){l=!0;const z=new Zl;z.candidates=[{content:{role:"user",parts:R}}],yield yield ke(z);const X=[];X.push(...D),X.push({role:"user",parts:R});const Q=Xn(g.contents).concat(X);g.contents=Q}else break}})})(this,h,t)}async generateContentInternal(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=EP(this.apiClient,t);return c=ye("{model}:generateContent",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=NP(m),y=new Zl;return Object.assign(y,g),y})}else{const f=AP(this.apiClient,t);return c=ye("{model}:generateContent",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=_P(m),y=new Zl;return Object.assign(y,g),y})}}async generateContentStreamInternal(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=EP(this.apiClient,t);return c=ye("{model}:streamGenerateContent?alt=sse",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(g){return Or(this,arguments,function*(){var y,w,N,A;try{for(var E=!0,C=jr(g),P;P=yield ke(C.next()),y=P.done,!y;E=!0){A=P.value,E=!1;const O=A,M=NP(yield ke(O.json()),t);M.sdkHttpResponse={headers:O.headers};const k=new Zl;Object.assign(k,M),yield yield ke(k)}}catch(O){w={error:O}}finally{try{!E&&!y&&(N=C.return)&&(yield ke(N.call(C)))}finally{if(w)throw w.error}}})})}else{const f=AP(this.apiClient,t);return c=ye("{model}:streamGenerateContent?alt=sse",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(g){return Or(this,arguments,function*(){var y,w,N,A;try{for(var E=!0,C=jr(g),P;P=yield ke(C.next()),y=P.done,!y;E=!0){A=P.value,E=!1;const O=A,M=_P(yield ke(O.json()),t);M.sdkHttpResponse={headers:O.headers};const k=new Zl;Object.assign(k,M),yield yield ke(k)}}catch(O){w={error:O}}finally{try{!E&&!y&&(N=C.return)&&(yield ke(N.call(C)))}finally{if(w)throw w.error}}})})}}async embedContentInternal(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=Ane(this.apiClient,t,t),m=VZ(t.model)?"{model}:embedContent":"{model}:predict";return c=ye(m,f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const w=y;return w.sdkHttpResponse={headers:g.headers},w})),l.then(g=>{const y=_ne(g,t),w=new oP;return Object.assign(w,y),w})}else{const f=wne(this.apiClient,t);return c=ye("{model}:batchEmbedContents",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=Ene(m),y=new oP;return Object.assign(y,g),y})}}async generateImagesInternal(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=Dne(this.apiClient,t);return c=ye("{model}:predict",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=Une(m),y=new sP;return Object.assign(y,g),y})}else{const f=Rne(this.apiClient,t);return c=ye("{model}:predict",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=Lne(m),y=new sP;return Object.assign(y,g),y})}}async editImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=yne(this.apiClient,t);return o=ye("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:h.headers},m})),i.then(h=>{const f=xne(h),m=new wZ;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=Dre(this.apiClient,t);return o=ye("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:h.headers},m})),i.then(h=>{const f=Lre(h),m=new AZ;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=vre(this.apiClient,t);return o=ye("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=yre(h),m=new EZ;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=Ere(this.apiClient,t);return o=ye("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=_re(h),m=new _Z;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=tre(this.apiClient,t);return c=ye("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>Ry(m))}else{const f=ere(this.apiClient,t);return c=ye("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>ky(m))}}async listInternal(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=ure(this.apiClient,t);return c=ye("{models_url}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=fre(m),y=new lP;return Object.assign(y,g),y})}else{const f=cre(this.apiClient,t);return c=ye("{models_url}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=dre(m),y=new lP;return Object.assign(y,g),y})}}async update(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=kre(this.apiClient,t);return c=ye("{model}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>Ry(m))}else{const f=jre(this.apiClient,t);return c=ye("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>ky(m))}}async delete(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=mne(this.apiClient,t);return c=ye("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=gne(m),y=new cP;return Object.assign(y,g),y})}else{const f=hne(this.apiClient,t);return c=ye("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=pne(m),y=new cP;return Object.assign(y,g),y})}}async countTokens(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=une(this.apiClient,t);return c=ye("{model}:countTokens",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=fne(m),y=new uP;return Object.assign(y,g),y})}else{const f=cne(this.apiClient,t);return c=ye("{model}:countTokens",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=dne(m),y=new uP;return Object.assign(y,g),y})}}async computeTokens(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=nne(this.apiClient,t);return o=ye("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:h.headers},m})),i.then(h=>{const f=rne(h),m=new NZ;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=Gne(this.apiClient,t);return c=ye("{model}:predictLongRunning",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>{const g=Fne(m),y=new eh;return Object.assign(y,g),y})}else{const f=Hne(this.apiClient,t);return c=ye("{model}:predictLongRunning",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>{const g=qne(m),y=new eh;return Object.assign(y,g),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oie extends $i{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=gZ(t);return c=ye("{operationName}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l}else{const f=pZ(t);return c=ye("{operationName}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=lZ(t);return o=ye("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jie(e){const t={},n=v(e,["data"]);if(n!=null&&x(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function kie(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Hie(o))),x(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&x(t,["role"],r),t}function Rie(e,t,n){const r={},i=v(t,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const o=v(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&x(n,["newSessionExpireTime"],o);const l=v(t,["uses"]);n!==void 0&&l!=null&&x(n,["uses"],l);const c=v(t,["liveConnectConstraints"]);n!==void 0&&c!=null&&x(n,["bidiGenerateContentSetup"],Fie(e,c));const h=v(t,["lockAdditionalFields"]);return n!==void 0&&h!=null&&x(n,["fieldMask"],h),r}function Die(e,t){const n={},r=v(t,["config"]);return r!=null&&x(n,["config"],Rie(e,r,n)),n}function Lie(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function Uie(e){const t={},n=v(e,["id"]);n!=null&&x(t,["id"],n);const r=v(e,["args"]);r!=null&&x(t,["args"],r);const i=v(e,["name"]);if(i!=null&&x(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Bie(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function zie(e){const t={},n=v(e,["searchTypes"]);if(n!=null&&x(t,["searchTypes"],n),v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=v(e,["timeRangeFilter"]);return r!=null&&x(t,["timeRangeFilter"],r),t}function qie(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&x(t,["setup","generationConfig"],r);const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&x(t,["setup","generationConfig","responseModalities"],i);const o=v(e,["temperature"]);t!==void 0&&o!=null&&x(t,["setup","generationConfig","temperature"],o);const l=v(e,["topP"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","topP"],l);const c=v(e,["topK"]);t!==void 0&&c!=null&&x(t,["setup","generationConfig","topK"],c);const h=v(e,["maxOutputTokens"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","maxOutputTokens"],h);const f=v(e,["mediaResolution"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","mediaResolution"],f);const m=v(e,["seed"]);t!==void 0&&m!=null&&x(t,["setup","generationConfig","seed"],m);const g=v(e,["speechConfig"]);t!==void 0&&g!=null&&x(t,["setup","generationConfig","speechConfig"],zb(g));const y=v(e,["thinkingConfig"]);t!==void 0&&y!=null&&x(t,["setup","generationConfig","thinkingConfig"],y);const w=v(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],w);const N=v(e,["systemInstruction"]);t!==void 0&&N!=null&&x(t,["setup","systemInstruction"],kie(Wt(N)));const A=v(e,["tools"]);if(t!==void 0&&A!=null){let I=Ks(A);Array.isArray(I)&&(I=I.map(R=>Vie($s(R)))),x(t,["setup","tools"],I)}const E=v(e,["sessionResumption"]);t!==void 0&&E!=null&&x(t,["setup","sessionResumption"],Gie(E));const C=v(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&x(t,["setup","inputAudioTranscription"],C);const P=v(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&x(t,["setup","outputAudioTranscription"],P);const O=v(e,["realtimeInputConfig"]);t!==void 0&&O!=null&&x(t,["setup","realtimeInputConfig"],O);const M=v(e,["contextWindowCompression"]);t!==void 0&&M!=null&&x(t,["setup","contextWindowCompression"],M);const k=v(e,["proactivity"]);if(t!==void 0&&k!=null&&x(t,["setup","proactivity"],k),v(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Fie(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["setup","model"],We(e,r));const i=v(t,["config"]);return i!=null&&x(n,["config"],qie(i,n)),n}function Hie(e){const t={},n=v(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&x(t,["fileData"],Lie(o));const l=v(e,["functionCall"]);l!=null&&x(t,["functionCall"],Uie(l));const c=v(e,["functionResponse"]);c!=null&&x(t,["functionResponse"],c);const h=v(e,["inlineData"]);h!=null&&x(t,["inlineData"],jie(h));const f=v(e,["text"]);f!=null&&x(t,["text"],f);const m=v(e,["thought"]);m!=null&&x(t,["thought"],m);const g=v(e,["thoughtSignature"]);g!=null&&x(t,["thoughtSignature"],g);const y=v(e,["videoMetadata"]);return y!=null&&x(t,["videoMetadata"],y),t}function Gie(e){const t={},n=v(e,["handle"]);if(n!=null&&x(t,["handle"],n),v(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Vie(e){const t={};if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(e,["computerUse"]);n!=null&&x(t,["computerUse"],n);const r=v(e,["fileSearch"]);r!=null&&x(t,["fileSearch"],r);const i=v(e,["googleSearch"]);i!=null&&x(t,["googleSearch"],zie(i));const o=v(e,["codeExecution"]);if(o!=null&&x(t,["codeExecution"],o),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(e,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>y)),x(t,["functionDeclarations"],g)}const c=v(e,["googleMaps"]);c!=null&&x(t,["googleMaps"],Bie(c));const h=v(e,["googleSearchRetrieval"]);h!=null&&x(t,["googleSearchRetrieval"],h);const f=v(e,["urlContext"]);f!=null&&x(t,["urlContext"],f);const m=v(e,["mcpServers"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(y=>y)),x(t,["mcpServers"],g)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $ie(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function Kie(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=$ie(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(f=>l.includes(f)?`generationConfig.${f}`:f));const h=[];o&&h.push(o),c.length>0&&h.push(...c),h.length>0?e.fieldMask=h.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class Yie extends $i{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=Die(this.apiClient,t);o=ye("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const h=Kie(c,t.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jie(e,t){const n={},r=v(e,["force"]);return t!==void 0&&r!=null&&x(t,["_query","force"],r),n}function Wie(e){const t={},n=v(e,["name"]);n!=null&&x(t,["_url","name"],n);const r=v(e,["config"]);return r!=null&&Jie(r,t),t}function Xie(e){const t={},n=v(e,["name"]);return n!=null&&x(t,["_url","name"],n),t}function Qie(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function Zie(e){const t={},n=v(e,["parent"]);n!=null&&x(t,["_url","parent"],n);const r=v(e,["config"]);return r!=null&&Qie(r,t),t}function eae(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=v(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tae extends $i{constructor(t){super(),this.apiClient=t,this.list=async n=>new No(Li.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Xie(t);return o=ye("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Wie(t);i=ye("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Zie(t);return o=ye("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=eae(h),m=new TZ;return Object.assign(m,f),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nae extends $i{constructor(t,n=new tae(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new No(Li.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Gre(t);return o=ye("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Kre(t);return o=ye("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=$re(t);i=ye("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Zre(t);return o=ye("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=eie(h),m=new CZ;return Object.assign(m,f),m})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=tie(t);return o=ye("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=nie(h),m=new PZ;return Object.assign(m,f),m})}}async importFile(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Wre(t);return o=ye("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=Jre(h),m=new Rb;return Object.assign(m,f),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let YR=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return YR=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const rae=()=>YR();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ly(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Uy=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class br extends Error{}class En extends br{constructor(t,n,r,i){super(`${En.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new rm({message:r,cause:Uy(n)});const o=n;return t===400?new WR(t,o,r,i):t===401?new XR(t,o,r,i):t===403?new QR(t,o,r,i):t===404?new ZR(t,o,r,i):t===409?new eD(t,o,r,i):t===422?new tD(t,o,r,i):t===429?new nD(t,o,r,i):t>=500?new rD(t,o,r,i):new En(t,o,r,i)}}class By extends En{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class rm extends En{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class JR extends rm{constructor({message:t}={}){super({message:t??"Request timed out."})}}class WR extends En{}class XR extends En{}class QR extends En{}class ZR extends En{}class eD extends En{}class tD extends En{}class nD extends En{}class rD extends En{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iae=/^[a-z][a-z0-9+.-]*:/i,aae=e=>iae.test(e);let zy=e=>(zy=Array.isArray,zy(e));const oae=zy;let sae=oae;const OP=sae;function lae(e){if(!e)return!0;for(const t in e)return!1;return!0}function cae(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const uae=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new br(`${e} must be an integer`);if(t<0)throw new br(`${e} must be a positive integer`);return t},dae=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fae=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ys="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hae(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const mae=()=>{var e,t,n,r,i;const o=hae();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":kP(Deno.build.os),"X-Stainless-Arch":jP(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":kP((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":jP((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=pae();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function pae(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,l=r[3]||0;return{browser:t,version:`${i}.${o}.${l}`}}}return null}const jP=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",kP=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Nd;const gae=()=>Nd??(Nd=mae());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vae(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function iD(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function yae(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return iD({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function aD(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function xae(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bae=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oD=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function p0(e,t,n){return oD(),new File(e,t??"unknown_file",n)}function Sae(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const wae=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sD=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Aae=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&sD(e),Eae=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function _ae(e,t,n){if(oD(),e=await e,Aae(e))return e instanceof File?e:p0([await e.arrayBuffer()],e.name);if(Eae(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),p0(await qy(i),t,n)}const r=await qy(e);if(t||(t=Sae(e)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return p0(r,t,n)}async function qy(e){var t,n,r,i,o;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(sD(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(wae(e))try{for(var c=!0,h=jr(e),f;f=await h.next(),t=f.done,!t;c=!0){i=f.value,c=!1;const m=i;l.push(...await qy(m))}}catch(m){n={error:m}}finally{try{!c&&!t&&(r=h.return)&&await r.call(h)}finally{if(n)throw n.error}}else{const m=(o=e==null?void 0:e.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${m?`; constructor: ${m}`:""}${Nae(e)}`)}return l}function Nae(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lD{constructor(t){this._client=t}}lD._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cD(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const RP=Object.freeze(Object.create(null)),Tae=(e=cD)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],l=n.reduce((m,g,y)=>{var w,N,A;/[?#]/.test(g)&&(i=!0);const E=r[y];let C=(i?encodeURIComponent:e)(""+E);return y!==r.length&&(E==null||typeof E=="object"&&E.toString===((A=Object.getPrototypeOf((N=Object.getPrototypeOf((w=E.hasOwnProperty)!==null&&w!==void 0?w:RP))!==null&&N!==void 0?N:RP))===null||A===void 0?void 0:A.toString))&&(C=E+"",o.push({start:m.length+g.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),m+g+(y===r.length?"":C)},""),c=l.split(/[?#]/,1)[0],h=/(^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let f;for(;(f=h.exec(c))!==null;){const m=f[0].startsWith("/"),g=m?1:0,y=m?f[0].slice(1):f[0];o.push({start:f.index+g,length:y.length,error:`Value "${y}" can't be safely passed as a path parameter`})}if(o.sort((m,g)=>m.start-g.start),o.length>0){let m=0;const g=o.reduce((y,w)=>{const N=" ".repeat(w.start-m),A="^".repeat(w.length);return m=w.start+w.length,y+N+A},"");throw new br(`Path parameters result in path with invalid segments:
${o.map(y=>y.error).join(`
`)}
${l}
${g}`)}return l}),Td=Tae(cD);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uD extends lD{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,o=nh(t,["api_version"]);if("model"in o&&"agent_config"in o)throw new br("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new br("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Td`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Td`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Td`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const o=n??{},{api_version:l=this._client.apiVersion}=o,c=nh(o,["api_version"]);return this._client.get(Td`/${l}/interactions/${t}`,Object.assign(Object.assign({query:c},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}uD._key=Object.freeze(["interactions"]);class dD extends uD{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cae(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let Cd;function Fb(e){let t;return(Cd??(t=new globalThis.TextEncoder,Cd=t.encode.bind(t)))(e)}let Pd;function DP(e){let t;return(Pd??(t=new globalThis.TextDecoder,Pd=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class im{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Fb(t):t;this.buffer=Cae([this.buffer,n]);const r=[];let i;for(;(i=Pae(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(DP(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=DP(this.buffer.subarray(0,o));r.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}im.NEWLINE_CHARS=new Set([`
`,"\r"]);im.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Pae(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Iae(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rh={off:0,error:200,warn:300,info:400,debug:500},LP=(e,t,n)=>{if(e){if(cae(rh,e))return e;yn(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(rh))}`)}};function ac(){}function Id(e,t,n){return!t||rh[e]>rh[n]?ac:t[e].bind(t)}const Mae={error:ac,warn:ac,info:ac,debug:ac};let UP=new WeakMap;function yn(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return Mae;const i=UP.get(n);if(i&&i[0]===r)return i[1];const o={error:Id("error",n,r),warn:Id("warn",n,r),info:Id("info",n,r),debug:Id("debug",n,r)};return UP.set(n,[r,o]),o}const no=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ws{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const o=r?yn(r):console;function l(){return Or(this,arguments,function*(){var h,f,m,g;if(i)throw new br("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var w=!0,N=jr(Oae(t,n)),A;A=yield ke(N.next()),h=A.done,!h;w=!0){g=A.value,w=!1;const E=g;if(!y)if(E.data.startsWith("[DONE]")){y=!0;continue}else try{yield yield ke(JSON.parse(E.data))}catch(C){throw o.error("Could not parse message into JSON:",E.data),o.error("From chunk:",E.raw),C}}}catch(E){f={error:E}}finally{try{!w&&!h&&(m=N.return)&&(yield ke(m.call(N)))}finally{if(f)throw f.error}}y=!0}catch(E){if(Ly(E))return yield ke(void 0);throw E}finally{y||n.abort()}})}return new ws(l,n,r)}static fromReadableStream(t,n,r){let i=!1;function o(){return Or(this,arguments,function*(){var h,f,m,g;const y=new im,w=aD(t);try{for(var N=!0,A=jr(w),E;E=yield ke(A.next()),h=E.done,!h;N=!0){g=E.value,N=!1;const C=g;for(const P of y.decode(C))yield yield ke(P)}}catch(C){f={error:C}}finally{try{!N&&!h&&(m=A.return)&&(yield ke(m.call(A)))}finally{if(f)throw f.error}}for(const C of y.flush())yield yield ke(C)})}function l(){return Or(this,arguments,function*(){var h,f,m,g;if(i)throw new br("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var w=!0,N=jr(o()),A;A=yield ke(N.next()),h=A.done,!h;w=!0){g=A.value,w=!1;const E=g;y||E&&(yield yield ke(JSON.parse(E)))}}catch(E){f={error:E}}finally{try{!w&&!h&&(m=N.return)&&(yield ke(m.call(N)))}finally{if(f)throw f.error}}y=!0}catch(E){if(Ly(E))return yield ke(void 0);throw E}finally{y||n.abort()}})}return new ws(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const l=r.next();t.push(l),n.push(l)}return o.shift()}});return[new ws(()=>i(t),this.controller,this.client),new ws(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return iD({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const l=Fb(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Oae(e,t){return Or(this,arguments,function*(){var r,i,o,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new br("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new br("Attempted to iterate over a response with no body");const c=new kae,h=new im,f=aD(e.body);try{for(var m=!0,g=jr(jae(f)),y;y=yield ke(g.next()),r=y.done,!r;m=!0){l=y.value,m=!1;const w=l;for(const N of h.decode(w)){const A=c.decode(N);A&&(yield yield ke(A))}}}catch(w){i={error:w}}finally{try{!m&&!r&&(o=g.return)&&(yield ke(o.call(g)))}finally{if(i)throw i.error}}for(const w of h.flush()){const N=c.decode(w);N&&(yield yield ke(N))}})}function jae(e){return Or(this,arguments,function*(){var n,r,i,o;let l=new Uint8Array;try{for(var c=!0,h=jr(e),f;f=yield ke(h.next()),n=f.done,!n;c=!0){o=f.value,c=!1;const m=o;if(m==null)continue;const g=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?Fb(m):m;let y=new Uint8Array(l.length+g.length);y.set(l),y.set(g,l.length),l=y;let w;for(;(w=Iae(l))!==-1;)yield yield ke(l.slice(0,w)),l=l.slice(w)}}catch(m){r={error:m}}finally{try{!c&&!n&&(i=h.return)&&(yield ke(i.call(h)))}finally{if(r)throw r.error}}l.length>0&&(yield yield ke(l))})}class kae{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=Rae(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Rae(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Dae(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,l=await(async()=>{var c;if(t.options.stream)return yn(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):ws.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const h=n.headers.get("content-type"),f=(c=h==null?void 0:h.split(";")[0])===null||c===void 0?void 0:c.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return yn(e).debug(`[${r}] response parsed`,no({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-o})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hb extends Promise{constructor(t,n,r=Dae){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new Hb(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fD=Symbol("brand.privateNullableHeaders");function*Lae(e){if(!e)return;if(fD in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():OP(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=OP(r[1])?r[1]:[r[1]];let l=!1;for(const c of o)c!==void 0&&(t&&!l&&(l=!0,yield[i,null]),yield[i,c])}}const ec=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,l]of Lae(r)){const c=o.toLowerCase();i.has(c)||(t.delete(o),i.add(c)),l===null?(t.delete(o),n.add(c)):(t.append(o,l),n.delete(c))}}return{[fD]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g0=e=>{var t,n,r,i,o,l;if(typeof globalThis.process<"u")return(r=(n=(t=nZ)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hD;class am{constructor(t){var n,r,i,o,l,c,h,{baseURL:f=g0("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:m=(n=g0("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:g="v1beta"}=t,y=nh(t,["baseURL","apiKey","apiVersion"]);const w=Object.assign(Object.assign({apiKey:m,apiVersion:g},y),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=w.baseURL,this.timeout=(r=w.timeout)!==null&&r!==void 0?r:am.DEFAULT_TIMEOUT,this.logger=(i=w.logger)!==null&&i!==void 0?i:console;const N="warn";this.logLevel=N,this.logLevel=(l=(o=LP(w.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:LP(g0("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:N,this.fetchOptions=w.fetchOptions,this.maxRetries=(c=w.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(h=w.fetch)!==null&&h!==void 0?h:vae(),this.encoder=bae,this._options=w,this.apiKey=m,this.apiVersion=g,this.clientAdapter=w.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=ec([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return ec([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ec([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new br(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ys}`}defaultIdempotencyKey(){return`stainless-node-retry-${rae()}`}makeStatusError(t,n,r,i){return En.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=aae(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return lae(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new Hb(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,o,l;const c=await t,h=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=h),await this.prepareOptions(c);const{req:f,url:m,timeout:g}=await this.buildRequest(c,{retryCount:h-n});await this.prepareRequest(f,{url:m,options:c});const y="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),w=r===void 0?"":`, retryOf: ${r}`,N=Date.now();if(yn(this).debug(`[${y}] sending request`,no({retryOfRequestLogID:r,method:c.method,url:m,options:c,headers:f.headers})),!((o=c.signal)===null||o===void 0)&&o.aborted)throw new By;const A=new AbortController,E=await this.fetchWithTimeout(m,f,g,A).catch(Uy),C=Date.now();if(E instanceof globalThis.Error){const O=`retrying, ${n} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new By;const M=Ly(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return yn(this).info(`[${y}] connection ${M?"timed out":"failed"} - ${O}`),yn(this).debug(`[${y}] connection ${M?"timed out":"failed"} (${O})`,no({retryOfRequestLogID:r,url:m,durationMs:C-N,message:E.message})),this.retryRequest(c,n,r??y);throw yn(this).info(`[${y}] connection ${M?"timed out":"failed"} - error; no more retries left`),yn(this).debug(`[${y}] connection ${M?"timed out":"failed"} (error; no more retries left)`,no({retryOfRequestLogID:r,url:m,durationMs:C-N,message:E.message})),M?new JR:new rm({cause:E})}const P=`[${y}${w}] ${f.method} ${m} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${C-N}ms`;if(!E.ok){const O=await this.shouldRetry(E);if(n&&O){const z=`retrying, ${n} attempts remaining`;return await xae(E.body),yn(this).info(`${P} - ${z}`),yn(this).debug(`[${y}] response error (${z})`,no({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:C-N})),this.retryRequest(c,n,r??y,E.headers)}const M=O?"error; no more retries left":"error; not retryable";yn(this).info(`${P} - ${M}`);const k=await E.text().catch(z=>Uy(z).message),I=dae(k),R=I?void 0:k;throw yn(this).debug(`[${y}] response error (${M})`,no({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,message:R,durationMs:Date.now()-N})),this.makeStatusError(E.status,I,R,E.headers)}return yn(this).info(P),yn(this).debug(`[${y}] response start`,no({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:C-N})),{response:E,options:c,controller:A,requestLogID:y,retryOfRequestLogID:r,startTime:N}}async fetchWithTimeout(t,n,r,i){const o=n||{},{signal:l,method:c}=o,h=nh(o,["signal","method"]),f=this._makeAbort(i);l&&l.addEventListener("abort",f,{once:!0});const m=setTimeout(f,r),g=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,y=Object.assign(Object.assign(Object.assign({signal:i.signal},g?{duplex:"half"}:{}),{method:"GET"}),h);c&&(y.method=c.toUpperCase());try{return await this.fetch.call(void 0,t,y)}finally{clearTimeout(m)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var o;let l;const c=i==null?void 0:i.get("retry-after-ms");if(c){const f=parseFloat(c);Number.isNaN(f)||(l=f)}const h=i==null?void 0:i.get("retry-after");if(h&&!l){const f=parseFloat(h);Number.isNaN(f)?l=Date.parse(h)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=(o=t.maxRetries)!==null&&o!==void 0?o:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,f)}return await fae(l),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,l=Math.min(.5*Math.pow(2,o),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,o;const l=Object.assign({},t),{method:c,path:h,query:f,defaultBaseURL:m}=l,g=this.buildURL(h,f,m);"timeout"in l&&uae("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:y,body:w}=this.buildBody({options:l}),N=await this.buildHeaders({options:t,method:c,bodyHeaders:y,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:N},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&w instanceof globalThis.ReadableStream&&{duplex:"half"}),w&&{body:w}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=l.fetchOptions)!==null&&o!==void 0?o:{}),url:g,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let c=ec([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),gae()),this._options.defaultHeaders,r,t.headers,l]);return this.validateHeaders(c),c.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=ec([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:yae(t)}:typeof t=="object"&&r.values.get("content-type")==="application/x-www-form-urlencoded"?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(t)}:this.encoder({body:t,headers:r})}}am.DEFAULT_TIMEOUT=6e4;class tn extends am{constructor(){super(...arguments),this.interactions=new dD(this)}}hD=tn;tn.GeminiNextGenAPIClient=hD;tn.GeminiNextGenAPIClientError=br;tn.APIError=En;tn.APIConnectionError=rm;tn.APIConnectionTimeoutError=JR;tn.APIUserAbortError=By;tn.NotFoundError=ZR;tn.ConflictError=eD;tn.RateLimitError=nD;tn.BadRequestError=WR;tn.AuthenticationError=XR;tn.InternalServerError=rD;tn.PermissionDeniedError=QR;tn.UnprocessableEntityError=tD;tn.toFile=_ae;tn.Interactions=dD;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uae(e,t){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Bae(e,t){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function zae(e,t){const n={},r=v(e,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function qae(e,t){const n={},r=v(e,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Fae(e,t,n){const r={};if(v(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&x(t,["displayName"],i),v(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=v(e,["epochCount"]);t!==void 0&&o!=null&&x(t,["tuningTask","hyperparameters","epochCount"],o);const l=v(e,["learningRateMultiplier"]);if(l!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),v(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(v(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(v(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const c=v(e,["batchSize"]);t!==void 0&&c!=null&&x(t,["tuningTask","hyperparameters","batchSize"],c);const h=v(e,["learningRate"]);if(t!==void 0&&h!=null&&x(t,["tuningTask","hyperparameters","learningRate"],h),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(v(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(v(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(v(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(v(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(v(e,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function Hae(e,t,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const I=v(e,["validationDataset"]);t!==void 0&&I!=null&&x(t,["supervisedTuningSpec"],v0(I))}else if(i==="PREFERENCE_TUNING"){const I=v(e,["validationDataset"]);t!==void 0&&I!=null&&x(t,["preferenceOptimizationSpec"],v0(I))}else if(i==="DISTILLATION"){const I=v(e,["validationDataset"]);t!==void 0&&I!=null&&x(t,["distillationSpec"],v0(I))}const o=v(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&x(t,["tunedModelDisplayName"],o);const l=v(e,["description"]);t!==void 0&&l!=null&&x(t,["description"],l);let c=v(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const I=v(e,["epochCount"]);t!==void 0&&I!=null&&x(t,["supervisedTuningSpec","hyperParameters","epochCount"],I)}else if(c==="PREFERENCE_TUNING"){const I=v(e,["epochCount"]);t!==void 0&&I!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],I)}else if(c==="DISTILLATION"){const I=v(e,["epochCount"]);t!==void 0&&I!=null&&x(t,["distillationSpec","hyperParameters","epochCount"],I)}let h=v(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const I=v(e,["learningRateMultiplier"]);t!==void 0&&I!=null&&x(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],I)}else if(h==="PREFERENCE_TUNING"){const I=v(e,["learningRateMultiplier"]);t!==void 0&&I!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],I)}else if(h==="DISTILLATION"){const I=v(e,["learningRateMultiplier"]);t!==void 0&&I!=null&&x(t,["distillationSpec","hyperParameters","learningRateMultiplier"],I)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const I=v(e,["exportLastCheckpointOnly"]);t!==void 0&&I!=null&&x(t,["supervisedTuningSpec","exportLastCheckpointOnly"],I)}else if(f==="PREFERENCE_TUNING"){const I=v(e,["exportLastCheckpointOnly"]);t!==void 0&&I!=null&&x(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],I)}else if(f==="DISTILLATION"){const I=v(e,["exportLastCheckpointOnly"]);t!==void 0&&I!=null&&x(t,["distillationSpec","exportLastCheckpointOnly"],I)}let m=v(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const I=v(e,["adapterSize"]);t!==void 0&&I!=null&&x(t,["supervisedTuningSpec","hyperParameters","adapterSize"],I)}else if(m==="PREFERENCE_TUNING"){const I=v(e,["adapterSize"]);t!==void 0&&I!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],I)}else if(m==="DISTILLATION"){const I=v(e,["adapterSize"]);t!==void 0&&I!=null&&x(t,["distillationSpec","hyperParameters","adapterSize"],I)}let g=v(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const I=v(e,["tuningMode"]);t!==void 0&&I!=null&&x(t,["supervisedTuningSpec","tuningMode"],I)}const y=v(e,["customBaseModel"]);t!==void 0&&y!=null&&x(t,["customBaseModel"],y);let w=v(n,["config","method"]);if(w===void 0&&(w="SUPERVISED_FINE_TUNING"),w==="SUPERVISED_FINE_TUNING"){const I=v(e,["batchSize"]);t!==void 0&&I!=null&&x(t,["supervisedTuningSpec","hyperParameters","batchSize"],I)}let N=v(n,["config","method"]);if(N===void 0&&(N="SUPERVISED_FINE_TUNING"),N==="SUPERVISED_FINE_TUNING"){const I=v(e,["learningRate"]);t!==void 0&&I!=null&&x(t,["supervisedTuningSpec","hyperParameters","learningRate"],I)}const A=v(e,["labels"]);t!==void 0&&A!=null&&x(t,["labels"],A);const E=v(e,["beta"]);t!==void 0&&E!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","beta"],E);const C=v(e,["baseTeacherModel"]);t!==void 0&&C!=null&&x(t,["distillationSpec","baseTeacherModel"],C);const P=v(e,["tunedTeacherModelSource"]);t!==void 0&&P!=null&&x(t,["distillationSpec","tunedTeacherModelSource"],P);const O=v(e,["sftLossWeightMultiplier"]);t!==void 0&&O!=null&&x(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],O);const M=v(e,["outputUri"]);t!==void 0&&M!=null&&x(t,["outputUri"],M);const k=v(e,["encryptionSpec"]);return t!==void 0&&k!=null&&x(t,["encryptionSpec"],k),r}function Gae(e,t){const n={},r=v(e,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=v(e,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const o=v(e,["trainingDataset"]);o!=null&&toe(o);const l=v(e,["config"]);return l!=null&&Fae(l,n),n}function Vae(e,t){const n={},r=v(e,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=v(e,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const o=v(e,["trainingDataset"]);o!=null&&noe(o,n,t);const l=v(e,["config"]);return l!=null&&Hae(l,n,t),n}function $ae(e,t){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Kae(e,t){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Yae(e,t,n){const r={},i=v(e,["pageSize"]);t!==void 0&&i!=null&&x(t,["_query","pageSize"],i);const o=v(e,["pageToken"]);t!==void 0&&o!=null&&x(t,["_query","pageToken"],o);const l=v(e,["filter"]);return t!==void 0&&l!=null&&x(t,["_query","filter"],l),r}function Jae(e,t,n){const r={},i=v(e,["pageSize"]);t!==void 0&&i!=null&&x(t,["_query","pageSize"],i);const o=v(e,["pageToken"]);t!==void 0&&o!=null&&x(t,["_query","pageToken"],o);const l=v(e,["filter"]);return t!==void 0&&l!=null&&x(t,["_query","filter"],l),r}function Wae(e,t){const n={},r=v(e,["config"]);return r!=null&&Yae(r,n),n}function Xae(e,t){const n={},r=v(e,["config"]);return r!=null&&Jae(r,n),n}function Qae(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const o=v(e,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>mD(c))),x(n,["tuningJobs"],l)}return n}function Zae(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const o=v(e,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Fy(c))),x(n,["tuningJobs"],l)}return n}function eoe(e,t){const n={},r=v(e,["name"]);r!=null&&x(n,["model"],r);const i=v(e,["name"]);return i!=null&&x(n,["endpoint"],i),n}function toe(e,t){const n={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(n,["examples","examples"],i)}return n}function noe(e,t,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=v(e,["gcsUri"]);t!==void 0&&l!=null&&x(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=v(e,["gcsUri"]);t!==void 0&&l!=null&&x(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(i==="DISTILLATION"){const l=v(e,["gcsUri"]);t!==void 0&&l!=null&&x(t,["distillationSpec","promptDatasetUri"],l)}let o=v(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=v(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&x(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=v(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&x(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(o==="DISTILLATION"){const l=v(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&x(t,["distillationSpec","promptDatasetUri"],l)}if(v(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function mD(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&x(n,["name"],i);const o=v(e,["state"]);o!=null&&x(n,["state"],IR(o));const l=v(e,["createTime"]);l!=null&&x(n,["createTime"],l);const c=v(e,["tuningTask","startTime"]);c!=null&&x(n,["startTime"],c);const h=v(e,["tuningTask","completeTime"]);h!=null&&x(n,["endTime"],h);const f=v(e,["updateTime"]);f!=null&&x(n,["updateTime"],f);const m=v(e,["description"]);m!=null&&x(n,["description"],m);const g=v(e,["baseModel"]);g!=null&&x(n,["baseModel"],g);const y=v(e,["_self"]);return y!=null&&x(n,["tunedModel"],eoe(y)),n}function Fy(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&x(n,["name"],i);const o=v(e,["state"]);o!=null&&x(n,["state"],IR(o));const l=v(e,["createTime"]);l!=null&&x(n,["createTime"],l);const c=v(e,["startTime"]);c!=null&&x(n,["startTime"],c);const h=v(e,["endTime"]);h!=null&&x(n,["endTime"],h);const f=v(e,["updateTime"]);f!=null&&x(n,["updateTime"],f);const m=v(e,["error"]);m!=null&&x(n,["error"],m);const g=v(e,["description"]);g!=null&&x(n,["description"],g);const y=v(e,["baseModel"]);y!=null&&x(n,["baseModel"],y);const w=v(e,["tunedModel"]);w!=null&&x(n,["tunedModel"],w);const N=v(e,["preTunedModel"]);N!=null&&x(n,["preTunedModel"],N);const A=v(e,["supervisedTuningSpec"]);A!=null&&x(n,["supervisedTuningSpec"],A);const E=v(e,["preferenceOptimizationSpec"]);E!=null&&x(n,["preferenceOptimizationSpec"],E);const C=v(e,["distillationSpec"]);C!=null&&x(n,["distillationSpec"],C);const P=v(e,["tuningDataStats"]);P!=null&&x(n,["tuningDataStats"],P);const O=v(e,["encryptionSpec"]);O!=null&&x(n,["encryptionSpec"],O);const M=v(e,["partnerModelTuningSpec"]);M!=null&&x(n,["partnerModelTuningSpec"],M);const k=v(e,["customBaseModel"]);k!=null&&x(n,["customBaseModel"],k);const I=v(e,["experiment"]);I!=null&&x(n,["experiment"],I);const R=v(e,["labels"]);R!=null&&x(n,["labels"],R);const D=v(e,["outputUri"]);D!=null&&x(n,["outputUri"],D);const z=v(e,["pipelineJob"]);z!=null&&x(n,["pipelineJob"],z);const X=v(e,["serviceAccount"]);X!=null&&x(n,["serviceAccount"],X);const Q=v(e,["tunedModelDisplayName"]);Q!=null&&x(n,["tunedModelDisplayName"],Q);const H=v(e,["veoTuningSpec"]);return H!=null&&x(n,["veoTuningSpec"],H),n}function roe(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&x(n,["name"],i);const o=v(e,["metadata"]);o!=null&&x(n,["metadata"],o);const l=v(e,["done"]);l!=null&&x(n,["done"],l);const c=v(e,["error"]);return c!=null&&x(n,["error"],c),n}function v0(e,t){const n={},r=v(e,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=v(e,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ioe extends $i{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new No(Li.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:Py.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=Kae(t);return c=ye("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>Fy(m))}else{const f=$ae(t);return c=ye("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>mD(m))}}async listInternal(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=Xae(t);return c=ye("tuningJobs",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=Zae(m),y=new dP;return Object.assign(y,g),y})}else{const f=Wae(t);return c=ye("tunedModels",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=Qae(m),y=new dP;return Object.assign(y,g),y})}}async cancel(t){var n,r,i,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const f=Bae(t);return c=ye("{name}:cancel",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=qae(m),y=new fP;return Object.assign(y,g),y})}else{const f=Uae(t);return c=ye("{name}:cancel",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const g=zae(m),y=new fP;return Object.assign(y,g),y})}}async tuneInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=Vae(t,t);return o=ye("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:h.headers},m})),i.then(h=>Fy(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Gae(t);return o=ye("tunedModels",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:h.headers},m})),i.then(h=>roe(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aoe{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ooe=1024*1024*8,soe=3,loe=1e3,coe=2,ih="x-goog-upload-status";async function uoe(e,t,n){var r;const i=await pD(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[ih])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function doe(e,t,n){var r;const i=await pD(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[ih])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=ER(o),c=new Db;return Object.assign(c,l),c}async function pD(e,t,n){var r,i;let o=0,l=0,c=new My(new Response),h="upload";for(o=e.size;l<o;){const f=Math.min(ooe,o-l),m=e.slice(l,l+f);l+f>=o&&(h+=", finalize");let g=0,y=loe;for(;g<soe&&(c=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[ih]));)g++,await hoe(y),y=y*coe;if(l+=f,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[ih])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function foe(e){return{size:e.size,type:e.type}}function hoe(e){return new Promise(t=>setTimeout(t,e))}class moe{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await uoe(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await doe(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await foe(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class poe{create(t,n,r){return new goe(t,n,r)}}class goe{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BP="x-goog-api-key";class voe{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(BP)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(BP,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yoe="gl-node/";class xoe{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new tn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout,maxRetries:(t=n==null?void 0:n.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=r.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=oZ(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new voe(this.apiKey);this.apiClient=new fie({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:yoe+"web",uploader:new moe,downloader:new aoe}),this.models=new Mie(this.apiClient),this.live=new _ie(this.apiClient,i,new poe),this.batches=new Lee(this.apiClient),this.chats=new yte(this.models,this.apiClient),this.caches=new pte(this.apiClient),this.files=new Ite(this.apiClient),this.operations=new Oie(this.apiClient),this.authTokens=new Yie(this.apiClient),this.tunings=new ioe(this.apiClient),this.fileSearchStores=new nae(this.apiClient)}}const boe="AIzaSyDPQOgH-ZzzdEmWhxYlrXAvfoAZtOC8VcU",zP=new xoe({apiKey:boe}),Soe=async(e,t)=>{if(!zP)return e+`

[Copilot Error: API Key missing. Please check your configuration.]`;try{const n=`
      You are an expert AI Prompt Engineer for Voice Agents.
      
      Current System Prompt:
      "${e}"
      
      User Instruction for Improvement/Generation:
      "${t}"
      
      Task:
      Rewrite or generate a comprehensive, professional system prompt for a Voice AI Agent based on the user's instruction.
      Include sections for ## Objective, ## Role, ## Personality, and ## Rules/Tasks.
      The output should be ready to paste into the agent's configuration.
    `;return(await zP.models.generateContent({model:"gemini-2.5-flash",contents:n})).text||e}catch(n){return console.error("Gemini Prompt Gen Error:",n),e}};var Ai=(e=>(e.PENDING="PENDING",e.DIALING="DIALING",e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.NO_ANSWER="NO_ANSWER",e))(Ai||{});new Date().toISOString(),new Date().toISOString(),new Date().toISOString();Ai.COMPLETED,new Date(Date.now()-864e5).toISOString(),new Date(Date.now()-864e5+145e3).toISOString(),Ai.NO_ANSWER,new Date(Date.now()-1728e5).toISOString(),new Date(Date.now()-1728e5).toISOString();const woe=[{label:"English (US)",code:"en-US"},{label:"English (UK)",code:"en-GB"},{label:"English (India)",code:"en-IN"},{label:"Hindi (India)",code:"hi-IN"},{label:"Hinglish",code:"hinglish"},{label:"Spanish",code:"es-US"},{label:"French",code:"fr-FR"}],Aoe=["Office","Quiet","Cafe","Street","Call Center"],Eoe=["Friendly","Professional","Empathetic","Assertive","Humorous","Calm","Persuasive"],_oe=[{q:"How do I add a new phone number?",a:"Go to Settings > VOIP Integration and click 'Purchase Number'."},{q:"Can I export call recordings?",a:"Yes, go to Call Management, select a call, and click the download icon in the player."},{q:"How is billing calculated?",a:"Billing is based on minutes used for LLM, STT, TTS, and telephony charges. See Usage page for details."},{q:"Can I upgrade my agent limit?",a:"Yes, go to Agent Management and click '+ Add Agent' or check your Plan settings."}],Noe=({agentId:e,agentName:t,onClose:n})=>{const[r,i]=_.useState("checking-permissions"),[o,l]=_.useState(null),[c,h]=_.useState(0),[f,m]=_.useState(0),g=_.useRef(null),y=_.useRef(null),w=_.useRef(null),N=_.useRef(null),A=_.useRef(null),E=_.useRef(null),C=_.useRef([]),P=_.useRef(null),O=_.useRef(!1),M=_.useRef({wsOpenTime:0,firstAudioTime:null,lastAudioTime:null,audioChunksReceived:0});_.useEffect(()=>(k(),()=>H()),[e]);const k=async()=>{try{i("checking-permissions"),console.log(" Test Agent: Requesting microphone access");const $=await navigator.mediaDevices.getUserMedia({audio:!0});E.current=$,console.log(" Test Agent: Microphone access granted");const q=new(window.AudioContext||window.webkitAudioContext)({sampleRate:48e3});y.current=q;const V=q.createMediaStreamSource($),ne=q.createAnalyser();ne.fftSize=256,V.connect(ne),w.current=ne,console.log(" Test Agent: Audio context initialized (48kHz)"),R(),i("connecting"),console.log(" Test Agent: Starting backend session");const re=localStorage.getItem("token"),L=await fetch("https://shreenika-ai-backend-507468019722.us-central1.run.app/api/voice/test-agent/start",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${re}`},body:JSON.stringify({agentId:e})});if(!L.ok){const me=await L.json();throw new Error(me.error||"Failed to start test session")}const U=await L.json(),{sessionId:se,wsUrl:te,maxDuration:Ae}=U;N.current=se,console.log(` Test Agent: Backend session started - ${se}`),console.log(` Test Agent: Connecting WebSocket to ${te}`);const _e=new WebSocket(te);g.current=_e,_e.onopen=()=>{console.log(" Test Agent: WebSocket connected"),M.current.wsOpenTime=Date.now(),i("connected"),X(),I(q,$)},_e.onmessage=me=>{try{const Be=JSON.parse(me.data);if(Be.type==="AUDIO"){const ie=Date.now();if(!M.current.firstAudioTime){M.current.firstAudioTime=ie;const Ie=ie-M.current.wsOpenTime;console.log(`  Test Agent: First audio arrived in ${Ie}ms`)}M.current.lastAudioTime=ie,M.current.audioChunksReceived++,D(Be.audio,Be.sampleRate)}else if(Be.type==="MAX_DURATION_REACHED")console.log(" Test Agent: Max duration reached"),M.current.firstAudioTime&&(console.log(" Test Agent Latency Summary:"),console.log(`    First Response: ${M.current.firstAudioTime-M.current.wsOpenTime}ms`),console.log(`    Total Audio Chunks: ${M.current.audioChunksReceived}`),console.log(`    Duration: ${M.current.lastAudioTime?M.current.lastAudioTime-M.current.firstAudioTime:0}ms`)),Q();else if(Be.type==="ERROR")console.error(" Test Agent Error:",Be.message),l(Be.message||"Voice service error");else if(Be.type==="PONG")console.log(" Test Agent: Received pong");else if(Be.type==="INTERRUPT"){if(console.log(" Test Agent: Interrupt signal received - clearing audio queue"),C.current=[],P.current)try{P.current.stop(),P.current.disconnect(),P.current=null}catch(ie){console.warn("  Error stopping audio source:",ie)}O.current=!1,console.log(" Test Agent: Audio queue cleared, ready for next response")}}catch(Be){console.error(" Test Agent: Error parsing message:",Be)}},_e.onerror=me=>{console.error(" Test Agent: WebSocket error",me),l("Connection error - WebSocket failed"),i("error")},_e.onclose=()=>{console.log(" Test Agent: WebSocket closed")}}catch($){console.error(" Test Agent: Initialization error",$),$.name==="NotAllowedError"?l("Microphone access denied. Please enable microphone in your browser settings and refresh."):$.name==="NotFoundError"?l("No microphone found. Please connect a microphone and refresh."):$.message==="Permission denied"?l("Microphone permission denied. Please check browser settings."):l($.message||"Failed to initialize test agent. Please try again."),i("error")}},I=($,q)=>{try{console.log(" Test Agent: Starting audio capture");const V=$.createMediaStreamSource(q),ne=$.createAnalyser();ne.fftSize=2048,V.connect(ne),V.connect($.destination);let re=0,he=new Uint8Array(ne.frequencyBinCount);const L=setInterval(()=>{if(!g.current||g.current.readyState!==WebSocket.OPEN){clearInterval(L);return}ne.getByteTimeDomainData(he);const U=new Float32Array(he.length);for(let te=0;te<he.length;te++)U[te]=(he[te]-128)/128;const se=fe(U);if(re===0){const te=Array.from(se.slice(0,20)).map(me=>me.toString(16).padStart(2,"0").toUpperCase()).join(" ");console.log("[PHASE-1-DIAG]  Browser: First audio chunk captured (ANALYSER MODE)"),console.log(`[PHASE-1-DIAG]    Bytes: ${se.length}`),console.log("[PHASE-1-DIAG]    Sample Rate: ~48kHz (approximated from analyser)"),console.log("[PHASE-1-DIAG]    Format: PCM 16-bit LE (converted from time-domain)"),console.log(`[PHASE-1-DIAG]    First 20 bytes: ${te}`);const Ae=!Array.from(se.slice(0,100)).some(me=>me!==0&&me!==255),_e=Array.from(se.slice(0,100)).some(me=>Math.abs(me-128)>30);Ae?console.warn("[PHASE-1-DIAG]   WARNING: Audio appears to be silent"):_e&&console.log("[PHASE-1-DIAG]  Audio contains voice/noise data (good!)")}re++,g.current.send(JSON.stringify({type:"AUDIO",audio:ae(se),sampleRate:48e3}))},20);A.current={disconnect:()=>clearInterval(L)},console.log(" Test Agent: Audio capture started (using AnalyserNode - reliable method)")}catch(V){console.error(" Test Agent: Error starting audio capture:",V),l("Failed to capture audio")}},R=()=>{if(!w.current)return;const $=new Uint8Array(w.current.frequencyBinCount),q=()=>{if(!w.current)return;w.current.getByteFrequencyData($);const V=$.reduce((ne,re)=>ne+re,0)/$.length;m(Math.min(1,V/255)),requestAnimationFrame(q)};q()},D=($,q)=>{try{if(!y.current)return;const V=atob($),ne=new Uint8Array(V.length);for(let L=0;L<V.length;L++)ne[L]=V.charCodeAt(L);if(M.current.audioChunksReceived===0){const L=Array.from(ne.slice(0,20)).map(se=>se.toString(16).padStart(2,"0").toUpperCase()).join(" ");console.log("[PHASE-1-DIAG]   Browser: First audio chunk from server"),console.log(`[PHASE-1-DIAG]    Bytes: ${ne.length}`),console.log(`[PHASE-1-DIAG]    Sample rate: ${q}Hz`),console.log("[PHASE-1-DIAG]    Format: PCM 16-bit LE"),console.log(`[PHASE-1-DIAG]    First 20 bytes: ${L}`),ne.length===0&&console.warn("[PHASE-1-DIAG]  ZERO-BYTE ALERT: Server returned 0 bytes"),!Array.from(ne.slice(0,Math.min(100,ne.length))).some(se=>se!==0&&se!==255)&&console.warn("[PHASE-1-DIAG]   Audio appears silent (all 0x00 or 0xFF)")}const re=new Float32Array(ne.length/2),he=new DataView(ne.buffer,ne.byteOffset);for(let L=0;L<ne.length/2;L++){const U=he.getInt16(L*2,!0);re[L]=U/32768}C.current.push(re),O.current||z()}catch(V){console.error(" Test Agent: Error queuing audio:",V)}},z=()=>{if(!(O.current||C.current.length===0))try{if(!y.current)return;O.current=!0;const $=C.current.shift();if(!$){O.current=!1;return}const q=y.current.createBuffer(1,$.length,48e3);q.getChannelData(0).set($);const ne=y.current.createBufferSource();ne.buffer=q,ne.connect(y.current.destination),ne.onended=()=>{O.current=!1,C.current.length>0&&z()},ne.start(0),P.current=ne}catch($){console.error(" Test Agent: Error playing queued audio:",$),O.current=!1}},X=()=>{const $=setInterval(()=>{h(q=>q>=300?(clearInterval($),Q(),300):q+1)},1e3)},Q=async()=>{if(console.log(" Test Agent: Ending call"),N.current)try{const $=localStorage.getItem("token");await fetch(`https://shreenika-ai-backend-507468019722.us-central1.run.app/api/voice/test-agent/${N.current}/end`,{method:"POST",headers:{Authorization:`Bearer ${$}`}}),console.log(" Test Agent: Session ended on backend")}catch($){console.error("Error notifying backend of session end:",$)}if(A.current)try{A.current.disconnect()}catch($){console.error("Error disconnecting audio processor:",$)}if(E.current&&E.current.getTracks().forEach($=>{try{$.stop()}catch(q){console.error("Error stopping media track:",q)}}),y.current&&y.current.state!=="closed")try{await y.current.close()}catch($){console.error("Error closing audio context:",$)}g.current&&g.current.close(),n()},H=()=>{if(console.log(" Test Agent: Cleanup"),P.current)try{P.current.stop(),P.current=null}catch($){console.error("Error stopping audio source:",$)}if(C.current=[],O.current=!1,A.current)try{A.current.disconnect()}catch($){console.error("Error cleaning up audio processor:",$)}if(E.current&&E.current.getTracks().forEach($=>{try{$.stop()}catch(q){console.error("Error stopping media track:",q)}}),y.current&&y.current.state!=="closed")try{y.current.close()}catch($){console.error("Error closing audio context:",$)}if(g.current)try{g.current.close()}catch($){console.error("Error closing WebSocket:",$)}},fe=$=>{const q=new ArrayBuffer($.length*2),V=new DataView(q);for(let ne=0;ne<$.length;ne++){const re=Math.max(-1,Math.min(1,$[ne]));V.setInt16(ne*2,re*32767,!0)}return new Uint8Array(q)},ae=$=>{let q="";for(let V=0;V<$.length;V++)q+=String.fromCharCode($[V]);return btoa(q)};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-slate-200",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:["Test Agent: ",t]}),d.jsx("button",{onClick:Q,className:"text-slate-500 hover:text-slate-700 transition-colors",title:"Close",children:d.jsx(Sn,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[r==="checking-permissions"&&d.jsxs("div",{className:"text-center py-4",children:[d.jsx(st,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-3"}),d.jsx("p",{className:"text-sm text-slate-600",children:"Checking microphone permissions..."})]}),r==="connecting"&&d.jsxs("div",{className:"text-center py-4",children:[d.jsx(st,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-3"}),d.jsx("p",{className:"text-sm text-slate-600",children:"Connecting to agent..."})]}),r==="connected"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative h-40 bg-gradient-to-br from-indigo-50 to-blue-50 rounded-xl flex items-center justify-center overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 flex items-center justify-center space-x-1 px-4",children:Array.from({length:40}).map(($,q)=>d.jsx("div",{className:"w-1 rounded-full transition-all duration-100 bg-indigo-400",style:{height:`${Math.max(8,f*100*(.6+Math.random()*.4))}%`,opacity:.7+f*.3}},q))}),d.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[d.jsx("div",{className:"bg-white rounded-full p-3 shadow-lg",children:d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-full flex items-center justify-center",children:d.jsx(o4,{className:"w-6 h-6 text-white"})})}),d.jsx("p",{className:"text-xs font-semibold text-slate-700 text-center",children:"Priority Technologies Inc."})]})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("p",{className:"text-3xl font-bold text-slate-900 font-mono",children:[Math.floor(c/60),":",(c%60).toString().padStart(2,"0")]}),d.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Maximum: 5:00 minutes"})]}),d.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-slate-600",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),d.jsx("span",{children:"Microphone active"})]})]}),r==="error"&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[d.jsx("p",{className:"text-sm text-red-700 font-bold mb-1",children:" Connection Error"}),d.jsx("p",{className:"text-xs text-red-600 leading-relaxed",children:o}),d.jsx("button",{onClick:k,className:"mt-3 text-xs font-bold text-red-700 hover:text-red-900 underline",children:"Try Again"})]})]}),r==="connected"&&d.jsx("div",{className:"px-6 pb-6 flex justify-center",children:d.jsxs("button",{onClick:Q,className:"bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-lg font-bold flex items-center space-x-2 transition-all shadow-sm",children:[d.jsx(i4,{className:"w-5 h-5"}),d.jsx("span",{children:"End Test"})]})}),r==="error"&&d.jsx("div",{className:"px-6 pb-6 flex justify-center",children:d.jsx("button",{onClick:n,className:"bg-slate-600 hover:bg-slate-700 text-white px-8 py-3 rounded-lg font-bold transition-all shadow-sm",children:"Close"})})]})})},Toe=({agent:e,setAgent:t,navigate:n})=>{var Oe;const[r,i]=_.useState([]),[o,l]=_.useState(!0),[c,h]=_.useState(null),[f,m]=_.useState(null),[g,y]=_.useState({maxAgents:1,allowKnowledge:!1,allowGooglePrompt:!1,maxDocsPerAgent:0}),[w,N]=_.useState("Starter"),[A,E]=_.useState(e),[C,P]=_.useState("Profile"),[O,M]=_.useState(!0),[k,I]=_.useState(""),[R,D]=_.useState(!1),[z,X]=_.useState(!1),[Q,H]=_.useState(""),[fe,ae]=_.useState(!1),[$,q]=_.useState(!1),[V,ne]=_.useState(!1),[re,he]=_.useState([]),[L,U]=_.useState(!0),[se,te]=_.useState(null),Ae=_.useRef(null),_e=_.useRef(null);_.useEffect(()=>{(async()=>{try{const ge=await lh();m(ge),N(ge.plan||"Starter");const Ne={maxAgents:ge.agentLimit||1,allowKnowledge:ge.knowledgeBaseEnabled||!1,allowGooglePrompt:ge.plan==="Pro"||ge.plan==="Enterprise",maxDocsPerAgent:ge.docLimit?Math.floor(ge.docLimit/(ge.agentLimit||1)):0};y(Ne)}catch(ge){console.error("Failed to fetch plan limits:",ge),y({maxAgents:1,allowKnowledge:!1,allowGooglePrompt:!1,maxDocsPerAgent:0}),N("Starter")}})()},[]),_.useEffect(()=>{(async()=>{try{l(!0),h(null);const ge=await Ds();i(ge)}catch(ge){console.error("Failed to fetch agents:",ge),h(ge instanceof Error?ge.message:"Failed to load agents"),i([])}finally{l(!1)}})()},[]),_.useEffect(()=>{(async()=>{try{U(!0),te(null);const ge=await s6();ge.voices&&he(ge.voices)}catch(ge){console.error("Failed to fetch voices:",ge),te(ge instanceof Error?ge.message:"Failed to load voices"),he([])}finally{U(!1)}})()},[]),_.useEffect(()=>{O&&E(e)},[e,O]);const me=(Z,ge)=>{E(Ne=>({...Ne,[Z]:ge})),M(!1)},Be=async()=>{try{ne(!0);let Z;!A.id||A.id==="new"?(console.log(" Creating new agent..."),Z=await aE(A),i(ge=>[...ge,Z])):(console.log(" Updating existing agent..."),Z=await V4(A.id,A),i(ge=>ge.map(Ne=>Ne.id===A.id?Z:Ne))),t(Z),M(!0),setTimeout(()=>M(!1),3e3)}catch(Z){console.error("Failed to save agent:",Z),alert("Failed to save agent. Please try again.")}finally{ne(!1)}},ie=async Z=>{if(O)try{const ge=await oE(Z.id);E(ge),t(ge)}catch(ge){console.error("Failed to fetch agent:",ge),E(Z),t(Z)}else if(window.confirm("You have unsaved changes that will be lost. Do you want to continue?"))try{const ge=await oE(Z.id);E(ge),t(ge),M(!0)}catch(ge){console.error("Failed to fetch agent:",ge),E(Z),t(Z),M(!0)}},Ie=async()=>{if(!(localStorage.getItem("token")||localStorage.getItem("voxai_token"))){alert("Please log in again to create agents."),n("/login");return}if(r.length>=g.maxAgents){D(!0);return}try{const Ne=await aE({agentName:"New Agent",agentRole:"Sales",agentPersonality:"Helpful and professional AI agent",primaryLanguage:"English",targetAudience:"General users",industryContext:"General",primaryObjective:"Provide Assistance",conversationStyle:"Professional",handlingApproach:"Listen and respond helpfully",meetingBookingFlow:!1,callDuration:15,followupStrategy:"Follow up via email",voiceCharacteristics:{trait:"Professional",emotionLevel:.5,warmth:"medium",confidence:"high"},speechSettings:{voiceSpeed:1,responsiveness:"balanced",interruptionSensitivity:.5,backgroundNoise:"minimal"},systemPrompt:"You are a helpful AI agent. Customize this prompt to define your role and behavior.",voiceId:"Puck",knowledgeBase:[],status:"Active"});i(vt=>[...vt,Ne]),E(Ne),t(Ne),M(!0)}catch(ge){console.error("Failed to create agent:",ge),alert("Failed to create agent. Please try again.")}},je=async(Z,ge)=>{if(ge.stopPropagation(),!!window.confirm("Are you sure you want to delete this agent? This cannot be undone."))try{await $4(Z);const Ne=r.filter(vt=>vt.id!==Z);if(i(Ne),A.id===Z&&Ne.length>0){const vt=Ne.find(zn=>zn.isActive!==!1)||Ne[0];E(vt),t(vt)}else Ne.length===0&&(E({}),t({}))}catch(Ne){console.error("Failed to delete agent:",Ne),alert("Failed to delete agent. Please try again.")}},de=Z=>{Z.key==="Enter"&&k.trim()&&(Z.preventDefault(),A.characteristics.includes(k.trim())||me("characteristics",[...A.characteristics,k.trim()]),I(""))},St=Z=>{A.characteristics.includes(Z)||me("characteristics",[...A.characteristics,Z])},Le=Z=>{me("characteristics",A.characteristics.filter(ge=>ge!==Z))},pt=async()=>{if(!Q.trim())return;ae(!0);const Z=await Soe(A.prompt,Q);me("prompt",Z),ae(!1),X(!1),H("")},gt=Z=>{if(Z.target.files&&Z.target.files[0]){const ge=Z.target.files[0];if(!["image/jpeg","image/png","image/jpg","image/avif","image/webp"].includes(ge.type)){alert("Invalid file type. Please upload a JPG, PNG, JPEG, AVIF, or WEBP image.");return}const vt=2*1024*1024;if(ge.size>vt){alert("File is too large. Please upload an image smaller than 2 MB.");return}const zn=new FileReader;zn.onloadend=()=>{me("avatar",zn.result)},zn.readAsDataURL(ge)}},[nn,Bn]=_.useState(!1),ue=async Z=>{var ge;if(!g.allowKnowledge){D(!0);return}if((((ge=A.knowledgeBase)==null?void 0:ge.length)||0)>=g.maxDocsPerAgent){D(!0);return}if(Z.target.files&&Z.target.files[0]){const Ne=Z.target.files[0];Bn(!0);try{const vt=await uI(Ne,A.id,Ne.name),zn={name:vt.title||Ne.name,size:(Ne.size/1024).toFixed(1)+" KB",type:Ne.type||"unknown",id:vt.id||vt._id,status:"synced",uploadedAt:vt.createdAt||new Date().toISOString(),assignedAgentIds:[A.id],uploadedFrom:"agent"},To=A.knowledgeBase||[];me("knowledgeBase",[...To,zn])}catch(vt){console.error("File upload failed:",vt),alert("Failed to upload document: "+(vt.message||"Unknown error"))}finally{Bn(!1)}}},ve=async Z=>{const ge=[...A.knowledgeBase||[]],Ne=ge[Z];try{Ne!=null&&Ne.id&&await dI(Ne.id),ge.splice(Z,1),me("knowledgeBase",ge)}catch(vt){console.error("Delete failed:",vt),ge.splice(Z,1),me("knowledgeBase",ge)}};return d.jsxs("div",{className:"flex h-[calc(100vh-100px)] bg-slate-50 border border-slate-200 rounded-xl overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"w-72 bg-white border-r border-slate-200 flex flex-col hidden lg:flex shrink-0",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100",children:[d.jsx("h2",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 px-2",children:"Your AI Agents"}),d.jsxs("button",{onClick:Ie,disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2.5 rounded-lg font-medium text-sm flex items-center justify-center space-x-2 transition-all shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(Ta,{className:"w-4 h-4"}),d.jsx("span",{children:"Add New Agent"})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:[o&&d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-3",children:[d.jsx(st,{className:"w-8 h-8 text-blue-600 animate-spin"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Loading agents..."})]}),c&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[d.jsx("p",{className:"text-sm text-red-600 font-medium mb-2",children:"Failed to load agents"}),d.jsx("p",{className:"text-xs text-red-500",children:c})]}),!o&&!c&&r.length===0&&d.jsxs("div",{className:"text-center py-8 px-4",children:[d.jsx("p",{className:"text-sm text-slate-500 mb-3",children:"No agents yet"}),d.jsx("p",{className:"text-xs text-slate-400",children:'Click "Add New Agent" to create your first agent'})]}),!o&&r.map(Z=>{const ge=A.id===Z.id,Ne=Z.isActive===!1;return d.jsxs("div",{onClick:()=>{if(Ne){alert("This agent is frozen because your plan limit was exceeded. Upgrade your plan to reactivate it.");return}ie(Z)},className:`flex items-center space-x-3 p-3 rounded-lg transition-all group ${Ne?"opacity-50 cursor-not-allowed bg-slate-50 border border-slate-200":ge?"bg-blue-50 border border-blue-200 shadow-sm cursor-pointer":"hover:bg-slate-50 border border-transparent hover:border-slate-100 cursor-pointer"}`,children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:Z.avatar,alt:"Agent",className:`w-10 h-10 rounded-full bg-slate-200 border border-white shadow-sm ${Ne?"grayscale":""}`}),Ne&&d.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-orange-500 border-2 border-white rounded-full flex items-center justify-center",children:d.jsx(Wy,{className:"w-2.5 h-2.5 text-white"})}),!Ne&&ge&&d.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:`text-sm truncate ${Ne?"font-medium text-slate-400":ge?"font-bold text-slate-900":"font-medium text-slate-600"}`,children:Z.name}),d.jsx("div",{className:`text-xs truncate ${Ne?"text-orange-500 font-medium":ge?"text-blue-600 font-medium":"text-slate-400"}`,children:Ne?"Frozen":Z.title})]}),!Ne&&d.jsx("button",{onClick:vt=>je(Z.id,vt),className:"p-1.5 rounded text-slate-300 hover:text-red-500 hover:bg-red-50 opacity-0 group-hover:opacity-100 transition-all",title:"Delete agent",children:d.jsx(Ca,{className:"w-3.5 h-3.5"})})]},Z.id)})]}),d.jsxs("div",{className:"p-4 bg-slate-50 border-t border-slate-200 mt-auto",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[d.jsx("span",{children:"Agent Limit"}),d.jsxs("span",{className:"font-medium text-slate-700",children:[r.length," / ",g.maxAgents===1/0?"":g.maxAgents," Used"]})]}),d.jsx("div",{className:"w-full bg-slate-200 h-1.5 rounded-full mt-2 overflow-hidden",children:d.jsx("div",{className:"bg-blue-500 h-full rounded-full transition-all",style:{width:g.maxAgents===1/0?"100%":`${Math.min(r.length/g.maxAgents*100,100)}%`}})})]})]}),d.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-white",children:[d.jsxs("div",{className:"h-16 border-b border-slate-200 flex justify-between items-center px-6 bg-white shrink-0 z-20",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"lg:hidden",children:d.jsx("img",{src:A.avatar,alt:"Current Agent",className:"w-8 h-8 rounded-full"})}),d.jsx("h1",{className:"text-lg font-bold text-slate-900 hidden sm:block",children:"Agent Configuration"}),d.jsx("h1",{className:"text-lg font-bold text-slate-900 sm:hidden",children:A.name})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:()=>q(!0),disabled:!A.id,className:"flex items-center space-x-2 bg-purple-50 text-purple-700 hover:bg-purple-100 border border-purple-200 px-3 py-2 rounded-lg text-sm font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed",title:"Test agent voice with microphone",children:[d.jsx($3,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Test Agent"})]}),d.jsxs("button",{onClick:Ie,disabled:o,className:"flex items-center space-x-2 bg-blue-50 text-blue-700 hover:bg-blue-100 border border-blue-200 px-3 py-2 rounded-lg text-sm font-bold transition-all mr-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(D4,{className:"w-4 h-4"}),d.jsx("span",{children:"Add Agent"})]}),d.jsx("span",{className:`hidden sm:inline-block px-3 py-1 rounded-md text-xs font-medium ${O?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:O?"Saved":"Unsaved changes"}),d.jsx("button",{onClick:Be,disabled:V,className:"bg-slate-900 hover:bg-slate-800 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors shadow-sm flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:V?d.jsxs(d.Fragment,{children:[d.jsx(st,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):d.jsxs(d.Fragment,{children:[d.jsx(oI,{className:"w-4 h-4 mr-2"}),"Save"]})})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto",children:[d.jsx("div",{className:"sticky top-0 bg-white/95 backdrop-blur-sm border-b border-slate-200 px-6 py-3 z-10",children:d.jsx("nav",{className:"flex space-x-2",children:["Profile","Role"].map(Z=>d.jsx("button",{onClick:()=>P(Z),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${C===Z?"bg-blue-600 text-white shadow-md":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,children:Z},Z))})}),d.jsxs("div",{className:"p-6 pb-32 max-w-5xl mx-auto",children:[C==="Profile"&&d.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[d.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[d.jsxs("div",{className:"col-span-1",children:[d.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:["Profile image ",d.jsx(S0,{className:"w-3 h-3 ml-1 text-slate-400"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("img",{src:A.avatar,alt:"Profile",className:"w-16 h-16 rounded-full border-2 border-slate-100 shadow-sm"}),d.jsx("input",{type:"file",ref:_e,className:"hidden",accept:"image/jpeg,image/png,image/jpg,image/avif,image/webp",onChange:gt}),d.jsxs("button",{onClick:()=>{var Z;return(Z=_e.current)==null?void 0:Z.click()},className:"flex-1 border border-slate-300 rounded-lg py-2.5 px-3 text-sm font-medium text-slate-700 hover:bg-slate-50 flex items-center justify-center transition-colors",children:[d.jsx(A0,{className:"w-4 h-4 mr-2"})," Change Avatar"]})]})]}),d.jsxs("div",{className:"col-span-1",children:[d.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:["Name ",d.jsx(S0,{className:"w-3 h-3 ml-1 text-slate-400"})]}),d.jsx("input",{type:"text",value:A.name,onChange:Z=>me("name",Z.target.value),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-shadow"})]}),d.jsxs("div",{className:"col-span-1",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Title"}),d.jsx("input",{type:"text",value:A.title,onChange:Z=>me("title",Z.target.value),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-shadow"})]}),d.jsxs("div",{className:"col-span-1",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Language"}),d.jsxs("div",{className:"relative",children:[d.jsx("select",{value:A.language,onChange:Z=>me("language",Z.target.value),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none bg-white transition-shadow",children:woe.map(Z=>d.jsx("option",{value:Z.code,children:Z.label},Z.code))}),d.jsx(Yr,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),d.jsxs("div",{className:"col-span-1",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Voice"}),d.jsxs("div",{className:"relative",children:[d.jsx("select",{value:A.voiceId,onChange:Z=>me("voiceId",Z.target.value),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none bg-white transition-shadow",children:L?d.jsx("option",{children:"Loading voices..."}):se?d.jsx("option",{children:"Error loading voices"}):re.length>0?re.map(Z=>d.jsx("option",{value:Z.id,children:Z.displayName},Z.id)):d.jsx("option",{children:"No voices available"})}),d.jsx(Yr,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Call Start Behavior"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:A.callStartBehavior||"waitForHuman",onChange:Z=>me("callStartBehavior",Z.target.value),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none bg-white transition-shadow",children:[d.jsx("option",{value:"waitForHuman",children:"Wait for Human to Speak First"}),d.jsx("option",{value:"startImmediately",children:"Start Speaking When Call is Picked"})]}),d.jsx(Yr,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Controls when the AI agent starts speaking on the call"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Characteristics"}),d.jsxs("div",{className:"border border-slate-300 rounded-lg p-3 space-y-3 bg-white focus-within:ring-2 focus-within:ring-blue-500 transition-shadow",children:[d.jsxs("div",{className:"flex flex-wrap gap-2",children:[A.characteristics.map(Z=>d.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full bg-blue-50 text-blue-700 text-sm font-medium border border-blue-100",children:[Z,d.jsx("button",{onClick:()=>Le(Z),className:"ml-1.5 text-blue-400 hover:text-blue-600",children:d.jsx(Sn,{className:"w-3 h-3"})})]},Z)),d.jsx("input",{type:"text",value:k,onChange:Z=>I(Z.target.value),onKeyDown:de,placeholder:A.characteristics.length===0?"Type & Enter to add...":"",className:"flex-1 outline-none text-sm min-w-[120px] bg-transparent py-1"})]}),d.jsxs("div",{className:"pt-2 border-t border-slate-100",children:[d.jsx("p",{className:"text-xs text-slate-400 mb-2 uppercase font-bold tracking-wider",children:"Suggestions"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Eoe.map(Z=>d.jsxs("button",{onClick:()=>St(Z),className:"px-2 py-1 text-xs border border-slate-200 rounded hover:bg-slate-50 text-slate-600 transition-colors",children:["+ ",Z]},Z))})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[d.jsx("h3",{className:"text-base font-bold text-slate-900",children:"Call settings"}),d.jsx("button",{className:"text-sm text-slate-400 hover:text-slate-600 underline",children:"Reset defaults"})]}),d.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Maximum call duration"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:A.maxCallDuration,onChange:Z=>me("maxCallDuration",parseInt(Z.target.value)),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none pr-10 transition-shadow"}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"sec"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Voicemail Detection"}),d.jsx("button",{onClick:()=>me("voicemailDetection",!A.voicemailDetection),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${A.voicemailDetection?"bg-blue-600":"bg-slate-200"}`,children:d.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${A.voicemailDetection?"translate-x-5":"translate-x-0"}`})})]}),A.voicemailDetection&&d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 space-y-3 animate-fadeIn",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-blue-800 mb-1 uppercase tracking-wide",children:"Action on Voicemail"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:A.voicemailAction,onChange:Z=>me("voicemailAction",Z.target.value),className:"w-full border border-blue-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none bg-white text-slate-900",children:[d.jsx("option",{value:"Hang up",children:"Hang up immediately"}),d.jsx("option",{value:"Leave a voicemail",children:"Leave a message"})]}),d.jsx(Yr,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),A.voicemailAction==="Leave a voicemail"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-blue-800 mb-1 uppercase tracking-wide",children:"Message to Leave"}),d.jsx("textarea",{value:A.voicemailMessage||"",onChange:Z=>me("voicemailMessage",Z.target.value),rows:3,className:"w-full border border-blue-200 rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 outline-none text-slate-900 placeholder:text-slate-400",placeholder:"Hi, this is [Name] calling..."})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"End call on silence"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:A.silenceDetectionMs,onChange:Z=>me("silenceDetectionMs",parseInt(Z.target.value)),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none pr-10 transition-shadow"}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"sec"})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[d.jsx("h3",{className:"text-base font-bold text-slate-900",children:"Speech settings"}),d.jsx("button",{className:"text-sm text-slate-400 hover:text-slate-600 underline",children:"Reset defaults"})]}),d.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-8",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Voice Speed"}),d.jsxs("div",{className:"relative pt-1",children:[d.jsx("input",{type:"range",min:"0.75",max:"1.25",step:"0.05",value:A.voiceSpeed,onChange:Z=>me("voiceSpeed",parseFloat(Z.target.value)),className:"w-full h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),d.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2 font-medium",children:[d.jsx("span",{children:"Slow (0.75x)"}),d.jsx("span",{children:"Normal (1x)"}),d.jsx("span",{children:"Fast (1.25x)"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3 flex items-center",children:"Interruption Sensitivity"}),d.jsxs("div",{className:"relative pt-1",children:[d.jsx("input",{type:"range",min:"0",max:"1",step:"0.5",value:A.interruptionSensitivity,onChange:Z=>me("interruptionSensitivity",parseFloat(Z.target.value)),className:"w-full h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),d.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2 font-medium",children:[d.jsx("span",{children:"Low"}),d.jsx("span",{children:"Normal"}),d.jsx("span",{children:"High"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3 flex items-center",children:"Responsiveness"}),d.jsxs("div",{className:"relative pt-1",children:[d.jsx("input",{type:"range",min:"0",max:"1",step:"0.5",value:A.responsiveness,onChange:Z=>me("responsiveness",parseFloat(Z.target.value)),className:"w-full h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),d.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2 font-medium",children:[d.jsx("span",{children:"Slow"}),d.jsx("span",{children:"Normal"}),d.jsx("span",{children:"Fast"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Emotions"}),d.jsxs("div",{className:"relative pt-1",children:[d.jsx("input",{type:"range",min:"0",max:"1",step:"0.5",value:A.emotionLevel,onChange:Z=>me("emotionLevel",parseFloat(Z.target.value)),className:"w-full h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),d.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2 font-medium",children:[d.jsx("span",{children:"Calm"}),d.jsx("span",{children:"Emotional"})]})]})]}),d.jsxs("div",{className:"col-span-1",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Background Noise"}),d.jsxs("div",{className:"relative",children:[d.jsx("select",{value:A.backgroundNoise,onChange:Z=>me("backgroundNoise",Z.target.value),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none bg-white transition-shadow",children:Aoe.map(Z=>d.jsx("option",{children:Z},Z))}),d.jsx(Yr,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]})]})]})]}),C==="Role"&&d.jsxs("div",{className:"max-w-6xl flex flex-col lg:flex-row gap-8 animate-fadeIn",children:[d.jsxs("div",{className:"flex-1 space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-900 mb-4",children:"Welcome Message"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute left-3 top-3 bg-blue-50 px-2 py-0.5 rounded text-[10px] font-bold text-blue-700 uppercase tracking-wide",children:"AI Initiates"}),d.jsx("input",{type:"text",value:A.welcomeMessage,onChange:Z=>me("welcomeMessage",Z.target.value),className:"w-full border border-slate-300 rounded-lg pt-10 pb-3 px-3 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-shadow font-medium text-slate-800"})]}),d.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"The message the AI will speak to start the conversation."})]}),d.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm flex flex-col h-[600px]",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"System Prompt"}),d.jsxs("button",{onClick:()=>{g.allowGooglePrompt?X(!0):D(!0)},className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors flex items-center shadow-sm",children:[d.jsx(iE,{className:"w-3 h-3 mr-1.5"}),"Ask Google"]})]}),d.jsx("textarea",{value:A.prompt,onChange:Z=>me("prompt",Z.target.value),className:"flex-1 w-full border border-slate-300 rounded-lg p-4 text-sm font-mono leading-relaxed focus:ring-2 focus:ring-blue-500 outline-none resize-none bg-white",placeholder:"Define your agent's persona, objective, and rules here..."})]})]}),d.jsx("div",{className:"w-full lg:w-80 space-y-6",children:d.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-900 mb-2",children:"Knowledge Base"}),d.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Upload documents for your agent to reference."}),d.jsxs("div",{className:"relative mb-6",children:[d.jsx("input",{type:"file",ref:Ae,className:"hidden",onChange:ue}),d.jsxs("button",{onClick:()=>{var Z;g.allowKnowledge?(Z=Ae.current)==null||Z.click():D(!0)},disabled:nn,className:"w-full border-2 border-dashed border-slate-300 rounded-lg py-4 px-3 text-sm text-center text-slate-600 bg-slate-50 hover:bg-slate-100 hover:border-slate-400 transition-all flex flex-col items-center justify-center space-y-2 disabled:opacity-50",children:[nn?d.jsx(st,{className:"w-5 h-5 text-blue-500 animate-spin"}):d.jsx(A0,{className:"w-5 h-5 text-slate-400"}),d.jsx("span",{children:nn?"Processing...":"Upload Document"})]})]}),d.jsxs("div",{className:"space-y-3",children:[(Oe=A.knowledgeBase)==null?void 0:Oe.map((Z,ge)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-slate-200 shadow-sm group hover:border-blue-200 transition-colors",children:[d.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[d.jsx("div",{className:"bg-blue-50 p-2 rounded text-blue-600",children:d.jsx(pr,{className:"w-4 h-4"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"text-xs font-bold text-slate-700 truncate",children:Z.name}),d.jsx("p",{className:"text-[10px] text-slate-400",children:Z.size})]})]}),d.jsx("button",{onClick:()=>ve(ge),className:"text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(Ca,{className:"w-4 h-4"})})]},ge)),(!A.knowledgeBase||A.knowledgeBase.length===0)&&d.jsx("div",{className:"text-center py-6 text-slate-400 text-xs",children:"No files attached yet."})]})]})})]})]})]}),z&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 animate-fadeIn",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full overflow-hidden scale-100 transition-transform",children:[d.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4 flex justify-between items-center",children:[d.jsxs("h3",{className:"text-white font-bold flex items-center text-lg",children:[d.jsx(iE,{className:"w-5 h-5 mr-2"}),"Ask Google AI"]}),d.jsx("button",{onClick:()=>X(!1),className:"text-blue-100 hover:text-white transition-colors",children:d.jsx(Sn,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("p",{className:"text-sm text-slate-600 mb-4 font-medium",children:"Describe your agent's goal. Google Gemini will generate a professional system prompt for you."}),d.jsx("textarea",{className:"w-full border border-slate-300 rounded-lg p-4 text-sm focus:ring-2 focus:ring-blue-500 outline-none h-32 mb-6 resize-none bg-white",placeholder:"e.g. Create a friendly receptionist for a pizza place who takes delivery orders, checks for allergies, and upsells drinks...",value:Q,onChange:Z=>H(Z.target.value)}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{onClick:()=>X(!1),className:"px-5 py-2.5 border border-slate-300 rounded-lg text-slate-700 text-sm font-medium hover:bg-slate-50 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:pt,disabled:fe||!Q.trim(),className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg text-sm font-bold hover:bg-blue-700 flex items-center shadow-lg shadow-blue-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none transition-all",children:fe?d.jsxs(d.Fragment,{children:[d.jsx(st,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):"Generate Prompt"})]})]})]})}),R&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 animate-fadeIn",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6 text-center",children:[d.jsx("div",{className:"flex justify-end mb-2",children:d.jsx("button",{onClick:()=>D(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(Sn,{className:"w-5 h-5"})})}),d.jsx("div",{className:"bg-blue-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 text-blue-600 ring-8 ring-blue-50",children:d.jsx(Wd,{className:"w-10 h-10"})}),d.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Add New Agent"}),d.jsxs("p",{className:"text-slate-500 mb-8 px-4 leading-relaxed",children:["You have reached the limit of your ",d.jsxs("b",{children:[w," Plan"]})," (",g.maxAgents===1/0?"Unlimited":g.maxAgents," ",g.maxAgents===1?"Agent":"Agents","). ",d.jsx("br",{}),"Upgrade to ",w==="Starter"?"Pro or Enterprise":"Enterprise"," or purchase an Add-on to create more agents."]}),d.jsx("button",{onClick:()=>n("/usage"),className:"w-full bg-blue-600 text-white font-bold py-3.5 rounded-xl hover:bg-blue-700 transition-all shadow-lg shadow-blue-200 mb-3",children:"View Pricing Plans"}),d.jsx("button",{onClick:()=>D(!1),className:"text-sm text-slate-500 hover:text-slate-800 font-medium",children:"Maybe Later"})]})}),$&&d.jsx(Noe,{agentId:A.id||"",agentName:A.name,onClose:()=>q(!1)})]})]})},Coe=()=>{const[e,t]=_.useState(""),[n,r]=_.useState(!1),[i,o]=_.useState(null),[l,c]=_.useState(null),[h,f]=_.useState([]),[m,g]=_.useState(!0),[y,w]=_.useState(null),N=_.useRef(null),[A,E]=_.useState({firstName:"",lastName:"",countryCode:"+1",phone:"",email:"",companyName:"",totalEmployees:"",address:"",website:""});_.useEffect(()=>{(async()=>{try{const z=await Ce("/voip/provider");w((z==null?void 0:z.provider)||null)}catch(z){console.error("Failed to fetch VOIP provider:",z),w(null)}})()},[]),_.useEffect(()=>{C()},[]);const C=async()=>{try{g(!0);const D=await Ce("/contacts");console.log(" Loaded leads:",D),f(Array.isArray(D)?D:[])}catch(D){console.error(" Failed to load contacts:",D),f([])}finally{g(!1)}},P=async D=>{var X;const z=(X=D.target.files)==null?void 0:X[0];if(z)try{const Q=new FormData;Q.append("file",z),await Ce("/contacts/import",{method:"POST",body:Q}),await C(),alert("Contacts imported successfully")}catch(Q){console.error(Q),alert(Q.message||"CSV import failed")}finally{N.current&&(N.current.value="")}},O=async D=>{D.preventDefault();const X=y==="SansPBX"||y==="Other"?A.phone.replace(/\D/g,""):A.countryCode+A.phone.replace(/[\s\-\(\)]/g,""),Q={firstName:A.firstName,lastName:A.lastName,phone:X,email:A.email||void 0,address:A.address,company:{name:A.companyName,employees:A.totalEmployees?Number(A.totalEmployees):void 0,website:A.website}};try{if(i){const H=await Ce(`/contacts/${i}`,{method:"PUT",body:JSON.stringify(Q)});f(h.map(fe=>fe.id===i?H:fe))}else{const H=await Ce("/contacts",{method:"POST",body:JSON.stringify(Q)});f([H,...h])}I(),alert("Contact saved successfully")}catch(H){console.error(H),alert(H.message||"Failed to save contact")}},M=async D=>{if(window.confirm("Delete this contact?"))try{await Ce(`/contacts/${D}`,{method:"DELETE"}),f(h.filter(z=>z.id!==D)),c(null),alert("Contact deleted")}catch(z){alert(z.message||"Delete failed")}},k=D=>{var H,fe,ae,$;o(D.id);const z=y==="SansPBX"||y==="Other";let X="+91",Q=D.phone||"";if(z)X="+91";else if(Q.startsWith("+")){const q=Q.match(/^(\+\d{1,3})(.*)/);q&&(X=q[1],Q=q[2])}else X="+1";E({firstName:D.firstName,lastName:D.lastName,countryCode:X,phone:Q,email:D.email||"",companyName:((H=D.company)==null?void 0:H.name)||"",totalEmployees:((ae=(fe=D.company)==null?void 0:fe.employees)==null?void 0:ae.toString())||"",address:D.address||"",website:(($=D.company)==null?void 0:$.website)||""}),r(!0),c(null)},I=()=>{o(null),r(!1),E({firstName:"",lastName:"",countryCode:"+1",phone:"",email:"",companyName:"",totalEmployees:"",address:"",website:""})},R=h.filter(D=>{var z,X,Q,H,fe;return((z=D.firstName)==null?void 0:z.toLowerCase().includes(e.toLowerCase()))||((X=D.lastName)==null?void 0:X.toLowerCase().includes(e.toLowerCase()))||((Q=D.email)==null?void 0:Q.toLowerCase().includes(e.toLowerCase()))||((fe=(H=D.company)==null?void 0:H.name)==null?void 0:fe.toLowerCase().includes(e.toLowerCase()))});return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Contacts"}),d.jsx("p",{className:"text-slate-500",children:"Upload and manage your contact lists."})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>r(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[d.jsx(Ta,{className:"w-4 h-4"})," Add Contact"]}),d.jsx("input",{ref:N,type:"file",hidden:!0,accept:".csv",onChange:P}),d.jsxs("button",{onClick:()=>{var D;return(D=N.current)==null?void 0:D.click()},className:"border px-4 py-2 rounded-lg hover:bg-slate-50 flex items-center gap-2",children:[d.jsx(A0,{className:"w-4 h-4"})," Import CSV"]})]})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:m?d.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading contacts..."}):h.length===0?d.jsx("div",{className:"p-8 text-center text-slate-500",children:"No contacts yet. Add your first contact or import a CSV."}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-50 text-left text-xs font-medium text-slate-500 uppercase",children:[d.jsx("th",{className:"p-4",children:"Name"}),d.jsx("th",{className:"p-4",children:"Company & Role"}),d.jsx("th",{className:"p-4",children:"Contact"}),d.jsx("th",{className:"p-4",children:"Location"}),d.jsx("th",{className:"p-4",children:"Status"}),d.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-200",children:R.map(D=>{var z,X;return d.jsxs("tr",{className:"hover:bg-slate-50",children:[d.jsxs("td",{className:"p-4 text-sm font-medium text-slate-900",children:[D.firstName," ",D.lastName]}),d.jsxs("td",{className:"p-4",children:[d.jsx("div",{className:"text-sm text-slate-900",children:((z=D.company)==null?void 0:z.name)||"-"}),((X=D.company)==null?void 0:X.employees)&&d.jsxs("div",{className:"text-xs text-slate-500",children:[D.company.employees," employees"]})]}),d.jsxs("td",{className:"p-4",children:[d.jsx("div",{className:"text-sm text-slate-900",children:D.email}),d.jsx("div",{className:"text-sm text-slate-500",children:D.phone})]}),d.jsx("td",{className:"p-4 text-sm text-slate-500",children:D.address||"-"}),d.jsx("td",{className:"p-4",children:d.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:D.status||"New"})}),d.jsxs("td",{className:"p-4 text-right relative",children:[d.jsx("button",{onClick:()=>c(l===D.id?null:D.id),className:"p-2 hover:bg-slate-100 rounded",children:d.jsx(tI,{className:"w-4 h-4"})}),l===D.id&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>c(null)}),d.jsxs("div",{className:"absolute right-0 mt-2 bg-white border rounded-lg shadow-lg z-20 w-32",children:[d.jsx("button",{onClick:()=>k(D),className:"block w-full text-left px-4 py-2 hover:bg-slate-100 text-sm",children:"Edit"}),d.jsx("button",{onClick:()=>M(D.id),className:"block w-full text-left px-4 py-2 hover:bg-red-50 text-red-600 text-sm",children:"Delete"})]})]})]})]},D.id)})})]})})}),n&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:d.jsxs("div",{className:"bg-white p-6 rounded-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:i?"Edit Contact":"Add Contact"}),d.jsx("button",{onClick:I,className:"text-slate-400 hover:text-slate-600",children:d.jsx(Sn,{className:"w-6 h-6"})})]}),d.jsxs("form",{onSubmit:O,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx("input",{required:!0,placeholder:"First Name",className:"border rounded-lg p-2",value:A.firstName,onChange:D=>E({...A,firstName:D.target.value})}),d.jsx("input",{required:!0,placeholder:"Last Name",className:"border rounded-lg p-2",value:A.lastName,onChange:D=>E({...A,lastName:D.target.value})})]}),d.jsx("input",{type:"email",placeholder:"Email (optional)",className:"w-full border rounded-lg p-2",value:A.email,onChange:D=>E({...A,email:D.target.value})}),y==="SansPBX"||y==="Other"?d.jsxs("div",{children:[d.jsx("input",{required:!0,placeholder:"Phone Number (11 digits, e.g. 09876543210)",maxLength:11,pattern:"0[0-9]{10}",title:"Must be 11 digits starting with 0",className:"w-full border rounded-lg p-2",value:A.phone,onChange:D=>E({...A,phone:D.target.value.replace(/\D/g,"")})}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Format: 0XXXXXXXXXX (11 digits, no country code)"})]}):d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("select",{value:A.countryCode,onChange:D=>E({...A,countryCode:D.target.value}),className:"border rounded-lg p-2 w-28 bg-white text-sm",children:[d.jsx("option",{value:"+1",children:"+1 US"}),d.jsx("option",{value:"+44",children:"+44 UK"}),d.jsx("option",{value:"+91",children:"+91 IN"}),d.jsx("option",{value:"+61",children:"+61 AU"}),d.jsx("option",{value:"+49",children:"+49 DE"}),d.jsx("option",{value:"+33",children:"+33 FR"}),d.jsx("option",{value:"+81",children:"+81 JP"}),d.jsx("option",{value:"+86",children:"+86 CN"}),d.jsx("option",{value:"+971",children:"+971 UAE"}),d.jsx("option",{value:"+966",children:"+966 SA"}),d.jsx("option",{value:"+65",children:"+65 SG"}),d.jsx("option",{value:"+55",children:"+55 BR"}),d.jsx("option",{value:"+52",children:"+52 MX"}),d.jsx("option",{value:"+39",children:"+39 IT"}),d.jsx("option",{value:"+34",children:"+34 ES"}),d.jsx("option",{value:"+82",children:"+82 KR"}),d.jsx("option",{value:"+31",children:"+31 NL"}),d.jsx("option",{value:"+46",children:"+46 SE"}),d.jsx("option",{value:"+41",children:"+41 CH"}),d.jsx("option",{value:"+353",children:"+353 IE"})]}),d.jsx("input",{required:!0,placeholder:"Phone Number",className:"flex-1 border rounded-lg p-2",value:A.phone,onChange:D=>E({...A,phone:D.target.value})})]}),d.jsx("input",{required:!0,placeholder:"Company Name",className:"w-full border rounded-lg p-2",value:A.companyName,onChange:D=>E({...A,companyName:D.target.value})}),d.jsx("input",{placeholder:"Total Employees",type:"number",className:"w-full border rounded-lg p-2",value:A.totalEmployees,onChange:D=>E({...A,totalEmployees:D.target.value})}),d.jsx("input",{required:!0,placeholder:"Office Address",className:"w-full border rounded-lg p-2",value:A.address,onChange:D=>E({...A,address:D.target.value})}),d.jsx("input",{placeholder:"Website",type:"url",className:"w-full border rounded-lg p-2",value:A.website,onChange:D=>E({...A,website:D.target.value})}),d.jsxs("div",{className:"flex gap-2 pt-4",children:[d.jsx("button",{type:"button",onClick:I,className:"flex-1 border px-4 py-2 rounded-lg hover:bg-slate-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"flex-1 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700",children:i?"Update":"Save"})]})]})]})})]})},Poe=({isOpen:e,agents:t,onClose:n,onConfirm:r})=>{const[i,o]=_.useState([]);if(!e)return null;const l=h=>{o(f=>f.includes(h)?f.filter(m=>m!==h):[...f,h])},c=()=>{if(i.length===0){alert("Please assign at least one agent.");return}r(i)};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Assign Agent(s)"}),d.jsx("button",{onClick:n,children:d.jsx(Sn,{className:"w-5 h-5 text-slate-500 hover:text-slate-700"})})]}),d.jsx("div",{className:"p-5 space-y-3 max-h-[300px] overflow-y-auto",children:t.map(h=>d.jsxs("button",{onClick:()=>l(h.id),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg border transition-all ${i.includes(h.id)?"border-blue-500 bg-blue-50":"border-slate-200 hover:bg-slate-50"}`,children:[d.jsxs("div",{className:"text-left",children:[d.jsx("div",{className:"text-sm font-semibold text-slate-900",children:h.name}),d.jsx("div",{className:"text-xs text-slate-500",children:h.title})]}),i.includes(h.id)&&d.jsx(Kd,{className:"w-5 h-5 text-blue-600"})]},h.id))}),d.jsxs("div",{className:"px-5 py-4 border-t flex justify-end space-x-3",children:[d.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg border border-slate-300 text-slate-600 hover:bg-slate-50",children:"Cancel"}),d.jsx("button",{onClick:c,className:"px-4 py-2 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700",children:"Assign & Save"})]})]})})},Ioe=({agent:e,setAgent:t})=>{var fe;const[n,r]=_.useState(!1),i=_.useRef(null),[o,l]=_.useState(""),[c,h]=_.useState(!1),[f,m]=_.useState(""),[g,y]=_.useState(null),[w,N]=_.useState(!1),[A,E]=_.useState([e]),[C,P]=_.useState(!0),[O,M]=_.useState(!1),[k,I]=_.useState(0),[R,D]=_.useState("Starter");_.useEffect(()=>{(async()=>{try{P(!0);const $=await lh(),q=$.plan||"Starter";D(q),M($.knowledgeBaseEnabled??!1),I($.docLimit??0)}catch($){console.error("Failed to fetch billing status:",$),D("Starter"),M(!1),I(0)}finally{P(!1)}})()},[]),_.useEffect(()=>{(async()=>{try{const $=await Ds();Array.isArray($)&&$.length>0&&E($)}catch($){console.error("Failed to fetch agents for assignment:",$)}})()},[]);const z=ae=>{var $;if(!O){alert("Please upgrade your plan to use Knowledge Base.");return}if(k!==1/0&&((($=e.knowledgeBase)==null?void 0:$.length)||0)>=k){alert("Knowledge Base document limit reached.");return}if(ae.target.files&&ae.target.files[0]){const q=ae.target.files[0];y(q),N(!0)}i.current&&(i.current.value="")},X=async ae=>{if(g){N(!1),h(!0),m("");try{for(const $ of ae){const q=await uI(g,$,g.name);if($===e.id){const V={id:q.id||q._id,name:q.title||g.name,size:`${(g.size/1024).toFixed(1)} KB`,type:g.type||"application/pdf",status:"synced",uploadedAt:q.createdAt||new Date().toISOString(),assignedAgentIds:ae,uploadedFrom:"global"};t({...e,knowledgeBase:[...e.knowledgeBase||[],V]})}}}catch($){console.error("Upload failed:",$),m($.message||"Failed to upload document. Please try again."),setTimeout(()=>m(""),5e3)}finally{h(!1),y(null)}}},Q=async ae=>{if(window.confirm("Are you sure you want to delete this document?"))try{await dI(ae),t({...e,knowledgeBase:e.knowledgeBase.filter($=>$.id!==ae)})}catch($){console.error("Delete failed:",$),alert("Failed to delete document: "+($.message||"Unknown error"))}},H=(e.knowledgeBase||[]).filter(ae=>ae.name.toLowerCase().includes(o.toLowerCase()));return C?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Knowledge Center"}),d.jsx("p",{className:"text-slate-500",children:"Manage documents and resources for your AI agent."})]}),d.jsxs("div",{className:"flex items-center justify-center h-64",children:[d.jsx(st,{className:"w-8 h-8 animate-spin text-blue-600"}),d.jsx("span",{className:"ml-3 text-slate-600",children:"Loading plan data..."})]})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Knowledge Center"}),d.jsx("p",{className:"text-slate-500",children:"Upload documents to train your AI agent with domain knowledge."})]}),((fe=e.knowledgeBase)==null?void 0:fe.length)>0&&O&&d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("input",{type:"file",ref:i,className:"hidden",accept:".pdf,.txt,.csv,.md,.png,.jpg,.jpeg,.webp",onChange:z}),d.jsxs("button",{onClick:()=>{var ae;return(ae=i.current)==null?void 0:ae.click()},disabled:c,className:"flex items-center space-x-2 bg-slate-900 hover:bg-slate-800 text-white px-4 py-2 rounded-lg transition-colors font-medium shadow-sm",children:[c?d.jsx(st,{className:"w-4 h-4 animate-spin"}):d.jsx(Ta,{className:"w-4 h-4"}),d.jsx("span",{children:c?"Uploading...":"Add Document"})]})]})]}),f&&d.jsxs("div",{className:"p-4 rounded-lg bg-red-50 text-red-700 border border-red-200 flex items-center",children:[d.jsx(Pi,{className:"w-5 h-5 mr-2 flex-shrink-0"}),f]}),c&&d.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 text-blue-700 border border-blue-200 flex items-center",children:[d.jsx(st,{className:"w-5 h-5 mr-2 animate-spin flex-shrink-0"}),"Processing document... Extracting text and training agent."]}),d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden min-h-[400px]",children:!e.knowledgeBase||e.knowledgeBase.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-center",children:[d.jsx("div",{className:"mb-6",children:d.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-800",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"}),d.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),d.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),d.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),d.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Your Knowledge Center is Empty"}),d.jsx("p",{className:"text-slate-500 max-w-sm mb-2",children:"Upload PDFs, text files, or images to train your AI agent."}),d.jsx("p",{className:"text-xs text-slate-400 max-w-sm mb-8",children:"Supported: PDF, TXT, CSV, MD, PNG, JPG, WEBP"}),d.jsx("input",{type:"file",ref:i,className:"hidden",accept:".pdf,.txt,.csv,.md,.png,.jpg,.jpeg,.webp",onChange:z}),d.jsxs("button",{onClick:()=>{var ae;if(!O){r(!0);return}(ae=i.current)==null||ae.click()},disabled:c,className:"bg-slate-900 text-white px-6 py-3 rounded-lg font-medium hover:bg-slate-800 transition-colors flex items-center",children:[c?d.jsx(st,{className:"w-5 h-5 mr-2 animate-spin"}):d.jsx(Ta,{className:"w-5 h-5 mr-2"}),"Add Document"]})]}):d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center bg-slate-50",children:[d.jsxs("div",{className:"relative flex-1 max-w-md",children:[d.jsx(oh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),d.jsx("input",{type:"text",placeholder:"Search documents...",value:o,onChange:ae=>l(ae.target.value),className:"pl-9 w-full rounded-md border-slate-300 border p-2 text-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{className:"ml-auto text-sm text-slate-500",children:[H.length," documents"]})]}),d.jsx("div",{className:"flex-1 overflow-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[d.jsx("thead",{className:"bg-slate-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Document Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Size"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Uploaded At"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:H.map(ae=>d.jsxs("tr",{className:"hover:bg-slate-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-indigo-50 rounded-lg flex items-center justify-center text-indigo-600",children:d.jsx(pr,{className:"w-5 h-5"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("div",{className:"text-sm font-medium text-slate-900",children:ae.name}),d.jsx("div",{className:"text-xs text-slate-500",children:ae.type})]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:ae.size}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:new Date(ae.uploadedAt).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                            ${ae.status==="synced"?"bg-green-100 text-green-800":""}
                            ${ae.status==="processing"?"bg-yellow-100 text-yellow-800":""}
                            ${ae.status==="failed"?"bg-red-100 text-red-800":""}
                          `,children:[ae.status==="synced"&&d.jsx(Yd,{className:"w-3 h-3 mr-1"}),ae.status==="processing"&&d.jsx(st,{className:"w-3 h-3 mr-1 animate-spin"}),ae.status==="failed"&&d.jsx(Pi,{className:"w-3 h-3 mr-1"}),ae.status.charAt(0).toUpperCase()+ae.status.slice(1)]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>Q(ae.id),className:"text-slate-400 hover:text-red-600 transition-colors",children:d.jsx(Ca,{className:"w-5 h-5"})})})]},ae.id))})]})})]})}),d.jsx(Poe,{isOpen:w,agents:A,onClose:()=>{N(!1),y(null)},onConfirm:X}),n&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:d.jsxs("div",{className:"bg-white p-6 rounded-xl max-w-md text-center",children:[d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Upgrade Required"}),d.jsxs("p",{className:"text-gray-600 mb-6",children:["Your current plan (",R,") does not allow uploading documents to the Knowledge Base. Please upgrade to Pro or Enterprise to use this feature."]}),d.jsx("button",{onClick:()=>r(!1),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold",children:"Close"})]})})]})},Moe=()=>{const[e,t]=_.useState(!1),[n,r]=_.useState(!1),[i,o]=_.useState(!1),[l,c]=_.useState("card"),[h,f]=_.useState(!1),[m,g]=_.useState(!1),[y,w]=_.useState(null),[N,A]=_.useState(null),[E,C]=_.useState([]),[P,O]=_.useState(!0),[M,k]=_.useState(null),[I,R]=_.useState("Starter"),[D,z]=_.useState({extraDocs:!1,extraAgent:!1}),X=[{key:"llm",color:"#8b5cf6",label:"AI Model (LLM)"},{key:"stt",color:"#ec4899",label:"Speech-to-Text"},{key:"tts",color:"#10b981",label:"Text-to-Speech"},{key:"infrastructure",color:"#f59e0b",label:"Infrastructure"}],Q=[{id:"Starter",activationFee:0,features:["1 AI Agent","0 Documents","Pay-as-you-go calls","Standard Support"]},{id:"Pro",activationFee:20,features:["5 AI Agents","25 Documents","Knowledge Base","Priority Support","Add-ons Available"]},{id:"Enterprise",activationFee:null,features:["Unlimited Agents","Unlimited Documents","Advanced Training","Dedicated Account Manager","SLA"]}];_.useEffect(()=>{H()},[]);const H=async()=>{try{O(!0),k(null);const[U,se,te]=await Promise.all([lh(),Xy(),Q4()]);w(U),A(se),C(te),U!=null&&U.plan&&R(U.plan)}catch(U){console.error("Failed to load billing data:",U),k(U.message||"Failed to load billing data")}finally{O(!1)}},fe=()=>N?N.voiceMinutes*.015:0,ae=()=>{const U=Q.find(te=>te.id===I);let se=(U==null?void 0:U.activationFee)||0;return D.extraDocs&&I==="Pro"&&(se+=1),D.extraAgent&&I==="Pro"&&(se+=20),se},$=U=>{const[se,te]=U.split("-");return new Date(parseInt(se),parseInt(te)-1).toLocaleDateString("en-US",{month:"long",year:"numeric"})},q=()=>!E||E.length===0?[]:E.slice(0,6).reverse().map(U=>({name:$(U.month),llm:U.breakdown.llm,stt:U.breakdown.stt,tts:U.breakdown.tts,infrastructure:U.breakdown.infrastructure})),V=async U=>{U.preventDefault(),f(!0);try{await new Promise(se=>setTimeout(se,2e3)),f(!1),g(!0),await H(),setTimeout(()=>{g(!1),t(!1)},3e3)}catch(se){console.error("Payment failed:",se),f(!1),alert("Payment failed: "+(se.message||"Unknown error"))}},ne=async()=>{f(!0);try{if(y&&I!==y.plan){const U=await fI(I);if(U.requiresPayment&&U.checkoutUrl){console.log(" Redirecting to Stripe checkout:",U.checkoutUrl),window.location.href=U.checkoutUrl;return}if(U.requiresContact){f(!1),alert(`${U.message}

Please contact: ${U.contactEmail}`);return}}I==="Pro"&&(D.extraDocs&&await Xd("extra_documents",1),D.extraAgent&&await Xd("extra_agent",1)),await H(),f(!1),r(!1),alert("Subscription updated successfully!")}catch(U){console.error("Subscription update failed:",U),f(!1),alert("Update failed: "+(U.message||"Unknown error"))}};if(P)return d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsx(st,{className:"w-8 h-8 animate-spin text-blue-600"})});if(M)return d.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[d.jsx(Pi,{className:"w-12 h-12 text-red-500 mb-4"}),d.jsx("p",{className:"text-slate-700 font-medium mb-2",children:"Failed to load billing data"}),d.jsx("p",{className:"text-slate-500 text-sm mb-4",children:M}),d.jsx("button",{onClick:H,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]});const re=fe(),he=E.length>0?E[0]:null,L=q();return d.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Usage & Billing"}),d.jsx("p",{className:"text-slate-500",children:"Monitor your consumption and manage forecast budgets."})]}),d.jsx("button",{onClick:()=>o(!0),className:"px-4 py-2 border border-slate-300 rounded-lg text-sm font-medium text-slate-700 hover:bg-white bg-slate-50",children:"View Invoice"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 lg:col-span-2",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Cost summary"}),d.jsx("span",{className:"text-xs font-medium text-blue-600 bg-blue-50 px-2 py-0.5 rounded",children:"Info"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Month-to-date cost"}),d.jsxs("h3",{className:"text-3xl font-bold text-blue-600 mb-2",children:["$",re.toFixed(2)]}),d.jsx("div",{className:"flex items-center text-xs text-slate-500",children:d.jsxs("span",{className:"font-medium text-slate-900",children:[(N==null?void 0:N.voiceMinutes)||0," minutes used"]})})]}),d.jsxs("div",{className:"border-l border-slate-100 pl-6 md:pl-8",children:[d.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Last month's total cost"}),d.jsxs("h3",{className:"text-2xl font-bold text-blue-500 mb-2",children:["$",he?he.totalAmount.toFixed(2):"0.00"]}),d.jsx("p",{className:"text-xs text-slate-400",children:he?$(he.month):"No data"})]}),d.jsxs("div",{className:"pt-4 md:pt-0",children:[d.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Agent Usage"}),d.jsxs("h3",{className:"text-3xl font-bold text-blue-600 mb-2",children:[(N==null?void 0:N.agentCount)||0," / ",(N==null?void 0:N.limits.agents)||1]}),d.jsx("div",{className:"flex items-center text-xs text-slate-500",children:d.jsx("span",{className:"font-medium text-slate-900",children:"Agents deployed"})})]}),d.jsxs("div",{className:"border-l border-slate-100 pl-6 md:pl-8 pt-4 md:pt-0",children:[d.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Document Usage"}),d.jsxs("h3",{className:"text-2xl font-bold text-blue-500 mb-2",children:[(N==null?void 0:N.docCount)||0," / ",(N==null?void 0:N.limits.docs)||0]}),d.jsx("p",{className:"text-xs text-slate-400",children:"Documents uploaded"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 flex flex-col",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx(l4,{className:"w-5 h-5 text-blue-600"}),d.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Current Plan"})]}),d.jsxs("div",{className:"flex-1 space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-50",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-bold text-slate-800",children:[(y==null?void 0:y.plan)||"Starter"," Plan"]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-xs text-slate-500",children:"Pay-as-you-go"}),d.jsx("span",{className:"text-[10px] bg-green-50 text-green-700 px-1.5 py-0.5 rounded font-medium",children:(y==null?void 0:y.status)||"ACTIVE"})]})]}),d.jsx("div",{className:"text-sm font-bold text-slate-900",children:(y==null?void 0:y.plan)==="Starter"?"$0":(y==null?void 0:y.plan)==="Pro"?"$20":"Contact"})]}),d.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[d.jsx("p",{className:"text-xs text-slate-600 mb-2",children:"Plan Limits:"}),d.jsxs("ul",{className:"space-y-1 text-xs text-slate-700",children:[d.jsxs("li",{children:[" ",(N==null?void 0:N.limits.agents)||1," Agent(s)"]}),d.jsxs("li",{children:[" ",(N==null?void 0:N.limits.docs)||0," Documents"]}),d.jsx("li",{children:" $0.015/min outbound calls"}),d.jsx("li",{children:" $0.013/min inbound calls"})]})]})]}),d.jsx("div",{className:"pt-4 mt-auto border-t border-slate-100",children:d.jsx("button",{onClick:()=>r(!0),className:"w-full text-xs font-bold text-blue-600 hover:bg-blue-50 py-2.5 rounded border border-blue-200 hover:border-blue-300 transition-colors",children:"Manage Plan"})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 lg:col-span-2",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Cost breakdown"}),d.jsx("span",{className:"text-xs font-medium text-blue-600 bg-blue-50 px-2 py-0.5 rounded",children:"Info"})]}),d.jsx("div",{className:"flex items-center space-x-2",children:d.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Last 6 months"})})]}),L.length>0?d.jsx("div",{className:"h-[400px] w-full",children:d.jsx(G0,{width:"100%",height:"100%",children:d.jsxs(wR,{data:L,margin:{top:20,right:30,left:0,bottom:5},children:[d.jsx(Vf,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),d.jsx(Yf,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12},dy:10}),d.jsx(Jf,{axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12},tickFormatter:U=>`$${U}`}),d.jsx(vy,{formatter:U=>[`$${U.toFixed(2)}`,""],contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f8fafc"}}),d.jsx(GM,{iconType:"circle",wrapperStyle:{paddingTop:"20px"}}),X.map(U=>d.jsx(Ib,{dataKey:U.key,name:U.label,stackId:"a",fill:U.color},U.key))]})})}):d.jsx("div",{className:"h-[400px] flex items-center justify-center text-slate-500",children:d.jsxs("div",{className:"text-center",children:[d.jsx(pr,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),d.jsx("p",{children:"No invoice history yet"}),d.jsx("p",{className:"text-sm",children:"Start making calls to see cost breakdown"})]})})]}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 h-full flex flex-col justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Current Usage"}),d.jsx("span",{className:"text-xs font-medium text-green-600 bg-green-50 px-2 py-0.5 rounded",children:"Live"})]}),d.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-6 text-center mb-6",children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 mb-2",children:"This Month's Cost"}),d.jsxs("h3",{className:"text-4xl font-bold text-slate-900",children:["$",re.toFixed(2)]}),d.jsxs("p",{className:"text-xs text-slate-500 mt-2 font-medium",children:[(N==null?void 0:N.voiceMinutes)||0," minutes used"]})]}),d.jsxs("div",{className:"space-y-3",children:[E.slice(0,2).map((U,se)=>d.jsxs("div",{className:"flex justify-between text-sm text-slate-600 border-b border-slate-100 pb-2",children:[d.jsx("span",{className:"truncate",children:$(U.month)}),d.jsxs("span",{className:"text-slate-900 font-medium",children:["$",U.totalAmount.toFixed(2)]})]},U._id)),E.length===0&&d.jsx("p",{className:"text-xs text-slate-400 text-center py-4",children:"No invoices yet"})]})]}),d.jsxs("button",{onClick:()=>o(!0),className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-lg transition-colors mt-6 flex items-center justify-center shadow-lg shadow-indigo-100",children:[d.jsx(pr,{className:"w-5 h-5 mr-2"}),"View All Invoices"]})]})})]}),e&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 animate-fadeIn",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden",children:[d.jsxs("div",{className:"bg-slate-900 px-6 py-4 flex justify-between items-center text-white",children:[d.jsxs("h3",{className:"font-bold text-lg flex items-center",children:[d.jsx(Wy,{className:"w-4 h-4 mr-2 text-green-400"}),"Secure Payment"]}),d.jsx("button",{onClick:()=>t(!1),className:"text-slate-400 hover:text-white",children:d.jsx(Sn,{className:"w-6 h-6"})})]}),m?d.jsxs("div",{className:"p-12 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(lc,{className:"w-10 h-10 text-green-600"})}),d.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Payment Successful!"}),d.jsxs("p",{className:"text-slate-500",children:["Transaction ID: TXN-",Math.random().toString(36).substr(2,9).toUpperCase()]}),d.jsx("p",{className:"text-slate-500 mt-2 text-sm",children:"Thank you for your payment."})]}):d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"w-1/3 bg-slate-50 border-r border-slate-200 p-2 space-y-1",children:[{id:"card",label:"Credit/Debit Card",icon:ah},{id:"upi",label:"UPI / VPA",icon:Wd},{id:"netbanking",label:"Net Banking",icon:W3},{id:"gateway",label:"Payment Gateway",icon:H3}].map(U=>d.jsxs("button",{onClick:()=>c(U.id),className:`w-full text-left px-4 py-3 rounded-lg text-xs font-medium flex items-center space-x-3 transition-colors ${l===U.id?"bg-white shadow-sm text-indigo-600 border border-slate-200":"text-slate-600 hover:bg-slate-100"}`,children:[d.jsx(U.icon,{className:"w-4 h-4"}),d.jsx("span",{children:U.label})]},U.id))}),d.jsxs("div",{className:"w-2/3 p-6",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold mb-1",children:"Paying Amount"}),d.jsx("div",{className:"text-2xl font-bold text-slate-900",children:"$1,094.60"})]}),d.jsxs("form",{onSubmit:V,className:"space-y-4",children:[l==="card"&&d.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Card Number"}),d.jsx("input",{required:!0,type:"text",placeholder:"0000 0000 0000 0000",className:"w-full border border-slate-300 rounded p-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Expiry"}),d.jsx("input",{required:!0,type:"text",placeholder:"MM/YY",className:"w-full border border-slate-300 rounded p-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"CVV"}),d.jsx("input",{required:!0,type:"text",placeholder:"123",maxLength:3,className:"w-full border border-slate-300 rounded p-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white"})]})]})]}),(l==="upi"||l==="netbanking")&&d.jsx("div",{className:"text-center py-6 text-sm text-slate-500 bg-slate-50 rounded",children:"Redirecting to secure gateway..."}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{type:"submit",disabled:h,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2.5 rounded-lg transition-colors flex items-center justify-center disabled:opacity-70",children:h?d.jsxs(d.Fragment,{children:[d.jsx(st,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Pay Now"})})]})]})]})]})}),i&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 animate-fadeIn",onClick:()=>o(!1),children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl overflow-hidden flex flex-col max-h-[80vh]",onClick:U=>U.stopPropagation(),children:[d.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 flex justify-between items-center bg-slate-50 shrink-0",children:[d.jsxs("h3",{className:"font-bold text-lg text-slate-900 flex items-center",children:[d.jsx(pr,{className:"w-5 h-5 mr-3 text-slate-500"}),"Invoice History"]}),d.jsx("button",{onClick:()=>o(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(Sn,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:E.length>0?d.jsxs("table",{className:"min-w-full divide-y divide-slate-100",children:[d.jsx("thead",{className:"bg-white sticky top-0 z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Month"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Inbound"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Outbound"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Total"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Breakdown"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-slate-100",children:E.map((U,se)=>d.jsxs("tr",{className:"hover:bg-slate-50",children:[d.jsxs("td",{className:"px-6 py-4",children:[d.jsx("div",{className:"text-sm font-bold text-slate-900",children:$(U.month)}),d.jsx("div",{className:"text-xs text-slate-500",children:new Date(U.generatedAt).toLocaleDateString()})]}),d.jsxs("td",{className:"px-6 py-4",children:[d.jsxs("div",{className:"text-sm text-slate-900",children:[U.inboundMinutes," mins"]}),d.jsxs("div",{className:"text-xs text-slate-500",children:["$",U.inboundCost.toFixed(2)]})]}),d.jsxs("td",{className:"px-6 py-4",children:[d.jsxs("div",{className:"text-sm text-slate-900",children:[U.outboundMinutes," mins"]}),d.jsxs("div",{className:"text-xs text-slate-500",children:["$",U.outboundCost.toFixed(2)]})]}),d.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:["$",U.totalAmount.toFixed(2)]}),d.jsx("td",{className:"px-6 py-4 text-right",children:d.jsxs("div",{className:"text-xs text-slate-600 space-y-1",children:[d.jsxs("div",{children:["LLM: $",U.breakdown.llm.toFixed(2)]}),d.jsxs("div",{children:["STT: $",U.breakdown.stt.toFixed(2)]}),d.jsxs("div",{children:["TTS: $",U.breakdown.tts.toFixed(2)]}),d.jsxs("div",{children:["Infra: $",U.breakdown.infrastructure.toFixed(2)]})]})})]},U._id))})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[d.jsx(pr,{className:"w-16 h-16 text-slate-300 mb-4"}),d.jsx("p",{className:"text-slate-600 font-medium",children:"No invoices yet"}),d.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Invoices will appear here after you make calls"})]})})]})}),n&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 animate-fadeIn",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full overflow-hidden h-[90vh] flex flex-col",children:[d.jsxs("div",{className:"bg-white px-8 py-6 border-b border-slate-200 flex justify-between items-center shrink-0",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Manage Plan"}),d.jsx("p",{className:"text-slate-500",children:"Choose the plan that fits your business needs."})]}),d.jsx("button",{onClick:()=>r(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(Sn,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-8 bg-slate-50",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:Q.map(U=>d.jsxs("div",{onClick:()=>R(U.id),className:`relative rounded-2xl p-6 cursor-pointer transition-all ${I===U.id?"bg-white border-2 border-blue-600 shadow-xl scale-105 z-10":"bg-white border border-slate-200 hover:border-blue-300 opacity-80 hover:opacity-100"}`,children:[I===U.id&&d.jsx("div",{className:"absolute top-0 right-0 transform translate-x-2 -translate-y-2",children:d.jsx("div",{className:"bg-blue-600 text-white rounded-full p-1 shadow-md",children:d.jsx(Kd,{className:"w-4 h-4"})})}),d.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:U.id}),d.jsx("div",{className:"flex items-baseline mb-6",children:U.activationFee===null?d.jsx("span",{className:"text-2xl font-bold text-slate-900",children:"Contact Sales"}):d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:"text-3xl font-bold text-slate-900",children:["$",U.activationFee]}),d.jsx("span",{className:"text-slate-500 ml-1",children:"one-time"})]})}),d.jsx("ul",{className:"space-y-3 mb-6",children:U.features.map((se,te)=>d.jsxs("li",{className:"flex items-center text-sm text-slate-600",children:[d.jsx(lc,{className:"w-4 h-4 text-green-500 mr-2 shrink-0"}),se]},te))})]},U.id))}),I==="Pro"&&d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center",children:[d.jsx(cI,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Available Add-ons"]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 divide-y divide-slate-100",children:[d.jsxs("div",{className:"p-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-2 bg-indigo-50 rounded text-indigo-600",children:d.jsx(nI,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-slate-900",children:"Extra Documents (10 docs)"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Add 10 more documents to your knowledge base."})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("span",{className:"font-bold text-slate-900",children:"$1"}),d.jsx("button",{onClick:()=>z(U=>({...U,extraDocs:!U.extraDocs})),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${D.extraDocs?"bg-blue-600":"bg-slate-200"}`,children:d.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${D.extraDocs?"translate-x-5":"translate-x-0"}`})})]})]}),d.jsxs("div",{className:"p-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-2 bg-green-50 rounded text-green-600",children:d.jsx(Wd,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-slate-900",children:"Extra AI Agent Slot"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Add 1 more agent (max 2 extra agents)."})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("span",{className:"font-bold text-slate-900",children:"$20"}),d.jsx("button",{onClick:()=>z(U=>({...U,extraAgent:!U.extraAgent})),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${D.extraAgent?"bg-blue-600":"bg-slate-200"}`,children:d.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${D.extraAgent?"translate-x-5":"translate-x-0"}`})})]})]})]})]}),I==="Enterprise"&&d.jsxs("div",{className:"max-w-3xl mx-auto bg-blue-50 border border-blue-200 rounded-xl p-6",children:[d.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Enterprise Plan"}),d.jsx("p",{className:"text-sm text-slate-600",children:"Contact our sales team to discuss your requirements and get a custom quote tailored to your business needs."})]})]}),d.jsxs("div",{className:"bg-white border-t border-slate-200 p-6 flex justify-between items-center shrink-0",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-500",children:I==="Enterprise"?"Contact Sales":"Activation Fee + Add-ons"}),d.jsx("p",{className:"text-3xl font-bold text-slate-900",children:I==="Enterprise"?"Custom":`$${ae().toFixed(2)}`})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{onClick:()=>r(!1),className:"px-6 py-3 border border-slate-300 rounded-lg text-slate-700 font-medium hover:bg-slate-50",children:"Cancel"}),d.jsxs("button",{onClick:ne,disabled:h||I==="Enterprise",className:"px-8 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 shadow-lg shadow-blue-200 flex items-center disabled:opacity-70",children:[h?d.jsx(st,{className:"w-5 h-5 animate-spin mr-2"}):d.jsx(jd,{className:"w-5 h-5 mr-2"}),I==="Enterprise"?"Contact Sales":"Confirm Changes"]})]})]})]})})]})},Ooe=({numbers:e,loading:t,onSelectNumber:n,onDeleteNumber:r})=>{const[i,o]=_.useState(null),[l,c]=_.useState(null),h=async(f,m)=>{if(f.stopPropagation(),!!window.confirm("Are you sure you want to delete this VOIP connection? This action cannot be undone."))try{o(m),await r(m)}catch(g){c(g instanceof Error?g.message:"Failed to delete VOIP connection")}finally{o(null)}};return t?d.jsx("div",{className:"flex items-center justify-center py-8",children:d.jsx(st,{className:"w-6 h-6 animate-spin text-blue-600"})}):e.length===0?d.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[d.jsx(kn,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),d.jsx("p",{className:"text-gray-700 font-medium",children:"No VOIP connections yet"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Connect a VOIP provider to start making calls"})]}):d.jsxs("div",{className:"space-y-3",children:[l&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[d.jsx(Pi,{className:"w-5 h-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-bold text-red-900",children:"Error"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:l})]})]}),d.jsx("div",{className:"space-y-2",children:e.map(f=>{var m;return d.jsxs("div",{onClick:()=>n(f),className:"border border-gray-200 rounded-lg p-4 hover:bg-blue-50 hover:border-blue-300 cursor-pointer transition-colors flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(kn,{className:"w-6 h-6 text-blue-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:((m=f.voipProvider)==null?void 0:m.provider)||"Unknown Provider"}),d.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[d.jsxs("p",{className:"text-sm text-gray-600",children:[d.jsx("span",{className:"font-medium",children:"DID:"})," ",f.phoneNumber]}),f.assignedAgent&&d.jsxs("p",{className:"text-sm text-gray-600",children:[d.jsx("span",{className:"font-medium",children:"Agent:"})," ",f.assignedAgent.name]})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:g=>h(g,f._id),disabled:i===f._id,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Delete VOIP connection",children:i===f._id?d.jsx(st,{className:"w-5 h-5 animate-spin"}):d.jsx(Ca,{className:"w-5 h-5"})}),d.jsx(Jy,{className:"w-5 h-5 text-gray-400"})]})]},f._id)})})]})},joe=()=>{var ne;const[e,t]=_.useState(null),[n,r]=_.useState([]),[i,o]=_.useState(!1),[l,c]=_.useState(!0),[h,f]=_.useState(!1),[m,g]=_.useState([]),[y,w]=_.useState(!1),[N,A]=_.useState(""),[E,C]=_.useState("Twilio"),[P,O]=_.useState({accountSid:"",authToken:"",accessToken:"",accessKey:"",appId:"",username:"",password:"",tokenEndpoint:"",dialEndpoint:"",did:"",endpointUrl:""}),[M,k]=_.useState(null),[I,R]=_.useState(!1),[D,z]=_.useState(!1),[X,Q]=_.useState(!1);_.useEffect(()=>{(async()=>{try{c(!0);const[he,L,U]=await Promise.all([Ds(),_0(),Qd()]);r(Array.isArray(he)?he:[]),t(L),g((U==null?void 0:U.numbers)||[])}catch(he){console.error("Failed to fetch VOIP data:",he)}finally{c(!1)}})()},[]);const H=re=>{const{name:he,value:L}=re.target;O(U=>({...U,[he]:L}))},fe=re=>{C(re),k(null),O({accountSid:"",authToken:"",accessToken:"",accessKey:"",appId:"",username:"",password:"",tokenEndpoint:"",dialEndpoint:"",did:"",endpointUrl:""})},ae=async re=>{try{w(!0),await t6(re);const he=await Qd();g((he==null?void 0:he.numbers)||[])}catch(he){throw console.error("Failed to delete VOIP number:",he),he}finally{w(!1)}},$=re=>{console.log("Selected number:",re)},q=async()=>{if(!N){k("Please select an agent");return}if(E==="Twilio"){if(!P.accountSid||!P.authToken){k("Please enter Account SID and Auth Token");return}}else if(!P.accessToken||!P.accessKey||!P.did){k("Please fill in all required fields (Access Token, Access Key, DID)");return}try{f(!0),k(null);let re={provider:E==="Twilio"?"Twilio":"SansPBX",agentId:N};E==="Twilio"?(re.accountSid=P.accountSid,re.authToken=P.authToken):(re.tokenEndpoint=P.tokenEndpoint||"https://clouduat28.sansoftwares.com/pbxadmin/sanpbxapi/gentoken",re.dialEndpoint=P.dialEndpoint||"https://clouduat28.sansoftwares.com/pbxadmin/sanpbxapi/dialcall",re.accessToken=P.accessToken,re.accessKey=P.accessKey,re.appId=P.appId,re.username=P.username,re.password=P.password,re.did=P.did,re.endpointUrl=P.endpointUrl),(await Z4(re)).success&&(R(!0),setTimeout(()=>{o(!1),R(!1),A(""),O({accountSid:"",authToken:"",accessToken:"",accessKey:"",appId:"",username:"",password:"",tokenEndpoint:"",dialEndpoint:"",did:"",endpointUrl:""}),_0().then(L=>t(L))},2e3))}catch(re){k(re.message||"Failed to connect VOIP provider")}finally{f(!1)}},V=()=>{o(!1),k(null),A(""),C("Twilio")};return l?d.jsx("div",{className:"p-6 bg-white rounded-lg border border-gray-200",children:d.jsx("div",{className:"flex items-center justify-center h-40",children:d.jsx(st,{className:"w-6 h-6 animate-spin text-blue-600"})})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(kn,{className:"w-6 h-6 text-blue-600"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"VOIP Integration"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Connect your VOIP provider to enable calling"})]})]})}),(e==null?void 0:e.hasProvider)&&d.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Yd,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-green-900",children:"Connected"}),d.jsxs("p",{className:"text-sm text-green-700",children:[((ne=e.provider)==null?void 0:ne.provider)||"Unknown"," provider is active"]})]})]}),d.jsx("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:"Reconnect"})]}),!(e!=null&&e.hasProvider)&&d.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Pi,{className:"w-5 h-5 text-blue-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-blue-900",children:"No VOIP Provider Connected"}),d.jsx("p",{className:"text-sm text-blue-700",children:"Connect a provider to start making calls"})]})]}),d.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center space-x-2",children:[d.jsx(Ta,{className:"w-4 h-4"}),d.jsx("span",{children:"Connect VOIP"})]})]}),m.length>0&&d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Connected Phone Numbers"}),d.jsx(Ooe,{numbers:m,loading:y,onSelectNumber:$,onDeleteNumber:ae})]}),i&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Connect VOIP Provider"}),d.jsx("button",{onClick:V,className:"text-gray-500 hover:text-gray-700",children:d.jsx(Sn,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[I&&d.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-center space-x-3",children:[d.jsx(Yd,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-green-900",children:"Success!"}),d.jsx("p",{className:"text-sm text-green-700",children:"VOIP provider connected and DID assigned to agent"})]})]}),M&&d.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-3",children:[d.jsx(Pi,{className:"w-5 h-5 text-red-600"}),d.jsx("p",{className:"text-sm text-red-700",children:M})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Select Agent ",d.jsx("span",{className:"text-red-600",children:"*"})]}),d.jsxs("select",{value:N,onChange:re=>{A(re.target.value),k(null)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"",children:"Choose an agent..."}),n.map(re=>d.jsxs("option",{value:re._id,children:[re.name," - ",re.title]},re._id))]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The selected agent will use this VOIP provider for all calls"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:["Select Provider ",d.jsx("span",{className:"text-red-600",children:"*"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsx("button",{onClick:()=>fe("Twilio"),className:`p-4 border-2 rounded-lg transition-all font-medium ${E==="Twilio"?"border-blue-600 bg-blue-50 text-blue-900":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:"Twilio"}),d.jsx("button",{onClick:()=>fe("Others"),className:`p-4 border-2 rounded-lg transition-all font-medium ${E==="Others"?"border-blue-600 bg-blue-50 text-blue-900":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:"Others"})]})]}),E==="Twilio"?d.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[d.jsx("h4",{className:"font-semibold text-gray-900",children:"Twilio Credentials"}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Account SID ",d.jsx("span",{className:"text-red-600",children:"*"})]}),d.jsx("input",{type:"text",name:"accountSid",placeholder:"AC...",value:P.accountSid,onChange:H,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Auth Token ",d.jsx("span",{className:"text-red-600",children:"*"})]}),d.jsx("input",{type:"password",name:"authToken",placeholder:"",value:P.authToken,onChange:H,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"})]})]}):d.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[d.jsx("h4",{className:"font-semibold text-gray-900",children:"Provider Credentials"}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Access Token (Accesstoken) ",d.jsx("span",{className:"text-red-600",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:D?"text":"password",name:"accessToken",placeholder:"Static token from your VOIP provider",value:P.accessToken,onChange:H,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"}),d.jsx("button",{type:"button",onClick:()=>z(!D),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:D?d.jsx(nE,{className:"w-5 h-5"}):d.jsx(Jd,{className:"w-5 h-5"})})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Static token for authentication (from provider)"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Access Key ",d.jsx("span",{className:"text-red-600",children:"*"})]}),d.jsx("input",{type:"text",name:"accessKey",placeholder:"e.g., Priority Technologies Inc.",value:P.accessKey,onChange:H,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Access key for API calls (from provider)"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["DID (Phone Number) ",d.jsx("span",{className:"text-red-600",children:"*"})]}),d.jsx("input",{type:"text",name:"did",placeholder:"Enter your phone number",value:P.did,onChange:H,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The phone number that will be used as caller ID"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"App ID (Optional)"}),d.jsx("input",{type:"text",name:"appId",placeholder:"e.g., 6",value:P.appId,onChange:H,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Username ",d.jsx("span",{className:"text-red-600",children:"*"})]}),d.jsx("input",{type:"text",name:"username",placeholder:"e.g., your-username",value:P.username,onChange:H,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For Basic Auth (from provider)"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",d.jsx("span",{className:"text-red-600",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:X?"text":"password",name:"password",placeholder:"",value:P.password,onChange:H,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"}),d.jsx("button",{type:"button",onClick:()=>Q(!X),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:X?d.jsx(nE,{className:"w-5 h-5"}):d.jsx(Jd,{className:"w-5 h-5"})})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For Basic Auth (from provider)"})]}),d.jsxs("details",{className:"pt-4 border-t border-gray-300",children:[d.jsx("summary",{className:"cursor-pointer font-medium text-gray-700 hover:text-gray-900",children:"Advanced Options"}),d.jsxs("div",{className:"space-y-4 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Token Endpoint (Optional)"}),d.jsx("input",{type:"text",name:"tokenEndpoint",placeholder:"https://...",value:P.tokenEndpoint,onChange:H,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-xs"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dial Endpoint (Optional)"}),d.jsx("input",{type:"text",name:"dialEndpoint",placeholder:"https://...",value:P.dialEndpoint,onChange:H,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-xs"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endpoint URL (Optional)"}),d.jsx("input",{type:"text",name:"endpointUrl",placeholder:"https://...",value:P.endpointUrl,onChange:H,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-xs"})]})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[d.jsx("button",{onClick:V,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",disabled:h,children:"Cancel"}),d.jsx("button",{onClick:q,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center space-x-2 disabled:opacity-50",disabled:h||!N||!E,children:h?d.jsxs(d.Fragment,{children:[d.jsx(st,{className:"w-4 h-4 animate-spin"}),d.jsx("span",{children:"Connecting..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(kn,{className:"w-4 h-4"}),d.jsx("span",{children:"Connect"})]})})]})]})]})})]})},koe=()=>{var $c;const[e,t]=_.useState("Profile"),[n]=_.useState(()=>{const pe=localStorage.getItem("user");return pe?JSON.parse(pe):{name:"User",email:"user@example.com",role:"user"}}),[r,i]=_.useState("main"),[o,l]=_.useState(null),[c,h]=_.useState([]),[f,m]=_.useState([]),[g,y]=_.useState([]),[w,N]=_.useState(null),[A,E]=_.useState(!1),[C,P]=_.useState(""),[O,M]=_.useState(!1),[k,I]=_.useState(null),[R,D]=_.useState({provider:"Twilio",accountSid:"",authToken:"",apiKey:"",secretKey:"",did:"",endpointUrl:""}),[z,X]=_.useState(!1),[Q,H]=_.useState(!1),[fe,ae]=_.useState(null),[$,q]=_.useState(null),[V,ne]=_.useState("Starter"),[re,he]=_.useState({extraDocs:!1,extraAgent:!1}),[L,U]=_.useState(!1),[se,te]=_.useState(!1),[Ae,_e]=_.useState(null),[me,Be]=_.useState([]),[ie,Ie]=_.useState(""),[je,de]=_.useState(null),[St,Le]=_.useState(!1),[pt,gt]=_.useState(!1),[nn,Bn]=_.useState(!1);_.useEffect(()=>{e==="VOIP"&&ue()},[e]);const ue=async()=>{M(!0),I(null);try{const[pe,Pt,Ot]=await Promise.all([_0(),Qd(),Ds()]);l(pe),h(Pt.numbers||[]),y(Ot.agents||Ot||[])}catch(pe){console.error("Failed to load VOIP data:",pe),I(pe.message||"Failed to load VOIP data")}finally{M(!1)}},ve=[{id:"Starter",activationFee:0,features:["1 AI Agent","0 Documents","Pay-as-you-go calls","Standard Support"]},{id:"Pro",activationFee:20,features:["5 AI Agents","25 Documents","Knowledge Base","Priority Support","Add-ons Available"]},{id:"Enterprise",activationFee:null,features:["Unlimited Agents","Unlimited Documents","Advanced Training","Dedicated Account Manager","SLA"]}];_.useEffect(()=>{e==="Subscription"&&Oe()},[e]);const Oe=async()=>{te(!0),_e(null);try{const[pe,Pt]=await Promise.all([lh(),Xy()]);ae(pe),q(Pt),pe!=null&&pe.plan&&ne(pe.plan)}catch(pe){console.error("Failed to load subscription data:",pe),_e(pe.message||"Failed to load subscription data")}finally{te(!1)}};_.useEffect(()=>{e==="API"&&Z()},[e]);const Z=async()=>{Le(!0);try{const pe=await a6();Be(Array.isArray(pe)?pe:[])}catch(pe){console.error("Failed to load API keys:",pe)}finally{Le(!1)}},ge=async()=>{gt(!0);try{const pe=await i6(ie||void 0);de(pe.key),Ie(""),await Z()}catch(pe){alert(pe.message||"Failed to generate API key")}finally{gt(!1)}},Ne=async pe=>{if(window.confirm("Are you sure you want to revoke this API key? Any integrations using it will stop working."))try{await o6(pe),await Z()}catch(Pt){alert(Pt.message||"Failed to revoke API key")}},vt=pe=>{navigator.clipboard.writeText(pe),Bn(!0),setTimeout(()=>Bn(!1),2e3)},zn="https://shreenika-ai-backend-507468019722.us-central1.run.app",To=[{method:"GET",path:"/api/v1/agents",desc:"List all agents"},{method:"GET",path:"/api/v1/agents/:id",desc:"Get agent by ID"},{method:"POST",path:"/api/v1/calls/outbound",desc:"Make outbound call"},{method:"GET",path:"/api/v1/calls",desc:"List call history"},{method:"GET",path:"/api/v1/contacts",desc:"List contacts"},{method:"POST",path:"/api/v1/contacts",desc:"Create contact"},{method:"PUT",path:"/api/v1/contacts/:id",desc:"Update contact"},{method:"DELETE",path:"/api/v1/contacts/:id",desc:"Delete contact"},{method:"GET",path:"/api/v1/knowledge",desc:"List knowledge docs"},{method:"GET",path:"/api/v1/usage",desc:"Get usage stats"},{method:"GET",path:"/api/v1/billing",desc:"Get billing status"}],Co=()=>{const pe=ve.find(Ot=>Ot.id===V);let Pt=(pe==null?void 0:pe.activationFee)||0;return re.extraDocs&&V==="Pro"&&(Pt+=1),re.extraAgent&&V==="Pro"&&(Pt+=20),Pt},lm=async()=>{U(!0);try{if(fe&&V!==fe.plan){const pe=await fI(V);if(pe.requiresPayment&&pe.checkoutUrl){window.location.href=pe.checkoutUrl;return}if(pe.requiresContact){U(!1),alert(`${pe.message}

Please contact: ${pe.contactEmail}`);return}}V==="Pro"&&(re.extraDocs&&await Xd("extra_documents",1),re.extraAgent&&await Xd("extra_agent",1)),await Oe(),U(!1),alert("Subscription updated successfully!")}catch(pe){console.error("Subscription update failed:",pe),U(!1),alert("Update failed: "+(pe.message||"Unknown error"))}},Vc=async()=>{if(!(!w||!C))try{await e6(w.id,C),await ue(),E(!1),i("main"),alert("Number assigned successfully!")}catch(pe){alert(pe.message||"Failed to assign number")}};return d.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Settings"}),d.jsx("p",{className:"text-slate-500",children:"Manage your account, integrations, and legal information."})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden min-h-[600px] flex flex-col md:flex-row",children:[d.jsx("div",{className:"w-full md:w-64 border-b md:border-b-0 md:border-r border-slate-200 bg-slate-50 p-4 space-y-1",children:[{id:"Profile",icon:E0,label:"My Profile"},{id:"VOIP",icon:kn,label:"VOIP Integration"},{id:"Subscription",icon:ah,label:"Subscription Plan"},{id:"API",icon:Pg,label:"API Integration"},{id:"Legal",icon:jd,label:"Privacy & Terms"},{id:"FAQ",icon:P3,label:"FAQs"}].map(pe=>d.jsxs("button",{onClick:()=>t(pe.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${e===pe.id?"bg-blue-100 text-blue-700":"text-slate-600 hover:bg-slate-100"}`,children:[d.jsx(pe.icon,{className:"w-4 h-4"}),d.jsx("span",{children:pe.label})]},pe.id))}),d.jsxs("div",{className:"flex-1 p-8 overflow-y-auto",children:[e==="Profile"&&d.jsxs("div",{className:"max-w-lg space-y-6",children:[d.jsx("h2",{className:"text-xl font-bold text-slate-900 border-b border-slate-100 pb-4",children:"My Profile"}),d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-2xl font-bold",children:n.name.charAt(0).toUpperCase()}),d.jsx("div",{children:d.jsx("button",{className:"text-sm text-blue-600 font-medium hover:underline",children:"Change Avatar"})})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),d.jsx("input",{type:"text",value:n.name,readOnly:!0,className:"w-full border border-slate-300 rounded-lg p-2.5 bg-slate-50 text-slate-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),d.jsx("input",{type:"email",value:n.email,readOnly:!0,className:"w-full border border-slate-300 rounded-lg p-2.5 bg-slate-50 text-slate-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),d.jsx("input",{type:"text",value:n.role,readOnly:!0,className:"w-full border border-slate-300 rounded-lg p-2.5 bg-slate-50 text-slate-500 capitalize"})]})]}),d.jsx("button",{className:"bg-slate-900 text-white px-6 py-2.5 rounded-lg text-sm font-medium hover:bg-slate-800",children:"Update Profile"})]}),e==="VOIP"&&d.jsx(joe,{}),e==="Subscription"&&d.jsxs("div",{className:"animate-fadeIn",children:[d.jsx("h2",{className:"text-xl font-bold text-slate-900 border-b border-slate-100 pb-4",children:"Manage Subscription"}),d.jsx("p",{className:"text-slate-500 mt-4",children:"Upgrade your plan to unlock more agents and features."}),fe&&d.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-blue-700",children:"Current Plan"}),d.jsx("p",{className:"text-lg font-bold text-blue-900",children:fe.plan})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xs text-blue-600",children:"Agent Usage"}),d.jsxs("p",{className:"text-sm font-bold text-blue-900",children:[($==null?void 0:$.agentCount)||0," / ",(($c=$==null?void 0:$.limits)==null?void 0:$c.agents)||1]})]})]})}),d.jsxs("div",{className:"mt-4",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:ve.map(pe=>d.jsxs("div",{onClick:()=>ne(pe.id),className:`relative rounded-2xl p-6 cursor-pointer transition-all ${V===pe.id?"bg-white border-2 border-blue-600 shadow-xl scale-105 z-10":"bg-white border border-slate-200 hover:border-blue-300 opacity-80 hover:opacity-100"}`,children:[V===pe.id&&d.jsx("div",{className:"absolute top-0 right-0 transform translate-x-2 -translate-y-2",children:d.jsx("div",{className:"bg-blue-600 text-white rounded-full p-1 shadow-md",children:d.jsx(Kd,{className:"w-4 h-4"})})}),d.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:pe.id}),d.jsx("div",{className:"flex items-baseline mb-6",children:pe.activationFee===null?d.jsx("span",{className:"text-xl font-bold text-slate-900",children:"Contact Sales"}):d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:"text-3xl font-bold text-slate-900",children:["$",pe.activationFee]}),d.jsx("span",{className:"text-slate-500 ml-1",children:"one-time"})]})}),d.jsx("ul",{className:"space-y-3 mb-6",children:pe.features.map((Pt,Ot)=>d.jsxs("li",{className:"flex items-center text-sm text-slate-600",children:[d.jsx(lc,{className:"w-4 h-4 text-green-500 mr-2 shrink-0"}),Pt]},Ot))})]},pe.id))}),V==="Pro"&&d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center",children:[d.jsx(cI,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Available Add-ons"]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 divide-y divide-slate-100",children:[d.jsxs("div",{className:"p-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-2 bg-indigo-50 rounded text-indigo-600",children:d.jsx(nI,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-slate-900",children:"Extra Documents (10 docs)"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Add 10 more documents to your knowledge base."})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("span",{className:"font-bold text-slate-900",children:"$1"}),d.jsx("button",{onClick:()=>he(pe=>({...pe,extraDocs:!pe.extraDocs})),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${re.extraDocs?"bg-blue-600":"bg-slate-200"}`,children:d.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${re.extraDocs?"translate-x-5":"translate-x-0"}`})})]})]}),d.jsxs("div",{className:"p-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"p-2 bg-green-50 rounded text-green-600",children:d.jsx(Wd,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-slate-900",children:"Extra AI Agent Slot"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Add 1 more agent (max 2 extra agents)."})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("span",{className:"font-bold text-slate-900",children:"$20"}),d.jsx("button",{onClick:()=>he(pe=>({...pe,extraAgent:!pe.extraAgent})),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${re.extraAgent?"bg-blue-600":"bg-slate-200"}`,children:d.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${re.extraAgent?"translate-x-5":"translate-x-0"}`})})]})]})]})]}),V==="Enterprise"&&d.jsxs("div",{className:"max-w-3xl mx-auto bg-blue-50 border border-blue-200 rounded-xl p-6",children:[d.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Enterprise Plan"}),d.jsx("p",{className:"text-sm text-slate-600",children:"Contact our sales team to discuss your requirements and get a custom quote tailored to your business needs."})]})]}),d.jsxs("div",{className:"bg-slate-100 border-t border-slate-200 p-6 flex justify-between items-center rounded-b-lg -mx-8 -mb-8 mt-12",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-500",children:V==="Enterprise"?"Contact Sales":"Activation Fee + Add-ons"}),d.jsx("p",{className:"text-3xl font-bold text-slate-900",children:V==="Enterprise"?"Custom":`$${Co().toFixed(2)}`})]}),d.jsxs("button",{onClick:lm,disabled:L||V==="Enterprise",className:"px-8 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 shadow-lg shadow-blue-200 flex items-center disabled:opacity-70",children:[L?d.jsx(st,{className:"w-5 h-5 animate-spin mr-2"}):d.jsx(jd,{className:"w-5 h-5 mr-2"}),V==="Enterprise"?"Contact Sales":"Confirm Changes"]})]})]}),e==="API"&&d.jsxs("div",{className:"animate-fadeIn space-y-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-slate-900 border-b border-slate-100 pb-4",children:"API Integration"}),d.jsx("p",{className:"text-slate-500 mt-4",children:"Connect your CRM, ERP, or any external system using REST APIs."})]}),d.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6",children:[d.jsxs("h3",{className:"text-base font-bold text-slate-900 mb-4 flex items-center",children:[d.jsx(Pg,{className:"w-5 h-5 mr-2 text-blue-600"}),"Generate API Key"]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("input",{type:"text",value:ie,onChange:pe=>Ie(pe.target.value),placeholder:"Key name (e.g., My CRM Integration)",className:"flex-1 border border-slate-300 rounded-lg px-4 py-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-500"}),d.jsx("button",{onClick:ge,disabled:pt,className:"bg-blue-600 text-white px-6 py-2.5 rounded-lg text-sm font-bold hover:bg-blue-700 disabled:opacity-50 flex items-center",children:pt?d.jsxs(d.Fragment,{children:[d.jsx(st,{className:"w-4 h-4 animate-spin mr-2"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Ta,{className:"w-4 h-4 mr-2"}),"Generate Key"]})})]}),je&&d.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(lc,{className:"w-5 h-5 text-green-600 mt-0.5 shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-bold text-green-900 mb-2",children:"API Key Generated Successfully"}),d.jsx("p",{className:"text-xs text-green-700 mb-3",children:"Copy this key now. It will not be shown again."}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("code",{className:"flex-1 bg-white border border-green-300 rounded px-3 py-2 text-xs font-mono text-slate-800 break-all",children:je}),d.jsx("button",{onClick:()=>vt(je),className:"bg-green-600 text-white px-3 py-2 rounded-lg text-xs font-medium hover:bg-green-700 flex items-center shrink-0",children:nn?d.jsxs(d.Fragment,{children:[d.jsx(Kd,{className:"w-3 h-3 mr-1"}),"Copied"]}):d.jsxs(d.Fragment,{children:[d.jsx(R3,{className:"w-3 h-3 mr-1"}),"Copy"]})})]})]})]})})]}),d.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6",children:[d.jsx("h3",{className:"text-base font-bold text-slate-900 mb-4",children:"Your API Keys"}),St?d.jsxs("div",{className:"flex items-center justify-center py-8",children:[d.jsx(st,{className:"w-6 h-6 animate-spin text-blue-600"}),d.jsx("span",{className:"ml-3 text-slate-500 text-sm",children:"Loading keys..."})]}):me.length===0?d.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-slate-200 rounded-lg",children:[d.jsx(Pg,{className:"w-10 h-10 text-slate-300 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-500 text-sm",children:"No API keys yet. Generate one to get started."})]}):d.jsx("div",{className:"space-y-3",children:me.map(pe=>d.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${pe.isActive?"border-slate-200 bg-white":"border-slate-100 bg-slate-50 opacity-60"}`,children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-sm font-bold text-slate-900",children:pe.name}),!pe.isActive&&d.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded",children:"Revoked"})]}),d.jsxs("code",{className:"text-xs text-slate-500 font-mono mt-1 block",children:[pe.prefix,"..."]}),d.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Created ",new Date(pe.createdAt).toLocaleDateString(),pe.lastUsedAt&&`  Last used ${new Date(pe.lastUsedAt).toLocaleDateString()}`]})]}),pe.isActive&&d.jsx("button",{onClick:()=>Ne(pe._id),className:"text-red-500 hover:text-red-700 p-2 hover:bg-red-50 rounded-lg",title:"Revoke Key",children:d.jsx(Ca,{className:"w-4 h-4"})})]},pe._id))})]}),d.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6",children:[d.jsxs("h3",{className:"text-base font-bold text-slate-900 mb-2 flex items-center",children:[d.jsx(j3,{className:"w-5 h-5 mr-2 text-indigo-600"}),"API Endpoints"]}),d.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Base URL: ",d.jsx("code",{className:"bg-slate-100 px-2 py-0.5 rounded text-xs font-mono text-slate-700",children:zn})]}),d.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:[d.jsx("p",{className:"text-xs text-slate-600 mb-2 font-medium",children:"Authentication Header:"}),d.jsx("code",{className:"text-xs font-mono text-slate-800 bg-white px-3 py-1.5 rounded border border-slate-200 block",children:"x-api-key: sk_live_your_api_key_here"})]}),d.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[d.jsx("thead",{className:"bg-slate-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-slate-500 uppercase",children:"Method"}),d.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-slate-500 uppercase",children:"Endpoint"}),d.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-medium text-slate-500 uppercase",children:"Description"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:To.map((pe,Pt)=>d.jsxs("tr",{className:"hover:bg-slate-50",children:[d.jsx("td",{className:"px-4 py-2.5",children:d.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded ${pe.method==="GET"?"bg-green-100 text-green-700":pe.method==="POST"?"bg-blue-100 text-blue-700":pe.method==="PUT"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:pe.method})}),d.jsx("td",{className:"px-4 py-2.5",children:d.jsx("code",{className:"text-xs font-mono text-slate-700",children:pe.path})}),d.jsx("td",{className:"px-4 py-2.5 text-xs text-slate-600",children:pe.desc})]},Pt))})]})}),d.jsxs("div",{className:"mt-4",children:[d.jsx("p",{className:"text-xs text-slate-600 mb-2 font-medium",children:"Example: Create a contact from your CRM"}),d.jsx("div",{className:"bg-slate-900 rounded-lg p-4 overflow-x-auto",children:d.jsx("pre",{className:"text-xs text-green-400 font-mono whitespace-pre",children:`curl -X POST ${zn}/api/v1/contacts \\
  -H "x-api-key: sk_live_your_key" \\
  -H "Content-Type: application/json" \\
  -d '{
    "firstName": "John",
    "lastName": "Doe",
    "email": "john@example.com",
    "phone": "+1234567890",
    "company": { "name": "Acme Inc" }
  }'`})})]})]})]}),e==="Legal"&&d.jsxs("div",{className:"max-w-2xl space-y-8",children:[d.jsx("h2",{className:"text-xl font-bold text-slate-900 border-b border-slate-100 pb-4",children:"Privacy & Terms"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-start space-x-4 p-4 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer transition-colors",children:[d.jsx("div",{className:"p-2 bg-slate-100 rounded text-slate-600",children:d.jsx(pr,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-900",children:"Terms of Service"}),d.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Read the terms and conditions for using Shreenika AI."})]})]}),d.jsxs("div",{className:"flex items-start space-x-4 p-4 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer transition-colors",children:[d.jsx("div",{className:"p-2 bg-slate-100 rounded text-slate-600",children:d.jsx(Wy,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-900",children:"Privacy Policy"}),d.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"How we handle your data and call recordings."})]})]})]}),d.jsx("div",{className:"text-xs text-slate-400",children:"Last updated: November 10, 2025"})]}),e==="FAQ"&&d.jsxs("div",{className:"max-w-3xl space-y-6",children:[d.jsx("h2",{className:"text-xl font-bold text-slate-900 border-b border-slate-100 pb-4",children:"Frequently Asked Questions"}),d.jsx("div",{className:"space-y-4",children:_oe.map((pe,Pt)=>d.jsxs("div",{className:"bg-slate-50 rounded-lg p-5 border border-slate-100",children:[d.jsx("h3",{className:"font-bold text-slate-900 text-sm mb-2",children:pe.q}),d.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:pe.a})]},Pt))})]})]})]}),A&&w&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 animate-fadeIn",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-8 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(jd,{className:"w-8 h-8 text-yellow-600"})}),d.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Confirm Assignment"}),d.jsxs("p",{className:"text-slate-500 mb-8 px-4",children:["Assigning ",d.jsx("strong",{children:w==null?void 0:w.number})," to ",d.jsx("strong",{children:C})," is a permanent action and cannot be changed later. Are you sure you want to proceed?"]}),d.jsxs("div",{className:"flex justify-center space-x-4",children:[d.jsx("button",{onClick:()=>E(!1),className:"flex-1 px-6 py-3 border border-slate-300 rounded-lg text-slate-700 font-medium hover:bg-slate-50",children:"Cancel"}),d.jsx("button",{onClick:Vc,className:"flex-1 px-6 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700",children:"Confirm"})]})]})})]})};function Roe(){const e=window.location.pathname.split("/").pop(),[t,n]=_.useState(""),[r,i]=_.useState(""),[o,l]=_.useState(!1),[c,h]=_.useState(""),[f,m]=_.useState(!1),g=async()=>{if(!t||!r){h("Both fields are required");return}if(t!==r){h("Passwords do not match");return}try{l(!0),h(""),await Ce("/auth/reset-password",{method:"POST",body:JSON.stringify({token:e,password:t})}),m(!0)}catch{h("Invalid or expired reset link")}finally{l(!1)}};return f?d.jsx("div",{style:jn.page,children:d.jsxs("div",{style:jn.card,children:[d.jsx("h2",{children:"Password Updated"}),d.jsx("p",{children:"Your password has been reset successfully."}),d.jsx("button",{style:jn.primaryBtn,onClick:()=>window.location.href="/login",children:"Go to Login"})]})}):d.jsx("div",{style:jn.page,children:d.jsxs("div",{style:jn.card,children:[d.jsx("h2",{style:jn.heading,children:"Reset Password"}),d.jsxs("div",{style:jn.field,children:[d.jsx("label",{style:jn.label,children:"New Password"}),d.jsx("input",{type:"password",value:t,onChange:y=>n(y.target.value),style:jn.input})]}),d.jsxs("div",{style:jn.field,children:[d.jsx("label",{style:jn.label,children:"Confirm Password"}),d.jsx("input",{type:"password",value:r,onChange:y=>i(y.target.value),style:jn.input})]}),c&&d.jsx("div",{style:jn.error,children:c}),d.jsx("button",{style:jn.primaryBtn,onClick:g,disabled:o,children:o?"Updating...":"Update Password"})]})})}const jn={page:{minHeight:"100vh",background:"linear-gradient(135deg,#eef2ff,#f8fafc)",display:"flex",alignItems:"center",justifyContent:"center"},card:{width:420,background:"#ffffff",borderRadius:18,padding:"36px 32px",boxShadow:"0 30px 60px rgba(0,0,0,0.12)",textAlign:"center"},heading:{fontSize:20,fontWeight:600,marginBottom:24},field:{textAlign:"left",marginBottom:18},label:{fontSize:13,marginBottom:6,display:"block",color:"#334155"},input:{width:"100%",padding:"12px 14px",borderRadius:10,border:"1px solid #cbd5f5",fontSize:14},primaryBtn:{width:"100%",padding:"14px",borderRadius:12,border:"none",background:"#1d4ed8",color:"#fff",fontSize:16,fontWeight:600,cursor:"pointer",marginTop:6},error:{background:"#fee2e2",color:"#b91c1c",padding:10,borderRadius:10,fontSize:13,marginBottom:14}},ri=Object.create(null);ri.open="0";ri.close="1";ri.ping="2";ri.pong="3";ri.message="4";ri.upgrade="5";ri.noop="6";const Fd=Object.create(null);Object.keys(ri).forEach(e=>{Fd[ri[e]]=e});const Hy={type:"error",data:"parser error"},gD=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",vD=typeof ArrayBuffer=="function",yD=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Gb=({type:e,data:t},n,r)=>gD&&t instanceof Blob?n?r(t):qP(t,r):vD&&(t instanceof ArrayBuffer||yD(t))?n?r(t):qP(new Blob([t]),r):r(ri[e]+(t||"")),qP=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function FP(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let y0;function Doe(e,t){if(gD&&e.data instanceof Blob)return e.data.arrayBuffer().then(FP).then(t);if(vD&&(e.data instanceof ArrayBuffer||yD(e.data)))return t(FP(e.data));Gb(e,!1,n=>{y0||(y0=new TextEncoder),t(y0.encode(n))})}const HP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<HP.length;e++)oc[HP.charCodeAt(e)]=e;const Loe=e=>{let t=e.length*.75,n=e.length,r,i=0,o,l,c,h;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const f=new ArrayBuffer(t),m=new Uint8Array(f);for(r=0;r<n;r+=4)o=oc[e.charCodeAt(r)],l=oc[e.charCodeAt(r+1)],c=oc[e.charCodeAt(r+2)],h=oc[e.charCodeAt(r+3)],m[i++]=o<<2|l>>4,m[i++]=(l&15)<<4|c>>2,m[i++]=(c&3)<<6|h&63;return f},Uoe=typeof ArrayBuffer=="function",Vb=(e,t)=>{if(typeof e!="string")return{type:"message",data:xD(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Boe(e.substring(1),t)}:Fd[n]?e.length>1?{type:Fd[n],data:e.substring(1)}:{type:Fd[n]}:Hy},Boe=(e,t)=>{if(Uoe){const n=Loe(e);return xD(n,t)}else return{base64:!0,data:e}},xD=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},bD="",zoe=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((o,l)=>{Gb(o,!1,c=>{r[l]=c,++i===n&&t(r.join(bD))})})},qoe=(e,t)=>{const n=e.split(bD),r=[];for(let i=0;i<n.length;i++){const o=Vb(n[i],t);if(r.push(o),o.type==="error")break}return r};function Foe(){return new TransformStream({transform(e,t){Doe(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let x0;function Md(e){return e.reduce((t,n)=>t+n.length,0)}function Od(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Hoe(e,t){x0||(x0=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(l,c){for(n.push(l);;){if(r===0){if(Md(n)<1)break;const h=Od(n,1);o=(h[0]&128)===128,i=h[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Md(n)<2)break;const h=Od(n,2);i=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),r=3}else if(r===2){if(Md(n)<8)break;const h=Od(n,8),f=new DataView(h.buffer,h.byteOffset,h.length),m=f.getUint32(0);if(m>Math.pow(2,21)-1){c.enqueue(Hy);break}i=m*Math.pow(2,32)+f.getUint32(4),r=3}else{if(Md(n)<i)break;const h=Od(n,i);c.enqueue(Vb(o?h:x0.decode(h),t)),r=0}if(i===0||i>e){c.enqueue(Hy);break}}}})}const SD=4;function Lt(e){if(e)return Goe(e)}function Goe(e){for(var t in Lt.prototype)e[t]=Lt.prototype[t];return e}Lt.prototype.on=Lt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Lt.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Lt.prototype.off=Lt.prototype.removeListener=Lt.prototype.removeAllListeners=Lt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Lt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};Lt.prototype.emitReserved=Lt.prototype.emit;Lt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Lt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const om=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),mr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Voe="arraybuffer";function wD(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const $oe=mr.setTimeout,Koe=mr.clearTimeout;function sm(e,t){t.useNativeTimers?(e.setTimeoutFn=$oe.bind(mr),e.clearTimeoutFn=Koe.bind(mr)):(e.setTimeoutFn=mr.setTimeout.bind(mr),e.clearTimeoutFn=mr.clearTimeout.bind(mr))}const Yoe=1.33;function Joe(e){return typeof e=="string"?Woe(e):Math.ceil((e.byteLength||e.size)*Yoe)}function Woe(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function AD(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Xoe(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Qoe(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class Zoe extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class $b extends Lt{constructor(t){super(),this.writable=!1,sm(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new Zoe(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Vb(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Xoe(t);return n.length?"?"+n:""}}class ese extends $b{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};qoe(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,zoe(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=AD()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let ED=!1;try{ED=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const tse=ED;function nse(){}class rse extends ese{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Qr extends Lt{constructor(t,n,r){super(),this.createRequest=t,sm(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=wD(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Qr.requestsCount++,Qr.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=nse,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Qr.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Qr.requestsCount=0;Qr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",GP);else if(typeof addEventListener=="function"){const e="onpagehide"in mr?"pagehide":"unload";addEventListener(e,GP,!1)}}function GP(){for(let e in Qr.requests)Qr.requests.hasOwnProperty(e)&&Qr.requests[e].abort()}const ise=(function(){const e=_D({xdomain:!1});return e&&e.responseType!==null})();class ase extends rse{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=ise&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Qr(_D,this.uri(),t)}}function _D(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||tse))return new XMLHttpRequest}catch{}if(!t)try{return new mr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ND=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ose extends $b{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=ND?{}:wD(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;Gb(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&om(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=AD()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const b0=mr.WebSocket||mr.MozWebSocket;class sse extends ose{createSocket(t,n,r){return ND?new b0(t,n,r):n?new b0(t,n):new b0(t)}doWrite(t,n){this.ws.send(n)}}class lse extends $b{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Hoe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=Foe();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const o=()=>{r.read().then(({done:c,value:h})=>{c||(this.onPacket(h),o())}).catch(c=>{})};o();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;this._writer.write(r).then(()=>{i&&om(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const cse={websocket:sse,webtransport:lse,polling:ase},use=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,dse=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Gy(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=use.exec(e||""),o={},l=14;for(;l--;)o[dse[l]]=i[l]||"";return n!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=fse(o,o.path),o.queryKey=hse(o,o.query),o}function fse(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function hse(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}const Vy=typeof addEventListener=="function"&&typeof removeEventListener=="function",Hd=[];Vy&&addEventListener("offline",()=>{Hd.forEach(e=>e())},!1);class Na extends Lt{constructor(t,n){if(super(),this.binaryType=Voe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=Gy(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Gy(n.host).host);sm(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Qoe(this.opts.query)),Vy&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Hd.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=SD,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Na.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Na.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=Joe(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,om(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:t,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Na.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Vy&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Hd.indexOf(this._offlineEventListener);r!==-1&&Hd.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Na.protocol=SD;class mse extends Na{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Na.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!r)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Na.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(m(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=n.name,this.emitReserved("upgradeError",y)}}))};function o(){r||(r=!0,m(),n.close(),n=null)}const l=g=>{const y=new Error("probe error: "+g);y.transport=n.name,o(),this.emitReserved("upgradeError",y)};function c(){l("transport closed")}function h(){l("socket closed")}function f(g){n&&g.name!==n.name&&o()}const m=()=>{n.removeListener("open",i),n.removeListener("error",l),n.removeListener("close",c),this.off("close",h),this.off("upgrading",f)};n.once("open",i),n.once("error",l),n.once("close",c),this.once("close",h),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let pse=class extends mse{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>cse[i]).filter(i=>!!i)),super(t,r)}};function gse(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Gy(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const vse=typeof ArrayBuffer=="function",yse=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,TD=Object.prototype.toString,xse=typeof Blob=="function"||typeof Blob<"u"&&TD.call(Blob)==="[object BlobConstructor]",bse=typeof File=="function"||typeof File<"u"&&TD.call(File)==="[object FileConstructor]";function Kb(e){return vse&&(e instanceof ArrayBuffer||yse(e))||xse&&e instanceof Blob||bse&&e instanceof File}function Gd(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Gd(e[n]))return!0;return!1}if(Kb(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Gd(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Gd(e[n]))return!0;return!1}function Sse(e){const t=[],n=e.data,r=e;return r.data=$y(n,t),r.attachments=t.length,{packet:r,buffers:t}}function $y(e,t){if(!e)return e;if(Kb(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=$y(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=$y(e[r],t));return n}return e}function wse(e,t){return e.data=Ky(e.data,t),delete e.attachments,e}function Ky(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Ky(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Ky(e[n],t));return e}const Ase=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Ve;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ve||(Ve={}));class Ese{constructor(t){this.replacer=t}encode(t){return(t.type===Ve.EVENT||t.type===Ve.ACK)&&Gd(t)?this.encodeAsBinary({type:t.type===Ve.EVENT?Ve.BINARY_EVENT:Ve.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ve.BINARY_EVENT||t.type===Ve.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Sse(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}class Yb extends Lt{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Ve.BINARY_EVENT;r||n.type===Ve.BINARY_ACK?(n.type=r?Ve.EVENT:Ve.ACK,this.reconstructor=new _se(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Kb(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Ve[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ve.BINARY_EVENT||r.type===Ve.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const l=t.substring(o,n);if(l!=Number(l)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(l)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(o,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const l=t.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(Yb.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Ve.CONNECT:return VP(n);case Ve.DISCONNECT:return n===void 0;case Ve.CONNECT_ERROR:return typeof n=="string"||VP(n);case Ve.EVENT:case Ve.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Ase.indexOf(n[0])===-1);case Ve.ACK:case Ve.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class _se{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=wse(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function VP(e){return Object.prototype.toString.call(e)==="[object Object]"}const Nse=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Yb,Encoder:Ese,get PacketType(){return Ve}},Symbol.toStringTag,{value:"Module"}));function Tr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Tse=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class CD extends Lt{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Tr(t,"open",this.onopen.bind(this)),Tr(t,"packet",this.onpacket.bind(this)),Tr(t,"error",this.onerror.bind(this)),Tr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,i,o;if(Tse.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const l={type:Ve.EVENT,data:n};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const m=this.ids++,g=n.pop();this._registerAckCallback(m,g),l.id=m}const c=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,h=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!c||(h?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},i),l=(...c)=>{this.io.clearTimeoutFn(o),n.apply(this,c)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...n){return new Promise((r,i)=>{const o=(l,c)=>l?i(l):r(c);o.withError=!0,n.push(o),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...o)=>(this._queue[0],i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ve.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ve.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ve.EVENT:case Ve.BINARY_EVENT:this.onevent(t);break;case Ve.ACK:case Ve.BINARY_ACK:this.onack(t);break;case Ve.DISCONNECT:this.ondisconnect();break;case Ve.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Ve.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ve.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Js(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Js.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};Js.prototype.reset=function(){this.attempts=0};Js.prototype.setMin=function(e){this.ms=e};Js.prototype.setMax=function(e){this.max=e};Js.prototype.setJitter=function(e){this.jitter=e};class Yy extends Lt{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,sm(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Js({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||Nse;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new pse(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Tr(n,"open",function(){r.onopen(),t&&t()}),o=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},l=Tr(n,"error",o);if(this._timeout!==!1){const c=this._timeout,h=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},c);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(i),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Tr(t,"ping",this.onping.bind(this)),Tr(t,"data",this.ondata.bind(this)),Tr(t,"error",this.onerror.bind(this)),Tr(t,"close",this.onclose.bind(this)),Tr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){om(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new CD(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const tc={};function Vd(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=gse(e,t.path||"/socket.io"),r=n.source,i=n.id,o=n.path,l=tc[i]&&o in tc[i].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let h;return c?h=new Yy(r,t):(tc[i]||(tc[i]=new Yy(r,t)),h=tc[i]),n.query&&!t.query&&(t.query=n.queryKey),h.socket(n.path,t)}Object.assign(Vd,{Manager:Yy,Socket:CD,io:Vd,connect:Vd});const Cse=({leads:e,logs:t,setLogs:n,agent:r})=>{const[i,o]=_.useState(t.length>0?t[0].id:null),[l,c]=_.useState("Overview"),[h,f]=_.useState(""),[m,g]=_.useState("All"),[y,w]=_.useState("All"),[N,A]=_.useState("latest"),[E,C]=_.useState(!1),[P,O]=_.useState(new Set),[M,k]=_.useState(!1),[I,R]=_.useState(null),[D,z]=_.useState({current:0,total:0}),[X,Q]=_.useState(null),[H,fe]=_.useState(!1),[ae,$]=_.useState(!1),[q,V]=_.useState(null),[ne,re]=_.useState(null),[he,L]=_.useState([]),[U,se]=_.useState(""),te=t.find(ue=>ue.id===i)||null,Ae=t.filter(ue=>{var ge,Ne;const ve=!h||((ge=ue.leadName)==null?void 0:ge.toLowerCase().includes(h.toLowerCase()))||((Ne=ue.phoneNumber)==null?void 0:Ne.includes(h)),Oe=m==="All"||ue.status===m,Z=y==="All"||ue.sentiment===y;return ve&&Oe&&Z}).sort((ue,ve)=>N==="latest"?new Date(ve.startedAt).getTime()-new Date(ue.startedAt).getTime():new Date(ue.startedAt).getTime()-new Date(ve.startedAt).getTime());_.useEffect(()=>{const ue="https://shreenika-ai-backend-507468019722.us-central1.run.app";console.log(` Connecting to Socket.IO at ${ue}`);const ve=Vd(ue,{reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5,transports:["websocket","polling"]});return ve.on("connect",()=>{console.log(" Socket.IO connected:",ve.id)}),ve.on("disconnect",()=>{console.log(" Socket.IO disconnected")}),ve.on("connect_error",Oe=>{console.error(" Socket.IO connection error:",Oe)}),ve.on("INCOMING_CALL",Oe=>{console.log(" Incoming call:",Oe),me({phoneNumber:Oe.phoneNumber,callId:Oe.callId})}),ve.on("CALL_STATUS_UPDATE",Oe=>{console.log(" Call status update:",Oe)}),ve.on("CAMPAIGN_PROGRESS",Oe=>{console.log(" Campaign progress:",Oe),I&&Oe.campaignId===I&&(z(Oe.progress),Oe.progress.current>=Oe.progress.total&&Oe.progress.total>0&&(console.log(" Campaign completed! Auto-hiding band..."),k(!1),R(null)))}),()=>{console.log(" Disconnecting Socket.IO"),ve.disconnect()}},[]),e.filter(ue=>P.has(ue.id)),e.filter(ue=>P.has(ue.id));const[_e,me]=_.useState(null);_.useEffect(()=>{(async()=>{try{const ve=await Ds(),Oe=Array.isArray(ve)?ve:ve.agents||[];L(Oe),Oe.length>0&&!U&&se(Oe[0]._id)}catch(ve){console.error("Failed to load agents:",ve)}})()},[]),_.useEffect(()=>{Be()},[m,y,N]);const Be=async(ue=1)=>{try{$(!0);const ve=new URLSearchParams;h&&ve.append("search",h),m!=="All"&&ve.append("status",m),y!=="All"&&ve.append("sentiment",y),ve.append("sort",N),ve.append("page",ue.toString()),ve.append("limit","50");const Oe=`/calls?${ve.toString()}`,Z=await Ce(Oe),ge=Array.isArray(Z)?Z:Z.calls||[];n(ge)}catch(ve){console.error("Failed to load call history:",ve),n([])}finally{$(!1)}},ie=ue=>{const ve=Math.floor(ue/60),Oe=ue%60;return`${ve.toString().padStart(2,"0")}:${Oe.toString().padStart(2,"0")}`},Ie=ue=>new Date(ue).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}),je=async()=>{if(te)try{V(te.id),await Ce(`/calls/${te.id}/redial`,{method:"POST",body:JSON.stringify({agentId:r.id,leadId:te.leadId})}),alert(`Redialing ${te.phoneNumber}...`),setTimeout(Be,2e3)}catch(ue){console.error("Redial failed:",ue),alert(ue.message||"Failed to redial")}finally{V(null)}},de=()=>{if(!(te!=null&&te.recordingUrl)){alert("No recording available for this call.");return}window.open(te.recordingUrl,"_blank")},St=async(ue,ve)=>{if(ue.stopPropagation(),!!window.confirm("Delete this call log? (Data will be hidden but preserved)"))try{await Ce(`/calls/${ve}`,{method:"DELETE"});const Oe=t.filter(Z=>Z.id!==ve);n(Oe),i===ve&&o(Oe.length>0?Oe[0].id:null),Q(null)}catch(Oe){alert(Oe.message||"Failed to archive call")}},Le=ue=>{console.log(" toggleLeadSelection called with id:",ue),console.log("Current selectedLeadIds:",Array.from(P)),console.log("Total leads:",e.length);const ve=new Set(P);ve.has(ue)?(console.log("Removing lead:",ue),ve.delete(ue)):(console.log("Adding lead:",ue),ve.add(ue)),console.log("New selection:",Array.from(ve)),O(ve)},pt=()=>{if(console.log(" toggleSelectAll called"),console.log("Current size:",P.size,"Total leads:",e.length),P.size===e.length)console.log("Deselecting all"),O(new Set);else{console.log("Selecting all");const ue=e.map(ve=>ve.id);console.log("All lead IDs:",ue),O(new Set(ue))}},gt=async()=>{const ue=e.filter(ve=>P.has(ve.id));if(ue.length===0){alert("Please select at least one lead");return}if(!U){alert("Please select an agent first");return}try{k(!0),z({current:0,total:ue.length});const ve=await W4({agentId:U,leadIds:Array.from(P),campaignName:`Campaign ${new Date().toLocaleDateString()}`}),Oe=(ve==null?void 0:ve.campaignId)||(ve==null?void 0:ve._id);Oe&&(R(Oe),console.log(` Campaign started with ID: ${Oe}`)),C(!1),O(new Set),alert(`Campaign started! Calling ${ue.length} leads...`),await Bn()}catch(ve){console.error("Campaign start failed:",ve),alert(ve.message||"Failed to start campaign"),k(!1),R(null)}},nn=async()=>{if(!I){alert("No active campaign to stop");return}try{console.log(` Stopping campaign: ${I}`),await X4(I),k(!1),R(null),z({current:0,total:0}),alert("Campaign stopped successfully"),await Be()}catch(ue){console.error("Failed to stop campaign:",ue),alert(ue.message||"Failed to stop campaign")}},Bn=async()=>{try{const ue=await J4();console.log("Campaigns loaded:",ue)}catch(ue){console.error("Failed to load campaigns:",ue)}};return d.jsxs("div",{className:"flex h-[calc(100vh-6rem)] bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden relative",children:[_e&&d.jsxs("div",{className:"fixed top-6 right-6 z-50 bg-slate-900 text-white px-6 py-4 rounded-xl shadow-xl flex items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm opacity-80",children:"Incoming Call"}),d.jsx("p",{className:"font-bold",children:_e.phoneNumber})]}),d.jsx("button",{onClick:()=>{me(null)},className:"bg-green-600 px-4 py-2 rounded-lg text-sm font-bold",children:"Accept"}),d.jsx("button",{onClick:()=>me(null),className:"bg-red-600 px-4 py-2 rounded-lg text-sm font-bold",children:"Reject"})]}),M&&d.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-indigo-600 text-white z-20 px-6 py-3 shadow-md flex items-center justify-between animate-fadeIn",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-ping absolute top-0 right-0"}),d.jsx(kn,{className:"w-6 h-6"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-sm",children:"Auto-Dialer Active"}),d.jsx("p",{className:"text-xs text-indigo-200",children:"Campaign in progress..."})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-xs font-medium opacity-80",children:"Progress"}),d.jsxs("div",{className:"font-bold text-sm",children:[D.current," / ",D.total]})]}),d.jsx("button",{onClick:nn,className:"bg-white/20 hover:bg-white/30 p-2 rounded-full transition-colors",title:"Stop Campaign",children:d.jsx(Cg,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"w-80 border-r border-slate-200 flex flex-col bg-white",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50 space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("h2",{className:"font-bold text-slate-800",children:"Conversations"}),d.jsx("span",{className:"bg-slate-200 text-slate-600 text-xs px-2 py-0.5 rounded-full",children:t.length})]}),d.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Total calls: ",t.length]}),d.jsx("button",{onClick:Be,disabled:ae,className:"text-xs text-blue-600 hover:underline disabled:opacity-50",title:"Refresh Call History",children:ae?"Loading...":"Refresh"})]}),d.jsx("button",{onClick:()=>C(!0),disabled:M||e.length===0,className:"w-full bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-300 text-white py-2 px-4 rounded-lg flex items-center justify-center space-x-2 transition-colors shadow-sm text-sm font-medium",children:M?d.jsxs(d.Fragment,{children:[d.jsx(st,{className:"w-4 h-4 animate-spin"}),d.jsx("span",{children:"Dialing..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ta,{className:"w-4 h-4"}),d.jsx("span",{children:"New Campaign"})]})})]}),d.jsxs("div",{className:"p-3 border-b border-slate-100 space-y-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(oh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),d.jsx("input",{type:"text",placeholder:"Search by name or phone...",value:h,onChange:ue=>f(ue.target.value),className:"w-full pl-9 pr-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Status"}),d.jsxs("select",{value:m,onChange:ue=>g(ue.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500",children:[d.jsx("option",{value:"All",children:"All"}),d.jsx("option",{value:"COMPLETED",children:"Completed"}),d.jsx("option",{value:"FAILED",children:"Failed"}),d.jsx("option",{value:"NO_ANSWER",children:"No Answer"}),d.jsx("option",{value:"INITIATED",children:"Initiated"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Sentiment"}),d.jsxs("select",{value:y,onChange:ue=>w(ue.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500",children:[d.jsx("option",{value:"All",children:"All"}),d.jsx("option",{value:"Positive",children:"Positive"}),d.jsx("option",{value:"Negative",children:"Negative"}),d.jsx("option",{value:"Neutral",children:"Neutral"})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Sort"}),d.jsxs("select",{value:N,onChange:ue=>A(ue.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500",children:[d.jsx("option",{value:"latest",children:"Latest First"}),d.jsx("option",{value:"oldest",children:"Oldest First"})]})]})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:ae?d.jsxs("div",{className:"p-8 text-center text-slate-400 text-sm",children:[d.jsx(st,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Loading call history..."]}):Ae.length===0?d.jsxs("div",{className:"p-8 text-center text-slate-400 text-sm",children:["No conversations found.",t.length===0&&d.jsx("p",{className:"mt-2",children:"Start a campaign to see call history."})]}):Ae.map(ue=>d.jsxs("div",{onClick:()=>o(ue.id),className:`p-4 border-b border-slate-50 hover:bg-slate-50 cursor-pointer transition-colors relative group ${i===ue.id?"bg-indigo-50/60 border-l-4 border-l-indigo-500":"border-l-4 border-l-transparent"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500",children:d.jsx(E0,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-semibold ${i===ue.id?"text-indigo-900":"text-slate-900"}`,children:ue.phoneNumber}),d.jsxs("div",{className:"flex items-center text-xs text-slate-500 space-x-1",children:[ue.status===Ai.COMPLETED?d.jsx(kn,{className:"w-3 h-3 text-green-500 fill-green-500"}):d.jsx(h4,{className:"w-3 h-3 text-red-500"}),d.jsx("span",{children:ie(ue.durationSeconds||0)}),ue.summary&&d.jsx("div",{className:"text-xs text-slate-500 mt-1 line-clamp-2",children:ue.summary})]})]})]}),d.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:new Date(ue.startedAt).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),d.jsx("div",{className:"absolute right-2 top-8 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx("button",{onClick:ve=>{ve.stopPropagation(),Q(X===ue.id?null:ue.id)},className:"p-1 hover:bg-slate-200 rounded",children:d.jsx(tI,{className:"w-4 h-4 text-slate-400"})})}),X===ue.id&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>Q(null)}),d.jsx("div",{className:"absolute right-8 top-8 bg-white shadow-lg rounded-lg border border-slate-100 z-20 w-32 py-1",children:d.jsxs("button",{onClick:ve=>St(ve,ue.id),className:"w-full text-left px-4 py-2 text-xs text-red-600 hover:bg-red-50 flex items-center",children:[d.jsx(Ca,{className:"w-3 h-3 mr-2"})," Delete"]})})]})]},ue.id))})]}),d.jsx("div",{className:"flex-1 flex flex-col bg-slate-50/30",children:te?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-slate-500",children:d.jsx(E0,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-base font-bold text-slate-900",children:te.phoneNumber}),d.jsx("p",{className:"text-xs text-slate-500",children:te.leadName})]})]}),d.jsx("div",{className:"flex space-x-3",children:d.jsx("button",{onClick:je,disabled:q===te.id,className:"text-slate-400 hover:text-green-600 disabled:opacity-50",title:"Call Again",children:q===te.id?d.jsx(st,{className:"w-5 h-5 animate-spin"}):d.jsx(aI,{className:"w-5 h-5"})})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`p-2 rounded-full ${te.status===Ai.COMPLETED?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:te.status===Ai.COMPLETED?d.jsx(lc,{className:"w-5 h-5"}):d.jsx(Cg,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-bold text-slate-900",children:te.status===Ai.COMPLETED?"Call completed":"No answer"}),d.jsxs("div",{className:"flex items-center text-xs text-slate-500 space-x-2",children:[d.jsx("img",{src:r.avatar,className:"w-4 h-4 rounded-full",alt:r.name}),d.jsx("span",{children:r.name})]})]})]}),d.jsx("div",{className:"text-xs font-medium text-slate-400",children:Ie(te.endedAt)})]}),te.status===Ai.COMPLETED&&te.recordingUrl&&d.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 flex items-center space-x-4 border border-slate-100",children:[d.jsx("button",{onClick:()=>fe(!H),className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white hover:bg-indigo-700 transition-colors shadow-sm",children:H?d.jsx(u4,{className:"w-4 h-4"}):d.jsx(g4,{className:"w-4 h-4 pl-0.5"})}),d.jsx("div",{className:"flex-1 h-8 flex items-center space-x-1",children:Array.from({length:40}).map((ue,ve)=>d.jsx("div",{className:`w-1 rounded-full transition-all duration-300 ${ve<15?"bg-indigo-400":"bg-slate-300"}`,style:{height:`${Math.max(20,Math.random()*100)}%`}},ve))}),d.jsxs("span",{className:"text-xs font-mono text-slate-500 font-medium",children:["00:14 / ",ie(te.durationSeconds||0)]}),d.jsx("button",{onClick:de,className:"p-2 text-slate-400 hover:text-slate-600",title:"Download Recording",children:d.jsx(eI,{className:"w-4 h-4"})})]}),te.status===Ai.COMPLETED&&!te.recordingUrl&&d.jsx("div",{className:"text-sm text-slate-500 text-center py-4",children:"Recording not available"})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[d.jsx("div",{className:"border-b border-slate-200",children:d.jsx("nav",{className:"flex -mb-px",children:["Overview","Summary","Transcript"].map(ue=>d.jsx("button",{onClick:()=>c(ue),className:`py-4 px-6 text-sm font-medium border-b-2 transition-colors ${l===ue?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:ue},ue))})}),d.jsxs("div",{className:"p-6",children:[l==="Overview"&&d.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-4",children:"Call Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-8",children:[d.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-slate-50",children:[d.jsx("span",{className:"text-sm text-slate-500",children:"Call to"}),d.jsx("span",{className:"text-sm font-medium text-slate-900",children:te.phoneNumber})]}),d.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-slate-50",children:[d.jsx("span",{className:"text-sm text-slate-500",children:"AI Agent"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("img",{src:r.avatar,className:"w-5 h-5 rounded-full",alt:r.name}),d.jsx("span",{className:"text-sm font-medium text-slate-900",children:r.name})]})]}),d.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-slate-50",children:[d.jsx("span",{className:"text-sm text-slate-500",children:"Duration"}),d.jsx("span",{className:"text-sm font-medium text-slate-900",children:ie(te.durationSeconds||0)})]}),d.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-slate-50",children:[d.jsx("span",{className:"text-sm text-slate-500",children:"Usage"}),d.jsx("span",{className:"text-sm font-medium text-slate-900",children:te.usageCost||"00:00:00"})]}),d.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-slate-50",children:[d.jsx("span",{className:"text-sm text-slate-500",children:"Started at"}),d.jsx("span",{className:"text-sm font-medium text-slate-900",children:Ie(te.startedAt)})]}),d.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-slate-50",children:[d.jsx("span",{className:"text-sm text-slate-500",children:"Ended at"}),d.jsx("span",{className:"text-sm font-medium text-slate-900",children:Ie(te.endedAt)})]})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-4",children:"Call Analysis"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-8",children:[d.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-slate-50",children:[d.jsxs("span",{className:"text-sm text-slate-500 flex items-center",children:["Rating ",d.jsx(S0,{className:"w-3 h-3 ml-1 text-slate-300"})]}),d.jsx("div",{className:"flex space-x-0.5",children:[1,2,3,4,5].map(ue=>d.jsx(M4,{className:`w-4 h-4 ${ue<=(te.rating||0)?"text-slate-800 fill-slate-800":"text-slate-300"}`},ue))})]}),d.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-slate-50",children:[d.jsx("span",{className:"text-sm text-slate-500",children:"Call sentiment"}),d.jsx("span",{className:`text-sm font-medium ${te.sentiment==="Positive"?"text-green-600":"text-slate-900"}`,children:te.sentiment||"Unknown"})]}),d.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-slate-50",children:[d.jsx("span",{className:"text-sm text-slate-500",children:"Call status"}),d.jsxs("div",{className:"flex items-center text-sm font-medium text-green-600",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 mr-2"}),te.dialStatus||"Call completed"]})]}),d.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-slate-50",children:[d.jsx("span",{className:"text-sm text-slate-500",children:"End call reason"}),d.jsxs("div",{className:"flex items-center text-sm font-medium text-green-600",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 mr-2"}),te.endReason||"The contact ended the call."]})]})]})]})]}),l==="Summary"&&d.jsx("div",{className:"animate-fadeIn",children:d.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-100",children:[d.jsxs("h4",{className:"text-sm font-bold text-indigo-900 mb-2 flex items-center",children:[d.jsx(pr,{className:"w-4 h-4 mr-2"})," AI Summary"]}),d.jsx("p",{className:"text-sm text-indigo-800 leading-relaxed",children:te.summary||"No summary available for this call."})]})}),l==="Transcript"&&d.jsx("div",{className:"animate-fadeIn space-y-4",children:te.transcript?te.transcript.split(`
`).map((ue,ve)=>{const Oe=ue.toLowerCase().startsWith("agent:"),Z=ue.replace(/^(Agent:|Lead:)/i,"").trim();return Z?d.jsx("div",{className:`flex ${Oe?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg text-sm ${Oe?"bg-indigo-600 text-white rounded-br-none":"bg-slate-100 text-slate-800 rounded-bl-none"}`,children:[d.jsx("div",{className:"text-xs opacity-70 mb-1",children:Oe?r.name:te.leadName}),Z]})},ve):null}):d.jsx("div",{className:"text-center text-slate-400 py-8",children:"No transcript available."})})]})]})]})})]}):d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400",children:[d.jsx(kn,{className:"w-12 h-12 mb-4 opacity-20"}),d.jsx("p",{children:"Select a conversation to view details"})]})}),E&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl flex flex-col max-h-[85vh]",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 flex justify-between items-center bg-slate-50 rounded-t-xl",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg text-slate-900",children:"New Campaign"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Select leads to start auto-dialing."})]}),d.jsx("button",{onClick:()=>C(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(Cg,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:d.jsxs("table",{className:"min-w-full divide-y divide-slate-100",children:[d.jsx("thead",{className:"bg-white sticky top-0 z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left",children:d.jsxs("button",{onClick:pt,className:"flex items-center text-xs font-semibold text-slate-500 uppercase tracking-wider hover:text-indigo-600",children:[P.size===e.length?d.jsx(T4,{className:"w-4 h-4 mr-2 text-indigo-600"}):d.jsx(P4,{className:"w-4 h-4 mr-2"}),"Select All"]})}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Company"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Phone"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-slate-100",children:e.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-slate-500",children:"No leads found in Contacts. Please add contacts first."})}):e.map(ue=>{var ve;return d.jsxs("tr",{className:`hover:bg-slate-50 ${P.has(ue.id)?"bg-indigo-50/50":""}`,children:[d.jsx("td",{className:"px-6 py-3",children:d.jsx("input",{type:"checkbox",checked:P.has(ue.id),onChange:()=>Le(ue.id),className:"w-4 h-4 cursor-pointer","aria-label":`Select ${ue.firstName} ${ue.lastName}`})}),d.jsxs("td",{className:"px-6 py-3 text-sm font-medium text-slate-900",children:[ue.firstName," ",ue.lastName]}),d.jsx("td",{className:"px-6 py-3 text-sm text-slate-500",children:((ve=ue.company)==null?void 0:ve.name)||"-"}),d.jsx("td",{className:"px-6 py-3 text-sm text-slate-500 font-mono",children:ue.phone})]},ue.id)})})]})}),d.jsxs("div",{className:"px-6 py-3 border-t border-slate-200 bg-white",children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Select Agent for Campaign"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:U,onChange:ue=>se(ue.target.value),className:"w-full border border-slate-300 rounded-lg p-2.5 bg-white text-sm outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:[d.jsx("option",{value:"",disabled:!0,children:"-- Select Agent --"}),he.map(ue=>d.jsxs("option",{value:ue._id,children:[ue.name," - ",ue.title]},ue._id))]}),d.jsx(Yr,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),d.jsxs("div",{className:"p-6 border-t border-slate-200 bg-slate-50 rounded-b-xl flex justify-between items-center",children:[d.jsxs("span",{className:"text-sm font-medium text-slate-600",children:[P.size," leads selected"]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 border border-slate-300 rounded-lg text-slate-700 text-sm hover:bg-white",children:"Cancel"}),d.jsx("button",{onClick:gt,disabled:P.size===0||M||!U,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm flex items-center",children:M?d.jsxs(d.Fragment,{children:[d.jsx(st,{className:"w-4 h-4 mr-2 animate-spin"}),"Campaign Active..."]}):d.jsxs(d.Fragment,{children:[d.jsx(kn,{className:"w-4 h-4 mr-2"}),"Start Auto-Dialer"]})})]})]})]})})]})},Pse=()=>{const[e,t]=_.useState([]),[n,r]=_.useState([]),[i,o]=_.useState(!0),[l,c]=_.useState(null),h=async()=>{const g=await Ce("/contacts");t(Array.isArray(g)?g:[])},f=async()=>{const g=await Ce("/calls");r(Array.isArray(g)?g:[])},m=async()=>{const g=await Ce("/api/voice/agents");Array.isArray(g)&&g.length>0&&c(g[0])};return _.useEffect(()=>{(async()=>{try{o(!0),await Promise.all([h(),f(),m()])}catch(g){console.error("CallWorkspace load error:",g)}finally{o(!1)}})()},[]),i?d.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:"Loading Call Workspace..."}):l?d.jsx(Cse,{leads:e,logs:n,setLogs:r,agent:l}):d.jsx("div",{className:"flex items-center justify-center h-full text-red-500",children:"No AI Agent found. Please create an agent first."})},$P=({navigate:e})=>{const[t,n]=_.useState(null),[r,i]=_.useState(!0);_.useEffect(()=>{(async()=>{try{i(!0);const c=await Ce("/admin/dashboard/stats");n(c)}catch(c){console.error("Failed to fetch dashboard stats:",c)}finally{i(!1)}})()},[]);const o=[{label:"Total Users",value:(t==null?void 0:t.totalUsers)??0,icon:sh,color:"blue"},{label:"Total Agents",value:(t==null?void 0:t.totalAgents)??0,icon:$d,color:"green"},{label:"Total Contacts",value:(t==null?void 0:t.totalContacts)??0,icon:kn,color:"indigo"},{label:"Total Calls",value:(t==null?void 0:t.totalCalls)??0,icon:w0,color:"purple"}];return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Super Admin Dashboard"}),d.jsx("p",{className:"text-slate-600 mt-1",children:"Welcome to the Super Admin control panel"})]}),r?d.jsx("div",{className:"flex items-center justify-center h-32",children:d.jsx(st,{className:"w-8 h-8 animate-spin text-blue-600"})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map(l=>d.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-6 shadow-sm hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-600",children:l.label}),d.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:l.value})]}),d.jsx("div",{className:`p-3 rounded-lg bg-${l.color}-50`,children:d.jsx(l.icon,{className:`w-6 h-6 text-${l.color}-600`})})]})},l.label))}),(t==null?void 0:t.planBreakdown)&&Object.keys(t.planBreakdown).length>0&&d.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 shadow-sm",children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Plan Distribution"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["Starter","Pro","Enterprise"].map(l=>d.jsxs("div",{className:`p-4 rounded-lg border ${l==="Starter"?"border-blue-200 bg-blue-50":l==="Pro"?"border-green-200 bg-green-50":"border-purple-200 bg-purple-50"}`,children:[d.jsx("p",{className:"text-sm font-medium text-slate-600",children:l}),d.jsxs("p",{className:"text-xl font-bold text-slate-900",children:[t.planBreakdown[l]||0," users"]})]},l))})]}),d.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 shadow-sm",children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quick Actions"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("button",{onClick:()=>e("/admin/users"),className:"p-4 border border-slate-200 rounded-lg hover:bg-blue-50 transition-colors text-left",children:[d.jsx("h3",{className:"font-semibold text-slate-900",children:"User Management"}),d.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Manage users and their accounts"})]}),d.jsxs("button",{onClick:()=>e("/admin/cms/privacy"),className:"p-4 border border-slate-200 rounded-lg hover:bg-purple-50 transition-colors text-left",children:[d.jsx("h3",{className:"font-semibold text-slate-900",children:"CMS Pages"}),d.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Update privacy, terms, and FAQs"})]})]})]})]})},Ise=({navigate:e})=>{const[t,n]=_.useState([]),[r,i]=_.useState([]),[o,l]=_.useState(!0),[c,h]=_.useState(""),[f,m]=_.useState("all"),[g,y]=_.useState(1),[w,N]=_.useState(""),A=20;_.useEffect(()=>{E()},[]),_.useEffect(()=>{C()},[t,c,f]);const E=async()=>{try{l(!0);const R=await Ce("/admin/users");n(R.users||[])}catch(R){console.error("Failed to fetch users:",R),N("Failed to load users"),setTimeout(()=>N(""),3e3)}finally{l(!1)}},C=()=>{let R=[...t];if(c.trim()){const D=c.toLowerCase();R=R.filter(z=>z.name&&z.name.toLowerCase().includes(D)||z.email&&z.email.toLowerCase().includes(D))}f!=="all"&&(R=R.filter(D=>D.accountType===f)),i(R),y(1)},P=async R=>{if(confirm("Are you sure you want to delete this user?"))try{await Ce(`/admin/users/${R}/suspend`,{method:"POST"}),N(" User deleted successfully"),E(),setTimeout(()=>N(""),3e3)}catch(D){console.error("Failed to delete user:",D),N(" Failed to delete user"),setTimeout(()=>N(""),3e3)}},O=Math.ceil(r.length/A),M=(g-1)*A,k=M+A,I=r.slice(M,k);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:()=>e("/admin"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:d.jsx(uo,{className:"w-5 h-5 text-slate-600"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"User Management"}),d.jsxs("p",{className:"text-slate-600 mt-1",children:["Total users: ",d.jsx("span",{className:"font-semibold text-slate-900",children:t.length})]})]})]}),w&&d.jsx("div",{className:"p-4 rounded-lg bg-blue-50 text-blue-700 border border-blue-200",children:w}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-white rounded-lg border border-slate-200 p-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(oh,{className:"absolute left-3 top-3 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Search by name or email...",value:c,onChange:R=>h(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("select",{value:f,onChange:R=>m(R.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"All Account Types"}),d.jsx("option",{value:"Starter",children:"Starter"}),d.jsx("option",{value:"Pro",children:"Pro"}),d.jsx("option",{value:"Enterprise",children:"Enterprise"})]})]}),d.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:o?d.jsx("div",{className:"p-8 text-center text-slate-600",children:d.jsx("p",{children:"Loading users..."})}):r.length===0?d.jsx("div",{className:"p-8 text-center text-slate-600",children:d.jsx("p",{children:"No users found"})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600",children:"User ID"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600",children:"Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600",children:"Email"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600",children:"Phone"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600",children:"Account Type"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-slate-600",children:"Agents"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-slate-600",children:"Contacts"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-slate-600",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-200",children:I.map(R=>{var D,z;return d.jsxs("tr",{className:"hover:bg-slate-50",children:[d.jsxs("td",{className:"px-6 py-3 text-sm text-slate-600 font-mono",children:[R._id.slice(0,8),"..."]}),d.jsx("td",{className:"px-6 py-3 text-sm font-medium text-slate-900",children:R.name||"N/A"}),d.jsx("td",{className:"px-6 py-3 text-sm text-slate-600",children:R.email}),d.jsx("td",{className:"px-6 py-3 text-sm text-slate-600",children:R.phone||"N/A"}),d.jsx("td",{className:"px-6 py-3 text-sm",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${R.accountType==="Starter"?"bg-blue-100 text-blue-800":R.accountType==="Pro"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:R.accountType||"Starter"})}),d.jsx("td",{className:"px-6 py-3 text-center text-sm text-slate-700 font-medium",children:((D=R.stats)==null?void 0:D.agents)??0}),d.jsx("td",{className:"px-6 py-3 text-center text-sm text-slate-700 font-medium",children:((z=R.stats)==null?void 0:z.contacts)??0}),d.jsx("td",{className:"px-6 py-3 text-center",children:d.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[d.jsx("button",{onClick:()=>e(`/admin/users/${R._id}`),className:"p-2 hover:bg-blue-50 rounded text-blue-600 transition-colors",title:"View details",children:d.jsx(Jd,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>P(R._id),className:"p-2 hover:bg-red-50 rounded text-red-600 transition-colors",title:"Delete user",children:d.jsx(Ca,{className:"w-4 h-4"})})]})})]},R._id)})})]})}),O>1&&d.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 flex items-center justify-between bg-slate-50",children:[d.jsxs("p",{className:"text-sm text-slate-600",children:["Page ",g," of ",O," (",r.length," total)"]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>y(Math.max(1,g-1)),disabled:g===1,className:"p-2 hover:bg-white disabled:opacity-50 rounded border border-slate-300",children:d.jsx(QP,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>y(Math.min(O,g+1)),disabled:g===O,className:"p-2 hover:bg-white disabled:opacity-50 rounded border border-slate-300",children:d.jsx(Jy,{className:"w-4 h-4"})})]})]})]})})]})},Mse=({userId:e,navigate:t})=>{const[n,r]=_.useState([]),[i,o]=_.useState([]),[l,c]=_.useState(!0),[h,f]=_.useState(""),[m,g]=_.useState(1),[y,w]=_.useState(""),N=50;_.useEffect(()=>{A()},[e]),_.useEffect(()=>{E()},[n,h]);const A=async()=>{try{c(!0);const R=((await Ce(`/admin/users/${e}/contacts`)).contacts||[]).map(D=>({...D,name:`${D.firstName||""} ${D.lastName||""}`.trim()||D.email||"Unknown"}));r(R)}catch(I){console.error("Failed to fetch contacts:",I),w("Failed to load contacts"),setTimeout(()=>w(""),3e3)}finally{c(!1)}},E=()=>{let I=[...n];if(h.trim()){const R=h.toLowerCase();I=I.filter(D=>D.name&&D.name.toLowerCase().includes(R)||D.phone&&D.phone.toLowerCase().includes(R)||D.email&&D.email.toLowerCase().includes(R))}o(I),g(1)},C=async I=>{if(confirm("Are you sure you want to archive this lead?"))try{n.find(D=>D._id===I)&&(await Ce(`/admin/leads/${I}`,{method:"DELETE"},"core"),w(" Lead archived successfully"),A(),setTimeout(()=>w(""),3e3))}catch(R){console.error("Failed to archive lead:",R),w(" Failed to archive lead"),setTimeout(()=>w(""),3e3)}},P=Math.ceil(i.length/N),O=(m-1)*N,M=O+N,k=i.slice(O,M);return d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Leads"}),y&&d.jsx("div",{className:"p-4 rounded-lg bg-blue-50 text-blue-700 border border-blue-200",children:y}),d.jsxs("div",{className:"relative",children:[d.jsx(oh,{className:"absolute left-3 top-3 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Search by name, phone, or email...",value:h,onChange:I=>f(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:l?d.jsx("div",{className:"p-8 text-center text-slate-600",children:d.jsx("p",{children:"Loading leads..."})}):i.length===0?d.jsx("div",{className:"p-8 text-center text-slate-600",children:d.jsx("p",{children:"No leads found"})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600",children:"S.No."}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600",children:"Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600",children:"Phone"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600",children:"Email"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-slate-600",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-200",children:k.map((I,R)=>d.jsxs("tr",{className:`hover:bg-slate-50 ${I.isArchived?"bg-red-50":""}`,children:[d.jsx("td",{className:"px-6 py-3 text-sm text-slate-600",children:O+R+1}),d.jsx("td",{className:"px-6 py-3 text-sm font-medium text-slate-900",children:I.name||"N/A"}),d.jsx("td",{className:"px-6 py-3 text-sm text-slate-600",children:I.phone||"N/A"}),d.jsx("td",{className:"px-6 py-3 text-sm text-slate-600",children:I.email||"N/A"}),d.jsx("td",{className:"px-6 py-3 text-sm",children:I.isArchived?d.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Archived"}):d.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})}),d.jsx("td",{className:"px-6 py-3 text-center",children:d.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[d.jsx("button",{onClick:()=>t(`/admin/leads/${I._id}`),className:"p-2 hover:bg-blue-50 rounded text-blue-600 transition-colors",title:"View details",children:d.jsx(Jd,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>C(I._id),className:"p-2 hover:bg-red-50 rounded text-red-600 transition-colors",title:"Archive lead",children:d.jsx(Ca,{className:"w-4 h-4"})})]})})]},I._id))})]})}),P>1&&d.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 flex items-center justify-between bg-slate-50",children:[d.jsxs("p",{className:"text-sm text-slate-600",children:["Page ",m," of ",P," (",i.length," total)"]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>g(Math.max(1,m-1)),disabled:m===1,className:"p-2 hover:bg-white disabled:opacity-50 rounded border border-slate-300",children:d.jsx(QP,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>g(Math.min(P,m+1)),disabled:m===P,className:"p-2 hover:bg-white disabled:opacity-50 rounded border border-slate-300",children:d.jsx(Jy,{className:"w-4 h-4"})})]})]})]})})]})},Ose=({isOpen:e,onClose:t,userId:n})=>{const[r,i]=_.useState([]),[o,l]=_.useState(!1);_.useEffect(()=>{e&&c()},[e,n]);const c=async()=>{try{l(!0);const f=await Ce(`/admin/users/${n}`,{method:"GET"},"core");f.invoices&&i(f.invoices)}catch(f){console.error("Failed to fetch invoices:",f)}finally{l(!1)}},h=f=>{if(!f)return"N/A";const[m,g]=f.split("-");return!m||!g?new Date(f).toLocaleDateString("en-US",{month:"long",year:"numeric"}):new Date(parseInt(m),parseInt(g)-1).toLocaleDateString("en-US",{month:"long",year:"numeric"})};return e?d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl overflow-hidden flex flex-col max-h-[80vh]",onClick:f=>f.stopPropagation(),children:[d.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 flex justify-between items-center bg-slate-50 shrink-0",children:[d.jsxs("h3",{className:"font-bold text-lg text-slate-900 flex items-center",children:[d.jsx(pr,{className:"w-5 h-5 mr-3 text-slate-500"}),"Invoice History"]}),d.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:d.jsx(Sn,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:o?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx("p",{className:"text-slate-600",children:"Loading invoices..."})}):r.length>0?d.jsxs("table",{className:"min-w-full divide-y divide-slate-100",children:[d.jsx("thead",{className:"bg-white sticky top-0 z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Month"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Inbound"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Outbound"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Total"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Breakdown"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-slate-100",children:r.map(f=>d.jsxs("tr",{className:"hover:bg-slate-50",children:[d.jsxs("td",{className:"px-6 py-4",children:[d.jsx("div",{className:"text-sm font-bold text-slate-900",children:h(f.month)}),d.jsx("div",{className:"text-xs text-slate-500",children:f.generatedAt?new Date(f.generatedAt).toLocaleDateString():"N/A"})]}),d.jsxs("td",{className:"px-6 py-4",children:[d.jsxs("div",{className:"text-sm text-slate-900",children:[f.inboundMinutes||0," mins"]}),d.jsxs("div",{className:"text-xs text-slate-500",children:["$",(f.inboundCost||0).toFixed(2)]})]}),d.jsxs("td",{className:"px-6 py-4",children:[d.jsxs("div",{className:"text-sm text-slate-900",children:[f.outboundMinutes||0," mins"]}),d.jsxs("div",{className:"text-xs text-slate-500",children:["$",(f.outboundCost||0).toFixed(2)]})]}),d.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:["$",f.totalAmount.toFixed(2)]}),d.jsx("td",{className:"px-6 py-4 text-right",children:d.jsx("div",{className:"text-xs text-slate-600 space-y-1",children:f.breakdown&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:["LLM: $",f.breakdown.llm.toFixed(2)]}),d.jsxs("div",{children:["STT: $",f.breakdown.stt.toFixed(2)]}),d.jsxs("div",{children:["TTS: $",f.breakdown.tts.toFixed(2)]}),d.jsxs("div",{children:["Infra: $",f.breakdown.infrastructure.toFixed(2)]})]})})})]},f._id))})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[d.jsx(pr,{className:"w-16 h-16 text-slate-300 mb-4"}),d.jsx("p",{className:"text-slate-600 font-medium",children:"No invoices yet"}),d.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Invoices will appear here after user makes calls"})]})})]})}):null},jse=({navigate:e,userId:t})=>{var O;const[n,r]=_.useState(null),[i,o]=_.useState(!0),[l,c]=_.useState("Starter"),[h,f]=_.useState(!1),[m,g]=_.useState(""),[y,w]=_.useState(!1),[N,A]=_.useState(!1);_.useEffect(()=>{E()},[t]);const E=async()=>{try{o(!0);const M=await Ce(`/admin/users/${t}`);M.user&&(r(M.user),c(M.user.accountType||"Starter"))}catch(M){console.error("Failed to fetch user details:",M),g("Failed to load user details"),setTimeout(()=>g(""),3e3)}finally{o(!1)}},C=async M=>{if(n)try{w(!0),await Ce(`/admin/users/${t}/account-type`,{method:"PUT",body:JSON.stringify({newPlan:M})},"core"),c(M),g(` Account upgraded to ${M}`),setTimeout(()=>g(""),3e3),E()}catch(k){console.error("Failed to change account type:",k),g(" Failed to update account type"),setTimeout(()=>g(""),3e3)}finally{w(!1)}},P=async()=>{try{w(!0),await Ce(`/admin/users/${t}/export`,{method:"GET"},"core"),g(" Data export started"),setTimeout(()=>g(""),3e3)}catch(M){console.error("Failed to export data:",M),g("Failed to export data"),setTimeout(()=>g(""),3e3)}finally{w(!1)}};return i?d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsx("p",{className:"text-slate-600",children:"Loading user details..."})}):n?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:()=>e("/admin/users"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:d.jsx(uo,{className:"w-5 h-5 text-slate-600"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:n.name}),d.jsxs("p",{className:"text-slate-600 mt-1",children:["User ID: ",n._id.slice(0,12),"..."]})]})]}),m&&d.jsx("div",{className:"p-4 rounded-lg bg-blue-50 text-blue-700 border border-blue-200",children:m}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-white rounded-lg border border-slate-200 p-6",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-600",children:"Email"}),d.jsx("p",{className:"text-lg font-semibold text-slate-900",children:n.email})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-600",children:"Phone"}),d.jsx("p",{className:"text-lg font-semibold text-slate-900",children:n.phone||"N/A"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-600",children:"Member Since"}),d.jsx("p",{className:"text-lg font-semibold text-slate-900",children:n.createdAt?new Date(n.createdAt).toLocaleDateString():"N/A"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 space-y-6",children:[d.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Account Overview"}),d.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg space-y-3",children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Account Type"}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("select",{value:l,onChange:M=>C(M.target.value),disabled:y,className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"Starter",children:"Starter"}),d.jsx("option",{value:"Pro",children:"Pro"}),d.jsx("option",{value:"Enterprise",children:"Enterprise"})]}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${l==="Starter"?"bg-blue-100 text-blue-800":l==="Pro"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:l})]}),d.jsx("p",{className:"text-xs text-slate-500",children:"Changes take effect immediately"})]}),d.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg space-y-3",children:[d.jsxs("button",{onClick:()=>f(!h),className:"w-full flex items-center justify-between px-4 py-2 hover:bg-slate-50 rounded-lg transition-colors",children:[d.jsxs("span",{className:"font-semibold text-slate-700",children:[((O=n.agents)==null?void 0:O.length)||0," Agents Created"]}),d.jsx(Yr,{className:`w-5 h-5 transition-transform ${h?"rotate-180":""}`})]}),h&&n.agents&&n.agents.length>0&&d.jsx("div",{className:"mt-2 space-y-2 pl-4 border-l-2 border-slate-300",children:n.agents.map(M=>d.jsxs("div",{className:"py-1 text-sm text-slate-600",children:[" ",M.name]},M._id))})]}),n.voipProvider&&d.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg space-y-3",children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"VOIP Service Provider"}),d.jsx("div",{className:"inline-block px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm font-medium",children:n.voipProvider})]}),n.voipNumbers&&n.voipNumbers.length>0&&d.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg space-y-3",children:[d.jsxs("h3",{className:"font-semibold text-slate-700 flex items-center space-x-2",children:[d.jsx(kn,{className:"w-5 h-5"}),d.jsx("span",{children:"VOIP Numbers"})]}),d.jsx("div",{className:"space-y-2 pl-4 border-l-2 border-slate-300",children:n.voipNumbers.map((M,k)=>d.jsxs("div",{className:"py-1 text-sm text-slate-600",children:[d.jsx("span",{className:"font-mono font-semibold",children:M.number}),M.agentName&&d.jsxs("span",{className:"text-slate-500 ml-2",children:[" Assigned to: ",M.agentName]})]},k))})]}),d.jsxs("div",{className:"flex items-center space-x-3 pt-4 border-t border-slate-200",children:[d.jsxs("button",{onClick:P,disabled:y,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[d.jsx(eI,{className:"w-5 h-5"}),d.jsx("span",{children:"Download User Data"})]}),d.jsxs("button",{onClick:()=>A(!0),className:"flex items-center space-x-2 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:[d.jsx(pr,{className:"w-5 h-5"}),d.jsx("span",{children:"Invoices"})]})]})]}),d.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:d.jsx(Mse,{userId:t,navigate:e})}),d.jsx(Ose,{isOpen:N,onClose:()=>A(!1),userId:t})]}):d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:()=>e("/admin/users"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:d.jsx(uo,{className:"w-5 h-5 text-slate-600"})}),d.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"User Not Found"})]})})},kse=({navigate:e,leadId:t})=>{var f;const[n,r]=_.useState(null),[i,o]=_.useState(!0),[l,c]=_.useState(null);_.useEffect(()=>{h()},[t]);const h=async()=>{try{o(!0);const m=await Ce(`/admin/leads/${t}`);m.lead&&r(m.lead)}catch(m){console.error("Failed to fetch lead details:",m)}finally{o(!1)}};return i?d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsx("p",{className:"text-slate-600",children:"Loading lead details..."})}):n?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:()=>e("/admin/users"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:d.jsx(uo,{className:"w-5 h-5 text-slate-600"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:n.name}),d.jsxs("p",{className:"text-slate-600 mt-1",children:["Lead ID: ",n._id.slice(0,12),"..."]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-white rounded-lg border border-slate-200 p-6",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-600",children:"Phone"}),d.jsx("p",{className:"text-lg font-semibold text-slate-900",children:n.phone||"N/A"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-600",children:"Email"}),d.jsx("p",{className:"text-lg font-semibold text-slate-900",children:n.email||"N/A"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-600",children:"Company"}),d.jsx("p",{className:"text-lg font-semibold text-slate-900",children:n.company||"N/A"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 space-y-4",children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-900",children:["Calls (",((f=n.calls)==null?void 0:f.length)||0,")"]}),!n.calls||n.calls.length===0?d.jsx("p",{className:"text-slate-600",children:"No calls found for this lead"}):d.jsx("div",{className:"space-y-3",children:n.calls.map(m=>d.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[d.jsxs("button",{onClick:()=>c(l===m._id?null:m._id),className:"w-full p-4 hover:bg-slate-50 flex items-center justify-between transition-colors",children:[d.jsxs("div",{className:"flex items-center space-x-4 flex-1 text-left",children:[m.status==="Completed"?d.jsx(Yd,{className:"w-5 h-5 text-green-600"}):d.jsx(Pi,{className:"w-5 h-5 text-amber-600"}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-semibold text-slate-900",children:["Call ",m._id.slice(0,8),"..."]}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-600 mt-1",children:[m.startTime&&d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(ZP,{className:"w-4 h-4"}),d.jsx("span",{children:new Date(m.startTime).toLocaleString()})]}),m.duration&&d.jsxs("span",{children:[m.duration,"s"]}),d.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${m.status==="Completed"?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:m.status||"Unknown"})]})]})]}),d.jsx(Yr,{className:`w-5 h-5 text-slate-600 transition-transform ${l===m._id?"rotate-180":""}`})]}),l===m._id&&d.jsxs("div",{className:"border-t border-slate-200 bg-slate-50 p-4 space-y-4",children:[m.recording&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-semibold text-slate-700",children:"Recording"}),d.jsx("audio",{controls:!0,className:"w-full",src:m.recording})]}),m.overview&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-semibold text-slate-700",children:"Overview"}),d.jsx("p",{className:"text-slate-600 text-sm",children:m.overview})]}),m.summary&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-semibold text-slate-700",children:"Summary"}),d.jsx("p",{className:"text-slate-600 text-sm",children:m.summary})]}),m.transcript&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-semibold text-slate-700",children:"Transcript"}),d.jsx("div",{className:"bg-white p-3 rounded border border-slate-300 max-h-64 overflow-y-auto",children:d.jsx("p",{className:"text-slate-600 text-sm font-mono whitespace-pre-wrap",children:m.transcript})})]})]})]},m._id))})]})]}):d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:()=>e("/admin/users"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:d.jsx(uo,{className:"w-5 h-5 text-slate-600"})}),d.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Lead Not Found"})]})})},KP=({navigate:e,type:t})=>{const[n,r]=_.useState([]),[i,o]=_.useState(!0),[l,c]=_.useState(!1),[h,f]=_.useState("");_.useEffect(()=>{m()},[t]);const m=async()=>{try{o(!0);const E=await Ce(`/admin/cms/${t}`);if(E&&E.content){const C=t==="privacy"?E.content.sections||[]:E.content.faqs||[];r(C.length>0?C:[{id:"1"}])}}catch(E){console.error("Failed to fetch CMS content:",E),r([{id:"1"}])}finally{o(!1)}},g=()=>{r([...n,{id:`section-${Date.now()}`}])},y=E=>{n.length>1&&r(n.filter(C=>C.id!==E))},w=(E,C,P)=>{r(n.map(O=>O.id===E?{...O,[C]:P}:O))},N=async()=>{try{c(!0);const E={type:t,content:t==="privacy"?{sections:n}:{faqs:n}};await Ce(`/admin/cms/${t}`,{method:"POST",body:JSON.stringify(E)},"core"),f(" Content saved successfully"),setTimeout(()=>f(""),3e3)}catch(E){console.error("Failed to save CMS content:",E),f(" Failed to save content")}finally{c(!1)}},A=t==="privacy"?"Privacy & Terms":"FAQs";return i?d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsx("p",{className:"text-slate-600",children:"Loading..."})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:()=>e("/admin"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:d.jsx(uo,{className:"w-5 h-5 text-slate-600"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:A}),d.jsxs("p",{className:"text-slate-600 mt-1",children:["Edit ",A.toLowerCase()," content"]})]})]}),h&&d.jsx("div",{className:"p-4 rounded-lg bg-blue-50 text-blue-700 border border-blue-200",children:h}),d.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 space-y-6",children:[n.map((E,C)=>d.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"font-semibold text-slate-900",children:t==="privacy"?`Section ${C+1}`:`Q&A ${C+1}`}),n.length>1&&d.jsx("button",{onClick:()=>y(E.id),className:"p-1 hover:bg-red-50 rounded text-red-600",children:d.jsx(Sn,{className:"w-5 h-5"})})]}),t==="privacy"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Heading"}),d.jsx("input",{type:"text",value:E.heading||"",onChange:P=>w(E.id,"heading",P.target.value),placeholder:"Enter heading",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Message"}),d.jsx("textarea",{value:E.message||"",onChange:P=>w(E.id,"message",P.target.value),placeholder:"Enter message",rows:4,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Question"}),d.jsx("input",{type:"text",value:E.question||"",onChange:P=>w(E.id,"question",P.target.value),placeholder:"Enter question",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Answer"}),d.jsx("textarea",{value:E.answer||"",onChange:P=>w(E.id,"answer",P.target.value),placeholder:"Enter answer",rows:4,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm"})]})]})]},E.id)),d.jsxs("button",{onClick:g,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 border-2 border-dashed border-slate-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors text-slate-600 hover:text-blue-600",children:[d.jsx(Ta,{className:"w-5 h-5"}),d.jsxs("span",{children:["Add ",t==="privacy"?"Section":"Q&A"]})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{onClick:N,disabled:l,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[d.jsx(oI,{className:"w-5 h-5"}),d.jsx("span",{children:l?"Saving...":"Save Changes"})]})})]})},YP=({navigate:e,title:t,description:n})=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:()=>e("/admin"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:d.jsx(uo,{className:"w-5 h-5 text-slate-600"})}),d.jsx("div",{children:d.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:t})})]}),d.jsxs("div",{className:"flex flex-col items-center justify-center h-96 bg-white rounded-lg border border-slate-200 space-y-4",children:[d.jsx("div",{className:"p-4 bg-amber-50 rounded-full",children:d.jsx(ZP,{className:"w-8 h-8 text-amber-600"})}),d.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Coming Soon"}),d.jsx("p",{className:"text-slate-600 text-center max-w-md",children:n})]})]}),Rse=()=>{const[e,t]=_.useState(!1);_.useEffect(()=>{const A=localStorage.getItem("token"),E=localStorage.getItem("loginTime");if(A&&E){const C=Date.now()-parseInt(E,10),P=2880*60*1e3;C>P?(localStorage.removeItem("token"),localStorage.removeItem("loginTime"),localStorage.removeItem("user"),t(!1)):(t(!0),localStorage.getItem("user")||n())}else t(!1)},[]);const n=async()=>{try{const A=await Ce("/auth/me");A.user&&localStorage.setItem("user",JSON.stringify(A.user))}catch(A){console.error("Failed to fetch user profile:",A)}};_.useEffect(()=>{const A=new URLSearchParams(window.location.search),E=A.get("token"),C=A.get("firstLogin");E&&(localStorage.setItem("token",E),localStorage.setItem("loginTime",Date.now().toString()),n(),C==="true"?(localStorage.setItem("forceOnboarding","true"),i("/onboarding")):i("/dashboard"),t(!0),window.history.replaceState({},document.title,"/"))},[]);const[r,i]=_.useState("/dashboard"),[o,l]=_.useState(!1);_.useEffect(()=>{if(!e)i("/login"),l(!1);else{const A=localStorage.getItem("user"),E=A?JSON.parse(A):null,C=(E==null?void 0:E.role)==="admin"||(E==null?void 0:E.role)==="superadmin";l(C),localStorage.getItem("forceOnboarding")==="true"?i("/onboarding"):r==="/login"&&i("/dashboard")}},[e]);const c=A=>{if(A.startsWith("/admin")&&!o){i("/dashboard");return}i(A)},[h,f]=_.useState(()=>{const A=localStorage.getItem("voxai_agent");if(A){const E=JSON.parse(A);return{...E,welcomeMessage:E.welcomeMessage||"Hello, I'm calling from Shreenika AI. How are you today?",knowledgeBase:E.knowledgeBase||[],language:E.language||"English (US)",characteristics:E.characteristics||["Friendly","Professional"],maxCallDuration:E.maxCallDuration||3600,voicemailDetection:E.voicemailDetection??!0,voicemailAction:E.voicemailAction||"Hang up",voicemailMessage:E.voicemailMessage||"Hello, I was calling regarding an inquiry. Please call back.",voiceSpeed:E.voiceSpeed||1,interruptionSensitivity:E.interruptionSensitivity||.5,responsiveness:E.responsiveness||.5,emotionLevel:E.emotionLevel||.5,backgroundNoise:E.backgroundNoise||"Office"}}return{name:"Shreenika AI",title:"Sales Executive",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Shreenika",language:"English (US)",voiceId:"Monika (en-IN)",characteristics:["Friendly","Professional","Persuasive"],age:28,welcomeMessage:"Hello! This is Shreenika calling from the reception. How can I assist you today?",prompt:"",knowledgeBase:[],callingLimit:60,maxCallDuration:3600,silenceDetectionMs:15,voicemailDetection:!0,voicemailAction:"Hang up",voicemailMessage:"Hello, this is Shreenika. Please give us a call back when you are free.",voiceSpeed:1,interruptionSensitivity:.5,responsiveness:.5,emotionLevel:.8,backgroundNoise:"Office",voipProvider:null,voipApiKey:"",voipSid:""}}),[m,g]=_.useState(()=>{const A=localStorage.getItem("voxai_leads");return A?JSON.parse(A):[]}),[y,w]=_.useState(()=>{const A=localStorage.getItem("voxai_logs");return A?JSON.parse(A):[]});_.useEffect(()=>{localStorage.setItem("voxai_agent",JSON.stringify(h))},[h]),_.useEffect(()=>{localStorage.setItem("voxai_leads",JSON.stringify(m))},[m]),_.useEffect(()=>{localStorage.setItem("voxai_logs",JSON.stringify(y))},[y]);const N=()=>{if(window.location.pathname.startsWith("/reset-password"))return d.jsx(Roe,{});if(!e)return d.jsx(u6,{onLogin:()=>{localStorage.setItem("loginTime",Date.now().toString()),t(!0);const E=localStorage.getItem("forceOnboarding")==="true";i(E?"/onboarding":"/dashboard")}});if(r==="/onboarding")return d.jsx(f6,{setAgent:E=>{f(E),localStorage.removeItem("forceOnboarding")},navigate:c});const A=()=>{if(o&&r.startsWith("/admin")){if(r.startsWith("/admin/leads/")&&r!=="/admin/leads"){const E=r.replace("/admin/leads/","");return d.jsx(kse,{navigate:c,leadId:E})}if(r.startsWith("/admin/users/")&&r!=="/admin/users"){const E=r.replace("/admin/users/","");return d.jsx(jse,{navigate:c,userId:E})}switch(r){case"/admin":return d.jsx($P,{navigate:c});case"/admin/users":return d.jsx(Ise,{navigate:c});case"/admin/cms/privacy":return d.jsx(KP,{navigate:c,type:"privacy"});case"/admin/cms/faqs":return d.jsx(KP,{navigate:c,type:"faqs"});case"/admin/cms/tickets":return d.jsx(YP,{navigate:c,title:"Support Tickets",description:"Ticket management system coming soon"});case"/admin/cms/affiliate":return d.jsx(YP,{navigate:c,title:"Affiliate Center",description:"Affiliate program management coming soon"});default:return d.jsx($P,{navigate:c})}}switch(r){case"/dashboard":return d.jsx(n2,{logs:y,leadCount:m.length});case"/agents":return d.jsx(Toe,{agent:h,setAgent:f,navigate:c});case"/knowledge":return d.jsx(Ioe,{agent:h,setAgent:f});case"/leads":return d.jsx(Coe,{leads:m,setLeads:g});case"/calls":return d.jsx(Pse,{leads:m,logs:y,setLogs:w,agent:h});case"/usage":return d.jsx(Moe,{});case"/settings":return d.jsx(koe,{});default:return d.jsx(n2,{logs:y,leadCount:m.length})}};return o&&r.startsWith("/admin")?d.jsx(F4,{currentPath:r,navigate:c,setIsAuthenticated:t,children:d.jsx(A,{})}):d.jsx(q4,{currentPath:r,navigate:c,setIsAuthenticated:t,children:d.jsx(A,{})})};return d.jsx(d.Fragment,{children:N()})},PD=document.getElementById("root");if(!PD)throw new Error("Could not find root element to mount to");const Dse=a3.createRoot(PD);Dse.render(d.jsx(JP.StrictMode,{children:d.jsx(Rse,{})}));
